var LL=Object.defineProperty;var FL=(e,t,n)=>t in e?LL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var mg=(e,t,n)=>FL(e,typeof t!="symbol"?t+"":t,n);function BL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gg={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1;function zL(){if($1)return Vl;$1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Vl.Fragment=t,Vl.jsx=n,Vl.jsxs=n,Vl}var H1;function qL(){return H1||(H1=1,gg.exports=zL()),gg.exports}var w=qL(),vg={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function $L(){if(G1)return Re;G1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function x(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function T(L,ee,re){this.props=L,this.context=ee,this.refs=A,this.updater=re||S}T.prototype.isReactComponent={},T.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},T.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function k(){}k.prototype=T.prototype;function R(L,ee,re){this.props=L,this.context=ee,this.refs=A,this.updater=re||S}var O=R.prototype=new k;O.constructor=R,E(O,T.prototype),O.isPureReactComponent=!0;var P=Array.isArray;function M(){}var D={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function B(L,ee,re){var le=re.ref;return{$$typeof:e,type:L,key:ee,ref:le!==void 0?le:null,props:re}}function J(L,ee){return B(L.type,ee,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function G(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return ee[re]})}var Z=/\/+/g;function Y(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?G(""+L.key):ee.toString(36)}function ie(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(M,M):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,ee,re,le,me){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(Te){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case e:case t:Ce=!0;break;case h:return Ce=L._init,q(Ce(L._payload),ee,re,le,me)}}if(Ce)return me=me(L),Ce=le===""?"."+Y(L,0):le,P(me)?(re="",Ce!=null&&(re=Ce.replace(Z,"$&/")+"/"),q(me,ee,re,"",function(ke){return ke})):me!=null&&(U(me)&&(me=J(me,re+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(Z,"$&/")+"/")+Ce)),ee.push(me)),1;Ce=0;var Rt=le===""?".":le+":";if(P(L))for(var ae=0;ae<L.length;ae++)le=L[ae],Te=Rt+Y(le,ae),Ce+=q(le,ee,re,Te,me);else if(ae=x(L),typeof ae=="function")for(L=ae.call(L),ae=0;!(le=L.next()).done;)le=le.value,Te=Rt+Y(le,ae++),Ce+=q(le,ee,re,Te,me);else if(Te==="object"){if(typeof L.then=="function")return q(ie(L),ee,re,le,me);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function X(L,ee,re){if(L==null)return L;var le=[],me=0;return q(L,le,"","",function(Te){return ee.call(re,Te,me++)}),le}function te(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var ce=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ve={map:X,forEach:function(L,ee,re){X(L,function(){ee.apply(this,arguments)},re)},count:function(L){var ee=0;return X(L,function(){ee++}),ee},toArray:function(L){return X(L,function(ee){return ee})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Re.Activity=m,Re.Children=ve,Re.Component=T,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=R,Re.StrictMode=r,Re.Suspense=d,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Re.__COMPILER_RUNTIME={__proto__:null,c:function(L){return D.H.useMemoCache(L)}},Re.cache=function(L){return function(){return L.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(L,ee,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=E({},L.props),me=L.key;if(ee!=null)for(Te in ee.key!==void 0&&(me=""+ee.key),ee)!F.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(le[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)le.children=re;else if(1<Te){for(var Ce=Array(Te),Rt=0;Rt<Te;Rt++)Ce[Rt]=arguments[Rt+2];le.children=Ce}return B(L.type,me,le)},Re.createContext=function(L){return L={$$typeof:l,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Re.createElement=function(L,ee,re){var le,me={},Te=null;if(ee!=null)for(le in ee.key!==void 0&&(Te=""+ee.key),ee)F.call(ee,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=ee[le]);var Ce=arguments.length-2;if(Ce===1)me.children=re;else if(1<Ce){for(var Rt=Array(Ce),ae=0;ae<Ce;ae++)Rt[ae]=arguments[ae+2];me.children=Rt}if(L&&L.defaultProps)for(le in Ce=L.defaultProps,Ce)me[le]===void 0&&(me[le]=Ce[le]);return B(L,Te,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:u,render:L}},Re.isValidElement=U,Re.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:te}},Re.memo=function(L,ee){return{$$typeof:f,type:L,compare:ee===void 0?null:ee}},Re.startTransition=function(L){var ee=D.T,re={};D.T=re;try{var le=L(),me=D.S;me!==null&&me(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(M,ce)}catch(Te){ce(Te)}finally{ee!==null&&re.types!==null&&(ee.types=re.types),D.T=ee}},Re.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Re.use=function(L){return D.H.use(L)},Re.useActionState=function(L,ee,re){return D.H.useActionState(L,ee,re)},Re.useCallback=function(L,ee){return D.H.useCallback(L,ee)},Re.useContext=function(L){return D.H.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L,ee){return D.H.useDeferredValue(L,ee)},Re.useEffect=function(L,ee){return D.H.useEffect(L,ee)},Re.useEffectEvent=function(L){return D.H.useEffectEvent(L)},Re.useId=function(){return D.H.useId()},Re.useImperativeHandle=function(L,ee,re){return D.H.useImperativeHandle(L,ee,re)},Re.useInsertionEffect=function(L,ee){return D.H.useInsertionEffect(L,ee)},Re.useLayoutEffect=function(L,ee){return D.H.useLayoutEffect(L,ee)},Re.useMemo=function(L,ee){return D.H.useMemo(L,ee)},Re.useOptimistic=function(L,ee){return D.H.useOptimistic(L,ee)},Re.useReducer=function(L,ee,re){return D.H.useReducer(L,ee,re)},Re.useRef=function(L){return D.H.useRef(L)},Re.useState=function(L){return D.H.useState(L)},Re.useSyncExternalStore=function(L,ee,re){return D.H.useSyncExternalStore(L,ee,re)},Re.useTransition=function(){return D.H.useTransition()},Re.version="19.2.3",Re}var V1;function Bs(){return V1||(V1=1,vg.exports=$L()),vg.exports}var C=Bs();const zR=Kr(C),HL=BL({__proto__:null,default:zR},[C]);var yg={exports:{}},Kl={},bg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K1;function GL(){return K1||(K1=1,(function(e){function t(q,X){var te=q.length;q.push(X);e:for(;0<te;){var ce=te-1>>>1,ve=q[ce];if(0<i(ve,X))q[ce]=X,q[te]=ve,te=ce;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var X=q[0],te=q.pop();if(te!==X){q[0]=te;e:for(var ce=0,ve=q.length,L=ve>>>1;ce<L;){var ee=2*(ce+1)-1,re=q[ee],le=ee+1,me=q[le];if(0>i(re,te))le<ve&&0>i(me,re)?(q[ce]=me,q[le]=te,ce=le):(q[ce]=re,q[ee]=te,ce=ee);else if(le<ve&&0>i(me,te))q[ce]=me,q[le]=te,ce=le;else break e}}return X}function i(q,X){var te=q.sortIndex-X.sortIndex;return te!==0?te:q.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,m=null,y=3,x=!1,S=!1,E=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(q){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=q)r(f),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(f)}}function P(q){if(E=!1,O(q),!S)if(n(d)!==null)S=!0,M||(M=!0,G());else{var X=n(f);X!==null&&ie(P,X.startTime-q)}}var M=!1,D=-1,F=5,B=-1;function J(){return A?!0:!(e.unstable_now()-B<F)}function U(){if(A=!1,M){var q=e.unstable_now();B=q;var X=!0;try{e:{S=!1,E&&(E=!1,k(D),D=-1),x=!0;var te=y;try{t:{for(O(q),m=n(d);m!==null&&!(m.expirationTime>q&&J());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,y=m.priorityLevel;var ve=ce(m.expirationTime<=q);if(q=e.unstable_now(),typeof ve=="function"){m.callback=ve,O(q),X=!0;break t}m===n(d)&&r(d),O(q)}else r(d);m=n(d)}if(m!==null)X=!0;else{var L=n(f);L!==null&&ie(P,L.startTime-q),X=!1}}break e}finally{m=null,y=te,x=!1}X=void 0}}finally{X?G():M=!1}}}var G;if(typeof R=="function")G=function(){R(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Y=Z.port2;Z.port1.onmessage=U,G=function(){Y.postMessage(null)}}else G=function(){T(U,0)};function ie(q,X){D=T(function(){q(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(q){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var te=y;y=X;try{return q()}finally{y=te}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(q,X){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=y;y=q;try{return X()}finally{y=te}},e.unstable_scheduleCallback=function(q,X,te){var ce=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,q){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=te+ve,q={id:h++,callback:X,priorityLevel:q,startTime:te,expirationTime:ve,sortIndex:-1},te>ce?(q.sortIndex=te,t(f,q),n(d)===null&&q===n(f)&&(E?(k(D),D=-1):E=!0,ie(P,te-ce))):(q.sortIndex=ve,t(d,q),S||x||(S=!0,M||(M=!0,G()))),q},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(q){var X=y;return function(){var te=y;y=X;try{return q.apply(this,arguments)}finally{y=te}}}})(xg)),xg}var Y1;function VL(){return Y1||(Y1=1,bg.exports=GL()),bg.exports}var wg={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J1;function KL(){if(J1)return un;J1=1;var e=Bs();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,h)},un.flushSync=function(d){var f=l.T,h=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=h,r.d.f()}},un.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},un.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},un.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:x}):h==="script"&&r.d.X(d,{crossOrigin:m,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},un.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},un.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=u(h,f.crossOrigin);r.d.L(d,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},un.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},un.requestFormReset=function(d){r.d.r(d)},un.unstable_batchedUpdates=function(d,f){return d(f)},un.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},un.useFormStatus=function(){return l.H.useHostTransitionStatus()},un.version="19.2.3",un}var W1;function qR(){if(W1)return wg.exports;W1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wg.exports=KL(),wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1;function YL(){if(X1)return Kl;X1=1;var e=VL(),t=Bs(),n=qR();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(r(188))}function f(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var b=c.return;if(b===null)break;var _=b.alternate;if(_===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===c)return d(b),a;if(_===p)return d(b),s;_=_.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=_;else{for(var N=!1,I=b.child;I;){if(I===c){N=!0,c=b,p=_;break}if(I===p){N=!0,p=b,c=_;break}I=I.sibling}if(!N){for(I=_.child;I;){if(I===c){N=!0,c=_,p=b;break}if(I===p){N=!0,p=_,c=b;break}I=I.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var Z=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case R:return a.displayName||"Context";case k:return(a._context.displayName||"Context")+".Consumer";case O:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return s=a.displayName||null,s!==null?s:Y(a.type)||"Memo";case F:s=a._payload,a=a._init;try{return Y(a(s))}catch{}}return null}var ie=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ce=[],ve=-1;function L(a){return{current:a}}function ee(a){0>ve||(a.current=ce[ve],ce[ve]=null,ve--)}function re(a,s){ve++,ce[ve]=a.current,a.current=s}var le=L(null),me=L(null),Te=L(null),Ce=L(null);function Rt(a,s){switch(re(Te,s),re(me,a),re(le,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?f1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=f1(s),a=h1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ee(le),re(le,a)}function ae(){ee(le),ee(me),ee(Te)}function ke(a){a.memoizedState!==null&&re(Ce,a);var s=le.current,c=h1(s,a.type);s!==c&&(re(me,a),re(le,c))}function Me(a){me.current===a&&(ee(le),ee(me)),Ce.current===a&&(ee(Ce),ql._currentValue=te)}var ue,Kt;function Fe(a){if(ue===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);ue=s&&s[1]||"",Kt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+a+Kt}var Yt=!1;function Jt(a,s){if(!a||Yt)return"";Yt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var K=W}Reflect.construct(a,[],se)}else{try{se.call()}catch(W){K=W}a.call(se.prototype)}}else{try{throw Error()}catch(W){K=W}(se=a())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),N=_[0],I=_[1];if(N&&I){var j=N.split(`
`),V=I.split(`
`);for(b=p=0;p<j.length&&!j[p].includes("DetermineComponentFrameRoot");)p++;for(;b<V.length&&!V[b].includes("DetermineComponentFrameRoot");)b++;if(p===j.length||b===V.length)for(p=j.length-1,b=V.length-1;1<=p&&0<=b&&j[p]!==V[b];)b--;for(;1<=p&&0<=b;p--,b--)if(j[p]!==V[b]){if(p!==1||b!==1)do if(p--,b--,0>b||j[p]!==V[b]){var ne=`
`+j[p].replace(" at new "," at ");return a.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",a.displayName)),ne}while(1<=p&&0<=b);break}}}finally{Yt=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?Fe(c):""}function Yr(a,s){switch(a.tag){case 26:case 27:case 5:return Fe(a.type);case 16:return Fe("Lazy");case 13:return a.child!==s&&s!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return Jt(a.type,!1);case 11:return Jt(a.type.render,!1);case 1:return Jt(a.type,!0);case 31:return Fe("Activity");default:return""}}function Zs(a){try{var s="",c=null;do s+=Yr(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ep=Object.prototype.hasOwnProperty,tp=e.unstable_scheduleCallback,np=e.unstable_cancelCallback,gU=e.unstable_shouldYield,vU=e.unstable_requestPaint,On=e.unstable_now,yU=e.unstable_getCurrentPriorityLevel,Hx=e.unstable_ImmediatePriority,Gx=e.unstable_UserBlockingPriority,tc=e.unstable_NormalPriority,bU=e.unstable_LowPriority,Vx=e.unstable_IdlePriority,xU=e.log,wU=e.unstable_setDisableYieldValue,el=null,Dn=null;function qi(a){if(typeof xU=="function"&&wU(a),Dn&&typeof Dn.setStrictMode=="function")try{Dn.setStrictMode(el,a)}catch{}}var Un=Math.clz32?Math.clz32:EU,_U=Math.log,SU=Math.LN2;function EU(a){return a>>>=0,a===0?32:31-(_U(a)/SU|0)|0}var nc=256,rc=262144,ic=4194304;function Ea(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ac(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var I=p&134217727;return I!==0?(p=I&~_,p!==0?b=Ea(p):(N&=I,N!==0?b=Ea(N):c||(c=I&~a,c!==0&&(b=Ea(c))))):(I=p&~_,I!==0?b=Ea(I):N!==0?b=Ea(N):c||(c=p&~a,c!==0&&(b=Ea(c)))),b===0?0:s!==0&&s!==b&&(s&_)===0&&(_=b&-b,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:b}function tl(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function AU(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kx(){var a=ic;return ic<<=1,(ic&62914560)===0&&(ic=4194304),a}function rp(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function nl(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function TU(a,s,c,p,b,_){var N=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var I=a.entanglements,j=a.expirationTimes,V=a.hiddenUpdates;for(c=N&~c;0<c;){var ne=31-Un(c),se=1<<ne;I[ne]=0,j[ne]=-1;var K=V[ne];if(K!==null)for(V[ne]=null,ne=0;ne<K.length;ne++){var W=K[ne];W!==null&&(W.lane&=-536870913)}c&=~se}p!==0&&Yx(a,p,0),_!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~s))}function Yx(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-Un(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function Jx(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-Un(c),b=1<<p;b&s|a[p]&s&&(a[p]|=s),c&=~b}}function Wx(a,s){var c=s&-s;return c=(c&42)!==0?1:ip(c),(c&(a.suspendedLanes|s))!==0?0:c}function ip(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ap(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xx(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:U1(a.type))}function Qx(a,s){var c=X.p;try{return X.p=a,s()}finally{X.p=c}}var $i=Math.random().toString(36).slice(2),Wt="__reactFiber$"+$i,Sn="__reactProps$"+$i,wo="__reactContainer$"+$i,op="__reactEvents$"+$i,CU="__reactListeners$"+$i,NU="__reactHandles$"+$i,Zx="__reactResources$"+$i,rl="__reactMarker$"+$i;function sp(a){delete a[Wt],delete a[Sn],delete a[op],delete a[CU],delete a[NU]}function _o(a){var s=a[Wt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[wo]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=x1(a);a!==null;){if(c=a[Wt])return c;a=x1(a)}return s}a=c,c=a.parentNode}return null}function So(a){if(a=a[Wt]||a[wo]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function il(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Eo(a){var s=a[Zx];return s||(s=a[Zx]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function jt(a){a[rl]=!0}var ew=new Set,tw={};function Aa(a,s){Ao(a,s),Ao(a+"Capture",s)}function Ao(a,s){for(tw[a]=s,a=0;a<s.length;a++)ew.add(s[a])}var RU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nw={},rw={};function kU(a){return ep.call(rw,a)?!0:ep.call(nw,a)?!1:RU.test(a)?rw[a]=!0:(nw[a]=!0,!1)}function oc(a,s,c){if(kU(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function sc(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Jr(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function iw(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function IU(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,_=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(N){c=""+N,_.call(this,N)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function lp(a){if(!a._valueTracker){var s=iw(a)?"checked":"value";a._valueTracker=IU(a,s,""+a[s])}}function aw(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=iw(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function lc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var PU=/[\n"\\]/g;function tr(a){return a.replace(PU,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function up(a,s,c,p,b,_,N,I){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+er(s)):a.value!==""+er(s)&&(a.value=""+er(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?cp(a,N,er(s)):c!=null?cp(a,N,er(c)):p!=null&&a.removeAttribute("value"),b==null&&_!=null&&(a.defaultChecked=!!_),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.name=""+er(I):a.removeAttribute("name")}function ow(a,s,c,p,b,_,N,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){lp(a);return}c=c!=null?""+er(c):"",s=s!=null?""+er(s):c,I||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=I?a.checked:!!p,a.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),lp(a)}function cp(a,s,c){s==="number"&&lc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function To(a,s,c,p){if(a=a.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=s.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&p&&(a[c].defaultSelected=!0)}else{for(c=""+er(c),s=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function sw(a,s,c){if(s!=null&&(s=""+er(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+er(c):""}function lw(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(ie(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=er(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),lp(a)}function Co(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var MU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uw(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||MU.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function cw(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&uw(a,b,p)}else for(var _ in s)s.hasOwnProperty(_)&&uw(a,_,s[_])}function dp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(a){return DU.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Wr(){}var fp=null;function hp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var No=null,Ro=null;function dw(a){var s=So(a);if(s&&(a=s.stateNode)){var c=a[Sn]||null;e:switch(a=s.stateNode,s.type){case"input":if(up(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+tr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var b=p[Sn]||null;if(!b)throw Error(r(90));up(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&aw(p)}break e;case"textarea":sw(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&To(a,!!c.multiple,s,!1)}}}var pp=!1;function fw(a,s,c){if(pp)return a(s,c);pp=!0;try{var p=a(s);return p}finally{if(pp=!1,(No!==null||Ro!==null)&&(Wc(),No&&(s=No,a=Ro,Ro=No=null,dw(s),a)))for(s=0;s<a.length;s++)dw(a[s])}}function al(a,s){var c=a.stateNode;if(c===null)return null;var p=c[Sn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=!1;if(Xr)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){mp=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{mp=!1}var Hi=null,gp=null,cc=null;function hw(){if(cc)return cc;var a,s=gp,c=s.length,p,b="value"in Hi?Hi.value:Hi.textContent,_=b.length;for(a=0;a<c&&s[a]===b[a];a++);var N=c-a;for(p=1;p<=N&&s[c-p]===b[_-p];p++);return cc=b.slice(a,1<p?1-p:void 0)}function dc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function fc(){return!0}function pw(){return!1}function En(a){function s(c,p,b,_,N){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var I in a)a.hasOwnProperty(I)&&(c=a[I],this[I]=c?c(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?fc:pw,this.isPropagationStopped=pw,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),s}var Ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hc=En(Ta),sl=m({},Ta,{view:0,detail:0}),UU=En(sl),vp,yp,ll,pc=m({},sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ll&&(ll&&a.type==="mousemove"?(vp=a.screenX-ll.screenX,yp=a.screenY-ll.screenY):yp=vp=0,ll=a),vp)},movementY:function(a){return"movementY"in a?a.movementY:yp}}),mw=En(pc),jU=m({},pc,{dataTransfer:0}),LU=En(jU),FU=m({},sl,{relatedTarget:0}),bp=En(FU),BU=m({},Ta,{animationName:0,elapsedTime:0,pseudoElement:0}),zU=En(BU),qU=m({},Ta,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),$U=En(qU),HU=m({},Ta,{data:0}),gw=En(HU),GU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YU(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=KU[a])?!!s[a]:!1}function xp(){return YU}var JU=m({},sl,{key:function(a){if(a.key){var s=GU[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=dc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?VU[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xp,charCode:function(a){return a.type==="keypress"?dc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?dc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),WU=En(JU),XU=m({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=En(XU),QU=m({},sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xp}),ZU=En(QU),ej=m({},Ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),tj=En(ej),nj=m({},pc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),rj=En(nj),ij=m({},Ta,{newState:0,oldState:0}),aj=En(ij),oj=[9,13,27,32],wp=Xr&&"CompositionEvent"in window,ul=null;Xr&&"documentMode"in document&&(ul=document.documentMode);var sj=Xr&&"TextEvent"in window&&!ul,yw=Xr&&(!wp||ul&&8<ul&&11>=ul),bw=" ",xw=!1;function ww(a,s){switch(a){case"keyup":return oj.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _w(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ko=!1;function lj(a,s){switch(a){case"compositionend":return _w(s);case"keypress":return s.which!==32?null:(xw=!0,bw);case"textInput":return a=s.data,a===bw&&xw?null:a;default:return null}}function uj(a,s){if(ko)return a==="compositionend"||!wp&&ww(a,s)?(a=hw(),cc=gp=Hi=null,ko=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yw&&s.locale!=="ko"?null:s.data;default:return null}}var cj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!cj[a.type]:s==="textarea"}function Ew(a,s,c,p){No?Ro?Ro.push(p):Ro=[p]:No=p,s=rd(s,"onChange"),0<s.length&&(c=new hc("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var cl=null,dl=null;function dj(a){o1(a,0)}function mc(a){var s=il(a);if(aw(s))return a}function Aw(a,s){if(a==="change")return s}var Tw=!1;if(Xr){var _p;if(Xr){var Sp="oninput"in document;if(!Sp){var Cw=document.createElement("div");Cw.setAttribute("oninput","return;"),Sp=typeof Cw.oninput=="function"}_p=Sp}else _p=!1;Tw=_p&&(!document.documentMode||9<document.documentMode)}function Nw(){cl&&(cl.detachEvent("onpropertychange",Rw),dl=cl=null)}function Rw(a){if(a.propertyName==="value"&&mc(dl)){var s=[];Ew(s,dl,a,hp(a)),fw(dj,s)}}function fj(a,s,c){a==="focusin"?(Nw(),cl=s,dl=c,cl.attachEvent("onpropertychange",Rw)):a==="focusout"&&Nw()}function hj(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return mc(dl)}function pj(a,s){if(a==="click")return mc(s)}function mj(a,s){if(a==="input"||a==="change")return mc(s)}function gj(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var jn=typeof Object.is=="function"?Object.is:gj;function fl(a,s){if(jn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!ep.call(s,b)||!jn(a[b],s[b]))return!1}return!0}function kw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Iw(a,s){var c=kw(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=kw(c)}}function Pw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Pw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Mw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=lc(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=lc(a.document)}return s}function Ep(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var vj=Xr&&"documentMode"in document&&11>=document.documentMode,Io=null,Ap=null,hl=null,Tp=!1;function Ow(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Tp||Io==null||Io!==lc(p)||(p=Io,"selectionStart"in p&&Ep(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),hl&&fl(hl,p)||(hl=p,p=rd(Ap,"onSelect"),0<p.length&&(s=new hc("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Io)))}function Ca(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Po={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Cp={},Dw={};Xr&&(Dw=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Na(a){if(Cp[a])return Cp[a];if(!Po[a])return a;var s=Po[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Dw)return Cp[a]=s[c];return a}var Uw=Na("animationend"),jw=Na("animationiteration"),Lw=Na("animationstart"),yj=Na("transitionrun"),bj=Na("transitionstart"),xj=Na("transitioncancel"),Fw=Na("transitionend"),Bw=new Map,Np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Np.push("scrollEnd");function xr(a,s){Bw.set(a,s),Aa(s,[a])}var gc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},nr=[],Mo=0,Rp=0;function vc(){for(var a=Mo,s=Rp=Mo=0;s<a;){var c=nr[s];nr[s++]=null;var p=nr[s];nr[s++]=null;var b=nr[s];nr[s++]=null;var _=nr[s];if(nr[s++]=null,p!==null&&b!==null){var N=p.pending;N===null?b.next=b:(b.next=N.next,N.next=b),p.pending=b}_!==0&&zw(c,b,_)}}function yc(a,s,c,p){nr[Mo++]=a,nr[Mo++]=s,nr[Mo++]=c,nr[Mo++]=p,Rp|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function kp(a,s,c,p){return yc(a,s,c,p),bc(a)}function Ra(a,s){return yc(a,null,null,s),bc(a)}function zw(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var b=!1,_=a.return;_!==null;)_.childLanes|=c,p=_.alternate,p!==null&&(p.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(b=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,b&&s!==null&&(b=31-Un(c),a=_.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=c|536870912),_):null}function bc(a){if(50<Dl)throw Dl=0,Fm=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Oo={};function wj(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(a,s,c,p){return new wj(a,s,c,p)}function Ip(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qr(a,s){var c=a.alternate;return c===null?(c=Ln(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function qw(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function xc(a,s,c,p,b,_){var N=0;if(p=a,typeof a=="function")Ip(a)&&(N=1);else if(typeof a=="string")N=TL(a,c,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case B:return a=Ln(31,c,s,b),a.elementType=B,a.lanes=_,a;case E:return ka(c.children,b,_,s);case A:N=8,b|=24;break;case T:return a=Ln(12,c,s,b|2),a.elementType=T,a.lanes=_,a;case P:return a=Ln(13,c,s,b),a.elementType=P,a.lanes=_,a;case M:return a=Ln(19,c,s,b),a.elementType=M,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:N=10;break e;case k:N=9;break e;case O:N=11;break e;case D:N=14;break e;case F:N=16,p=null;break e}N=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Ln(N,c,s,b),s.elementType=a,s.type=p,s.lanes=_,s}function ka(a,s,c,p){return a=Ln(7,a,p,s),a.lanes=c,a}function Pp(a,s,c){return a=Ln(6,a,null,s),a.lanes=c,a}function $w(a){var s=Ln(18,null,null,0);return s.stateNode=a,s}function Mp(a,s,c){return s=Ln(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Hw=new WeakMap;function rr(a,s){if(typeof a=="object"&&a!==null){var c=Hw.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Zs(s)},Hw.set(a,s),s)}return{value:a,source:s,stack:Zs(s)}}var Do=[],Uo=0,wc=null,pl=0,ir=[],ar=0,Gi=null,jr=1,Lr="";function Zr(a,s){Do[Uo++]=pl,Do[Uo++]=wc,wc=a,pl=s}function Gw(a,s,c){ir[ar++]=jr,ir[ar++]=Lr,ir[ar++]=Gi,Gi=a;var p=jr;a=Lr;var b=32-Un(p)-1;p&=~(1<<b),c+=1;var _=32-Un(s)+b;if(30<_){var N=b-b%5;_=(p&(1<<N)-1).toString(32),p>>=N,b-=N,jr=1<<32-Un(s)+b|c<<b|p,Lr=_+a}else jr=1<<_|c<<b|p,Lr=a}function Op(a){a.return!==null&&(Zr(a,1),Gw(a,1,0))}function Dp(a){for(;a===wc;)wc=Do[--Uo],Do[Uo]=null,pl=Do[--Uo],Do[Uo]=null;for(;a===Gi;)Gi=ir[--ar],ir[ar]=null,Lr=ir[--ar],ir[ar]=null,jr=ir[--ar],ir[ar]=null}function Vw(a,s){ir[ar++]=jr,ir[ar++]=Lr,ir[ar++]=Gi,jr=s.id,Lr=s.overflow,Gi=a}var Xt=null,it=null,Le=!1,Vi=null,or=!1,Up=Error(r(519));function Ki(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(rr(s,a)),Up}function Kw(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[Wt]=a,s[Sn]=p,c){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(c=0;c<jl.length;c++)De(jl[c],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),ow(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),lw(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||c1(s.textContent,c)?(p.popover!=null&&(De("beforetoggle",s),De("toggle",s)),p.onScroll!=null&&De("scroll",s),p.onScrollEnd!=null&&De("scrollend",s),p.onClick!=null&&(s.onclick=Wr),s=!0):s=!1,s||Ki(a,!0)}function Yw(a){for(Xt=a.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:Xt=Xt.return}}function jo(a){if(a!==Xt)return!1;if(!Le)return Yw(a),Le=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||eg(a.type,a.memoizedProps)),c=!c),c&&it&&Ki(a),Yw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));it=b1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));it=b1(a)}else s===27?(s=it,sa(a.type)?(a=ag,ag=null,it=a):it=s):it=Xt?lr(a.stateNode.nextSibling):null;return!0}function Ia(){it=Xt=null,Le=!1}function jp(){var a=Vi;return a!==null&&(Nn===null?Nn=a:Nn.push.apply(Nn,a),Vi=null),a}function ml(a){Vi===null?Vi=[a]:Vi.push(a)}var Lp=L(null),Pa=null,ei=null;function Yi(a,s,c){re(Lp,s._currentValue),s._currentValue=c}function ti(a){a._currentValue=Lp.current,ee(Lp)}function Fp(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function Bp(a,s,c,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var _=b.dependencies;if(_!==null){var N=b.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=b;for(var j=0;j<s.length;j++)if(I.context===s[j]){_.lanes|=c,I=_.alternate,I!==null&&(I.lanes|=c),Fp(_.return,c,a),p||(N=null);break e}_=I.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=c,_=N.alternate,_!==null&&(_.lanes|=c),Fp(N,c,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Lo(a,s,c,p){a=null;for(var b=s,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var I=b.type;jn(b.pendingProps.value,N.value)||(a!==null?a.push(I):a=[I])}}else if(b===Ce.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(ql):a=[ql])}b=b.return}a!==null&&Bp(s,a,c,p),s.flags|=262144}function _c(a){for(a=a.firstContext;a!==null;){if(!jn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ma(a){Pa=a,ei=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Qt(a){return Jw(Pa,a)}function Sc(a,s){return Pa===null&&Ma(a),Jw(a,s)}function Jw(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ei===null){if(a===null)throw Error(r(308));ei=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ei=ei.next=s;return c}var _j=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},Sj=e.unstable_scheduleCallback,Ej=e.unstable_NormalPriority,_t={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zp(){return{controller:new _j,data:new Map,refCount:0}}function gl(a){a.refCount--,a.refCount===0&&Sj(Ej,function(){a.controller.abort()})}var vl=null,qp=0,Fo=0,Bo=null;function Aj(a,s){if(vl===null){var c=vl=[];qp=0,Fo=Gm(),Bo={status:"pending",value:void 0,then:function(p){c.push(p)}}}return qp++,s.then(Ww,Ww),s}function Ww(){if(--qp===0&&vl!==null){Bo!==null&&(Bo.status="fulfilled");var a=vl;vl=null,Fo=0,Bo=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function Tj(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var Xw=q.S;q.S=function(a,s){OS=On(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Aj(a,s),Xw!==null&&Xw(a,s)};var Oa=L(null);function $p(){var a=Oa.current;return a!==null?a:et.pooledCache}function Ec(a,s){s===null?re(Oa,Oa.current):re(Oa,s.pool)}function Qw(){var a=$p();return a===null?null:{parent:_t._currentValue,pool:a}}var zo=Error(r(460)),Hp=Error(r(474)),Ac=Error(r(542)),Tc={then:function(){}};function Zw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function e_(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Wr,Wr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,n_(a),a;default:if(typeof s.status=="string")s.then(Wr,Wr);else{if(a=et,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,n_(a),a}throw Ua=s,zo}}function Da(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ua=c,zo):c}}var Ua=null;function t_(){if(Ua===null)throw Error(r(459));var a=Ua;return Ua=null,a}function n_(a){if(a===zo||a===Ac)throw Error(r(483))}var qo=null,yl=0;function Cc(a){var s=yl;return yl+=1,qo===null&&(qo=[]),e_(qo,a,s)}function bl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Nc(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function r_(a){function s($,z){if(a){var H=$.deletions;H===null?($.deletions=[z],$.flags|=16):H.push(z)}}function c($,z){if(!a)return null;for(;z!==null;)s($,z),z=z.sibling;return null}function p($){for(var z=new Map;$!==null;)$.key!==null?z.set($.key,$):z.set($.index,$),$=$.sibling;return z}function b($,z){return $=Qr($,z),$.index=0,$.sibling=null,$}function _($,z,H){return $.index=H,a?(H=$.alternate,H!==null?(H=H.index,H<z?($.flags|=67108866,z):H):($.flags|=67108866,z)):($.flags|=1048576,z)}function N($){return a&&$.alternate===null&&($.flags|=67108866),$}function I($,z,H,oe){return z===null||z.tag!==6?(z=Pp(H,$.mode,oe),z.return=$,z):(z=b(z,H),z.return=$,z)}function j($,z,H,oe){var xe=H.type;return xe===E?ne($,z,H.props.children,oe,H.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===F&&Da(xe)===z.type)?(z=b(z,H.props),bl(z,H),z.return=$,z):(z=xc(H.type,H.key,H.props,null,$.mode,oe),bl(z,H),z.return=$,z)}function V($,z,H,oe){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Mp(H,$.mode,oe),z.return=$,z):(z=b(z,H.children||[]),z.return=$,z)}function ne($,z,H,oe,xe){return z===null||z.tag!==7?(z=ka(H,$.mode,oe,xe),z.return=$,z):(z=b(z,H),z.return=$,z)}function se($,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Pp(""+z,$.mode,H),z.return=$,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return H=xc(z.type,z.key,z.props,null,$.mode,H),bl(H,z),H.return=$,H;case S:return z=Mp(z,$.mode,H),z.return=$,z;case F:return z=Da(z),se($,z,H)}if(ie(z)||G(z))return z=ka(z,$.mode,H,null),z.return=$,z;if(typeof z.then=="function")return se($,Cc(z),H);if(z.$$typeof===R)return se($,Sc($,z),H);Nc($,z)}return null}function K($,z,H,oe){var xe=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return xe!==null?null:I($,z,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===xe?j($,z,H,oe):null;case S:return H.key===xe?V($,z,H,oe):null;case F:return H=Da(H),K($,z,H,oe)}if(ie(H)||G(H))return xe!==null?null:ne($,z,H,oe,null);if(typeof H.then=="function")return K($,z,Cc(H),oe);if(H.$$typeof===R)return K($,z,Sc($,H),oe);Nc($,H)}return null}function W($,z,H,oe,xe){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return $=$.get(H)||null,I(z,$,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return $=$.get(oe.key===null?H:oe.key)||null,j(z,$,oe,xe);case S:return $=$.get(oe.key===null?H:oe.key)||null,V(z,$,oe,xe);case F:return oe=Da(oe),W($,z,H,oe,xe)}if(ie(oe)||G(oe))return $=$.get(H)||null,ne(z,$,oe,xe,null);if(typeof oe.then=="function")return W($,z,H,Cc(oe),xe);if(oe.$$typeof===R)return W($,z,H,Sc(z,oe),xe);Nc(z,oe)}return null}function pe($,z,H,oe){for(var xe=null,ze=null,ge=z,Pe=z=0,je=null;ge!==null&&Pe<H.length;Pe++){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var qe=K($,ge,H[Pe],oe);if(qe===null){ge===null&&(ge=je);break}a&&ge&&qe.alternate===null&&s($,ge),z=_(qe,z,Pe),ze===null?xe=qe:ze.sibling=qe,ze=qe,ge=je}if(Pe===H.length)return c($,ge),Le&&Zr($,Pe),xe;if(ge===null){for(;Pe<H.length;Pe++)ge=se($,H[Pe],oe),ge!==null&&(z=_(ge,z,Pe),ze===null?xe=ge:ze.sibling=ge,ze=ge);return Le&&Zr($,Pe),xe}for(ge=p(ge);Pe<H.length;Pe++)je=W(ge,$,Pe,H[Pe],oe),je!==null&&(a&&je.alternate!==null&&ge.delete(je.key===null?Pe:je.key),z=_(je,z,Pe),ze===null?xe=je:ze.sibling=je,ze=je);return a&&ge.forEach(function(fa){return s($,fa)}),Le&&Zr($,Pe),xe}function _e($,z,H,oe){if(H==null)throw Error(r(151));for(var xe=null,ze=null,ge=z,Pe=z=0,je=null,qe=H.next();ge!==null&&!qe.done;Pe++,qe=H.next()){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var fa=K($,ge,qe.value,oe);if(fa===null){ge===null&&(ge=je);break}a&&ge&&fa.alternate===null&&s($,ge),z=_(fa,z,Pe),ze===null?xe=fa:ze.sibling=fa,ze=fa,ge=je}if(qe.done)return c($,ge),Le&&Zr($,Pe),xe;if(ge===null){for(;!qe.done;Pe++,qe=H.next())qe=se($,qe.value,oe),qe!==null&&(z=_(qe,z,Pe),ze===null?xe=qe:ze.sibling=qe,ze=qe);return Le&&Zr($,Pe),xe}for(ge=p(ge);!qe.done;Pe++,qe=H.next())qe=W(ge,$,Pe,qe.value,oe),qe!==null&&(a&&qe.alternate!==null&&ge.delete(qe.key===null?Pe:qe.key),z=_(qe,z,Pe),ze===null?xe=qe:ze.sibling=qe,ze=qe);return a&&ge.forEach(function(jL){return s($,jL)}),Le&&Zr($,Pe),xe}function Qe($,z,H,oe){if(typeof H=="object"&&H!==null&&H.type===E&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var xe=H.key;z!==null;){if(z.key===xe){if(xe=H.type,xe===E){if(z.tag===7){c($,z.sibling),oe=b(z,H.props.children),oe.return=$,$=oe;break e}}else if(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===F&&Da(xe)===z.type){c($,z.sibling),oe=b(z,H.props),bl(oe,H),oe.return=$,$=oe;break e}c($,z);break}else s($,z);z=z.sibling}H.type===E?(oe=ka(H.props.children,$.mode,oe,H.key),oe.return=$,$=oe):(oe=xc(H.type,H.key,H.props,null,$.mode,oe),bl(oe,H),oe.return=$,$=oe)}return N($);case S:e:{for(xe=H.key;z!==null;){if(z.key===xe)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){c($,z.sibling),oe=b(z,H.children||[]),oe.return=$,$=oe;break e}else{c($,z);break}else s($,z);z=z.sibling}oe=Mp(H,$.mode,oe),oe.return=$,$=oe}return N($);case F:return H=Da(H),Qe($,z,H,oe)}if(ie(H))return pe($,z,H,oe);if(G(H)){if(xe=G(H),typeof xe!="function")throw Error(r(150));return H=xe.call(H),_e($,z,H,oe)}if(typeof H.then=="function")return Qe($,z,Cc(H),oe);if(H.$$typeof===R)return Qe($,z,Sc($,H),oe);Nc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(c($,z.sibling),oe=b(z,H),oe.return=$,$=oe):(c($,z),oe=Pp(H,$.mode,oe),oe.return=$,$=oe),N($)):c($,z)}return function($,z,H,oe){try{yl=0;var xe=Qe($,z,H,oe);return qo=null,xe}catch(ge){if(ge===zo||ge===Ac)throw ge;var ze=Ln(29,ge,null,$.mode);return ze.lanes=oe,ze.return=$,ze}finally{}}}var ja=r_(!0),i_=r_(!1),Ji=!1;function Gp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vp(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Wi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xi(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(Ge&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=bc(a),zw(a,null,c),s}return yc(a,p,s,c),bc(a)}function xl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Jx(a,c)}}function Kp(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?b=_=N:_=_.next=N,c=c.next}while(c!==null);_===null?b=_=s:_=_.next=s}else b=_=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Yp=!1;function wl(){if(Yp){var a=Bo;if(a!==null)throw a}}function _l(a,s,c,p){Yp=!1;var b=a.updateQueue;Ji=!1;var _=b.firstBaseUpdate,N=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var j=I,V=j.next;j.next=null,N===null?_=V:N.next=V,N=j;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,I=ne.lastBaseUpdate,I!==N&&(I===null?ne.firstBaseUpdate=V:I.next=V,ne.lastBaseUpdate=j))}if(_!==null){var se=b.baseState;N=0,ne=V=j=null,I=_;do{var K=I.lane&-536870913,W=K!==I.lane;if(W?(Ue&K)===K:(p&K)===K){K!==0&&K===Fo&&(Yp=!0),ne!==null&&(ne=ne.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var pe=a,_e=I;K=s;var Qe=c;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){se=pe.call(Qe,se,K);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,K=typeof pe=="function"?pe.call(Qe,se,K):pe,K==null)break e;se=m({},se,K);break e;case 2:Ji=!0}}K=I.callback,K!==null&&(a.flags|=64,W&&(a.flags|=8192),W=b.callbacks,W===null?b.callbacks=[K]:W.push(K))}else W={lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ne===null?(V=ne=W,j=se):ne=ne.next=W,N|=K;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;W=I,I=W.next,W.next=null,b.lastBaseUpdate=W,b.shared.pending=null}}while(!0);ne===null&&(j=se),b.baseState=j,b.firstBaseUpdate=V,b.lastBaseUpdate=ne,_===null&&(b.shared.lanes=0),na|=N,a.lanes=N,a.memoizedState=se}}function a_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function o_(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)a_(c[a],s)}var $o=L(null),Rc=L(0);function s_(a,s){a=ci,re(Rc,a),re($o,s),ci=a|s.baseLanes}function Jp(){re(Rc,ci),re($o,$o.current)}function Wp(){ci=Rc.current,ee($o),ee(Rc)}var Fn=L(null),sr=null;function Qi(a){var s=a.alternate;re(yt,yt.current&1),re(Fn,a),sr===null&&(s===null||$o.current!==null||s.memoizedState!==null)&&(sr=a)}function Xp(a){re(yt,yt.current),re(Fn,a),sr===null&&(sr=a)}function l_(a){a.tag===22?(re(yt,yt.current),re(Fn,a),sr===null&&(sr=a)):Zi()}function Zi(){re(yt,yt.current),re(Fn,Fn.current)}function Bn(a){ee(Fn),sr===a&&(sr=null),ee(yt)}var yt=L(0);function kc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||rg(c)||ig(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ni=0,Ie=null,We=null,St=null,Ic=!1,Ho=!1,La=!1,Pc=0,Sl=0,Go=null,Cj=0;function pt(){throw Error(r(321))}function Qp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!jn(a[c],s[c]))return!1;return!0}function Zp(a,s,c,p,b,_){return ni=_,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,q.H=a===null||a.memoizedState===null?G_:pm,La=!1,_=c(p,b),La=!1,Ho&&(_=c_(s,c,p,b)),u_(a),_}function u_(a){q.H=Tl;var s=We!==null&&We.next!==null;if(ni=0,St=We=Ie=null,Ic=!1,Sl=0,Go=null,s)throw Error(r(300));a===null||Et||(a=a.dependencies,a!==null&&_c(a)&&(Et=!0))}function c_(a,s,c,p){Ie=a;var b=0;do{if(Ho&&(Go=null),Sl=0,Ho=!1,25<=b)throw Error(r(301));if(b+=1,St=We=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}q.H=V_,_=s(c,p)}while(Ho);return _}function Nj(){var a=q.H,s=a.useState()[0];return s=typeof s.then=="function"?El(s):s,a=a.useState()[0],(We!==null?We.memoizedState:null)!==a&&(Ie.flags|=1024),s}function em(){var a=Pc!==0;return Pc=0,a}function tm(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function nm(a){if(Ic){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Ic=!1}ni=0,St=We=Ie=null,Ho=!1,Sl=Pc=0,Go=null}function hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ie.memoizedState=St=a:St=St.next=a,St}function bt(){if(We===null){var a=Ie.alternate;a=a!==null?a.memoizedState:null}else a=We.next;var s=St===null?Ie.memoizedState:St.next;if(s!==null)St=s,We=a;else{if(a===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));We=a,a={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},St===null?Ie.memoizedState=St=a:St=St.next=a}return St}function Mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(a){var s=Sl;return Sl+=1,Go===null&&(Go=[]),a=e_(Go,a,s),s=Ie,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,q.H=s===null||s.memoizedState===null?G_:pm),a}function Oc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return El(a);if(a.$$typeof===R)return Qt(a)}throw Error(r(438,String(a)))}function rm(a){var s=null,c=Ie.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=Ie.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Mc(),Ie.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=J;return s.index++,c}function ri(a,s){return typeof s=="function"?s(a):s}function Dc(a){var s=bt();return im(s,We,a)}function im(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=a.baseQueue,_=p.pending;if(_!==null){if(b!==null){var N=b.next;b.next=_.next,_.next=N}s.baseQueue=b=_,p.pending=null}if(_=a.baseState,b===null)a.memoizedState=_;else{s=b.next;var I=N=null,j=null,V=s,ne=!1;do{var se=V.lane&-536870913;if(se!==V.lane?(Ue&se)===se:(ni&se)===se){var K=V.revertLane;if(K===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),se===Fo&&(ne=!0);else if((ni&K)===K){V=V.next,K===Fo&&(ne=!0);continue}else se={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},j===null?(I=j=se,N=_):j=j.next=se,Ie.lanes|=K,na|=K;se=V.action,La&&c(_,se),_=V.hasEagerState?V.eagerState:c(_,se)}else K={lane:se,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},j===null?(I=j=K,N=_):j=j.next=K,Ie.lanes|=se,na|=se;V=V.next}while(V!==null&&V!==s);if(j===null?N=_:j.next=I,!jn(_,a.memoizedState)&&(Et=!0,ne&&(c=Bo,c!==null)))throw c;a.memoizedState=_,a.baseState=N,a.baseQueue=j,p.lastRenderedState=_}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function am(a){var s=bt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,b=c.pending,_=s.memoizedState;if(b!==null){c.pending=null;var N=b=b.next;do _=a(_,N.action),N=N.next;while(N!==b);jn(_,s.memoizedState)||(Et=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,p]}function d_(a,s,c){var p=Ie,b=bt(),_=Le;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!jn((We||b).memoizedState,c);if(N&&(b.memoizedState=c,Et=!0),b=b.queue,lm(p_.bind(null,p,b,a),[a]),b.getSnapshot!==s||N||St!==null&&St.memoizedState.tag&1){if(p.flags|=2048,Vo(9,{destroy:void 0},h_.bind(null,p,b,c,s),null),et===null)throw Error(r(349));_||(ni&127)!==0||f_(p,s,c)}return c}function f_(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Ie.updateQueue,s===null?(s=Mc(),Ie.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function h_(a,s,c,p){s.value=c,s.getSnapshot=p,m_(s)&&g_(a)}function p_(a,s,c){return c(function(){m_(s)&&g_(a)})}function m_(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!jn(a,c)}catch{return!0}}function g_(a){var s=Ra(a,2);s!==null&&Rn(s,a,2)}function om(a){var s=hn();if(typeof a=="function"){var c=a;if(a=c(),La){qi(!0);try{c()}finally{qi(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:a},s}function v_(a,s,c,p){return a.baseState=c,im(a,We,typeof p=="function"?p:ri)}function Rj(a,s,c,p,b){if(Lc(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};q.T!==null?c(!0):_.isTransition=!1,p(_),c=s.pending,c===null?(_.next=s.pending=_,y_(s,_)):(_.next=c.next,s.pending=c.next=_)}}function y_(a,s){var c=s.action,p=s.payload,b=a.state;if(s.isTransition){var _=q.T,N={};q.T=N;try{var I=c(b,p),j=q.S;j!==null&&j(N,I),b_(a,s,I)}catch(V){sm(a,s,V)}finally{_!==null&&N.types!==null&&(_.types=N.types),q.T=_}}else try{_=c(b,p),b_(a,s,_)}catch(V){sm(a,s,V)}}function b_(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){x_(a,s,p)},function(p){return sm(a,s,p)}):x_(a,s,c)}function x_(a,s,c){s.status="fulfilled",s.value=c,w_(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,y_(a,c)))}function sm(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,w_(s),s=s.next;while(s!==p)}a.action=null}function w_(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function __(a,s){return s}function S_(a,s){if(Le){var c=et.formState;if(c!==null){e:{var p=Ie;if(Le){if(it){t:{for(var b=it,_=or;b.nodeType!==8;){if(!_){b=null;break t}if(b=lr(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){it=lr(b.nextSibling),p=b.data==="F!";break e}}Ki(p)}p=!1}p&&(s=c[0])}}return c=hn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:__,lastRenderedState:s},c.queue=p,c=q_.bind(null,Ie,p),p.dispatch=c,p=om(!1),_=hm.bind(null,Ie,!1,p.queue),p=hn(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,c=Rj.bind(null,Ie,b,_,c),b.dispatch=c,p.memoizedState=a,[s,c,!1]}function E_(a){var s=bt();return A_(s,We,a)}function A_(a,s,c){if(s=im(a,s,__)[0],a=Dc(ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=El(s)}catch(N){throw N===zo?Ac:N}else p=s;s=bt();var b=s.queue,_=b.dispatch;return c!==s.memoizedState&&(Ie.flags|=2048,Vo(9,{destroy:void 0},kj.bind(null,b,c),null)),[p,_,a]}function kj(a,s){a.action=s}function T_(a){var s=bt(),c=We;if(c!==null)return A_(s,c,a);bt(),s=s.memoizedState,c=bt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function Vo(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Mc(),Ie.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function C_(){return bt().memoizedState}function Uc(a,s,c,p){var b=hn();Ie.flags|=a,b.memoizedState=Vo(1|s,{destroy:void 0},c,p===void 0?null:p)}function jc(a,s,c,p){var b=bt();p=p===void 0?null:p;var _=b.memoizedState.inst;We!==null&&p!==null&&Qp(p,We.memoizedState.deps)?b.memoizedState=Vo(s,_,c,p):(Ie.flags|=a,b.memoizedState=Vo(1|s,_,c,p))}function N_(a,s){Uc(8390656,8,a,s)}function lm(a,s){jc(2048,8,a,s)}function Ij(a){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Mc(),Ie.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function R_(a){var s=bt().memoizedState;return Ij({ref:s,nextImpl:a}),function(){if((Ge&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function k_(a,s){return jc(4,2,a,s)}function I_(a,s){return jc(4,4,a,s)}function P_(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function M_(a,s,c){c=c!=null?c.concat([a]):null,jc(4,4,P_.bind(null,s,a),c)}function um(){}function O_(a,s){var c=bt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Qp(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function D_(a,s){var c=bt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Qp(s,p[1]))return p[0];if(p=a(),La){qi(!0);try{a()}finally{qi(!1)}}return c.memoizedState=[p,s],p}function cm(a,s,c){return c===void 0||(ni&1073741824)!==0&&(Ue&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=US(),Ie.lanes|=a,na|=a,c)}function U_(a,s,c,p){return jn(c,s)?c:$o.current!==null?(a=cm(a,c,p),jn(a,s)||(Et=!0),a):(ni&42)===0||(ni&1073741824)!==0&&(Ue&261930)===0?(Et=!0,a.memoizedState=c):(a=US(),Ie.lanes|=a,na|=a,s)}function j_(a,s,c,p,b){var _=X.p;X.p=_!==0&&8>_?_:8;var N=q.T,I={};q.T=I,hm(a,!1,s,c);try{var j=b(),V=q.S;if(V!==null&&V(I,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ne=Tj(j,p);Al(a,s,ne,$n(a))}else Al(a,s,p,$n(a))}catch(se){Al(a,s,{then:function(){},status:"rejected",reason:se},$n())}finally{X.p=_,N!==null&&I.types!==null&&(N.types=I.types),q.T=N}}function Pj(){}function dm(a,s,c,p){if(a.tag!==5)throw Error(r(476));var b=L_(a).queue;j_(a,b,s,te,c===null?Pj:function(){return F_(a),c(p)})}function L_(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:te},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function F_(a){var s=L_(a);s.next===null&&(s=a.alternate.memoizedState),Al(a,s.next.queue,{},$n())}function fm(){return Qt(ql)}function B_(){return bt().memoizedState}function z_(){return bt().memoizedState}function Mj(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=$n();a=Wi(c);var p=Xi(s,a,c);p!==null&&(Rn(p,s,c),xl(p,s,c)),s={cache:zp()},a.payload=s;return}s=s.return}}function Oj(a,s,c){var p=$n();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Lc(a)?$_(s,c):(c=kp(a,s,c,p),c!==null&&(Rn(c,a,p),H_(c,s,p)))}function q_(a,s,c){var p=$n();Al(a,s,c,p)}function Al(a,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Lc(a))$_(s,b);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,I=_(N,c);if(b.hasEagerState=!0,b.eagerState=I,jn(I,N))return yc(a,s,b,0),et===null&&vc(),!1}catch{}finally{}if(c=kp(a,s,b,p),c!==null)return Rn(c,a,p),H_(c,s,p),!0}return!1}function hm(a,s,c,p){if(p={lane:2,revertLane:Gm(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Lc(a)){if(s)throw Error(r(479))}else s=kp(a,c,p,2),s!==null&&Rn(s,a,2)}function Lc(a){var s=a.alternate;return a===Ie||s!==null&&s===Ie}function $_(a,s){Ho=Ic=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function H_(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Jx(a,c)}}var Tl={readContext:Qt,use:Oc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Tl.useEffectEvent=pt;var G_={readContext:Qt,use:Oc,useCallback:function(a,s){return hn().memoizedState=[a,s===void 0?null:s],a},useContext:Qt,useEffect:N_,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Uc(4194308,4,P_.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Uc(4194308,4,a,s)},useInsertionEffect:function(a,s){Uc(4,2,a,s)},useMemo:function(a,s){var c=hn();s=s===void 0?null:s;var p=a();if(La){qi(!0);try{a()}finally{qi(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=hn();if(c!==void 0){var b=c(s);if(La){qi(!0);try{c(s)}finally{qi(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=Oj.bind(null,Ie,a),[p.memoizedState,a]},useRef:function(a){var s=hn();return a={current:a},s.memoizedState=a},useState:function(a){a=om(a);var s=a.queue,c=q_.bind(null,Ie,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:um,useDeferredValue:function(a,s){var c=hn();return cm(c,a,s)},useTransition:function(){var a=om(!1);return a=j_.bind(null,Ie,a.queue,!0,!1),hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=Ie,b=hn();if(Le){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),et===null)throw Error(r(349));(Ue&127)!==0||f_(p,s,c)}b.memoizedState=c;var _={value:c,getSnapshot:s};return b.queue=_,N_(p_.bind(null,p,_,a),[a]),p.flags|=2048,Vo(9,{destroy:void 0},h_.bind(null,p,_,c,s),null),c},useId:function(){var a=hn(),s=et.identifierPrefix;if(Le){var c=Lr,p=jr;c=(p&~(1<<32-Un(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Pc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=Cj++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:fm,useFormState:S_,useActionState:S_,useOptimistic:function(a){var s=hn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=hm.bind(null,Ie,!0,c),c.dispatch=s,[a,s]},useMemoCache:rm,useCacheRefresh:function(){return hn().memoizedState=Mj.bind(null,Ie)},useEffectEvent:function(a){var s=hn(),c={impl:a};return s.memoizedState=c,function(){if((Ge&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},pm={readContext:Qt,use:Oc,useCallback:O_,useContext:Qt,useEffect:lm,useImperativeHandle:M_,useInsertionEffect:k_,useLayoutEffect:I_,useMemo:D_,useReducer:Dc,useRef:C_,useState:function(){return Dc(ri)},useDebugValue:um,useDeferredValue:function(a,s){var c=bt();return U_(c,We.memoizedState,a,s)},useTransition:function(){var a=Dc(ri)[0],s=bt().memoizedState;return[typeof a=="boolean"?a:El(a),s]},useSyncExternalStore:d_,useId:B_,useHostTransitionStatus:fm,useFormState:E_,useActionState:E_,useOptimistic:function(a,s){var c=bt();return v_(c,We,a,s)},useMemoCache:rm,useCacheRefresh:z_};pm.useEffectEvent=R_;var V_={readContext:Qt,use:Oc,useCallback:O_,useContext:Qt,useEffect:lm,useImperativeHandle:M_,useInsertionEffect:k_,useLayoutEffect:I_,useMemo:D_,useReducer:am,useRef:C_,useState:function(){return am(ri)},useDebugValue:um,useDeferredValue:function(a,s){var c=bt();return We===null?cm(c,a,s):U_(c,We.memoizedState,a,s)},useTransition:function(){var a=am(ri)[0],s=bt().memoizedState;return[typeof a=="boolean"?a:El(a),s]},useSyncExternalStore:d_,useId:B_,useHostTransitionStatus:fm,useFormState:T_,useActionState:T_,useOptimistic:function(a,s){var c=bt();return We!==null?v_(c,We,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:rm,useCacheRefresh:z_};V_.useEffectEvent=R_;function mm(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var gm={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=$n(),b=Wi(p);b.payload=s,c!=null&&(b.callback=c),s=Xi(a,b,p),s!==null&&(Rn(s,a,p),xl(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=$n(),b=Wi(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=Xi(a,b,p),s!==null&&(Rn(s,a,p),xl(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=$n(),p=Wi(c);p.tag=2,s!=null&&(p.callback=s),s=Xi(a,p,c),s!==null&&(Rn(s,a,c),xl(s,a,c))}};function K_(a,s,c,p,b,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,_,N):s.prototype&&s.prototype.isPureReactComponent?!fl(c,p)||!fl(b,_):!0}function Y_(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&gm.enqueueReplaceState(s,s.state,null)}function Fa(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=m({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function J_(a){gc(a)}function W_(a){console.error(a)}function X_(a){gc(a)}function Fc(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function Q_(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function vm(a,s,c){return c=Wi(c),c.tag=3,c.payload={element:null},c.callback=function(){Fc(a,s)},c}function Z_(a){return a=Wi(a),a.tag=3,a}function eS(a,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var _=p.value;a.payload=function(){return b(_)},a.callback=function(){Q_(s,c,p)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){Q_(s,c,p),typeof b!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})})}function Dj(a,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&Lo(s,c,b,!0),c=Fn.current,c!==null){switch(c.tag){case 31:case 13:return sr===null?Xc():c.alternate===null&&mt===0&&(mt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===Tc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),qm(a,p,b)),!1;case 22:return c.flags|=65536,p===Tc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),qm(a,p,b)),!1}throw Error(r(435,c.tag))}return qm(a,p,b),Xc(),!1}if(Le)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==Up&&(a=Error(r(422),{cause:p}),ml(rr(a,c)))):(p!==Up&&(s=Error(r(423),{cause:p}),ml(rr(s,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=rr(p,c),b=vm(a.stateNode,p,b),Kp(a,b),mt!==4&&(mt=2)),!1;var _=Error(r(520),{cause:p});if(_=rr(_,c),Ol===null?Ol=[_]:Ol.push(_),mt!==4&&(mt=2),s===null)return!0;p=rr(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=vm(c.stateNode,p,a),Kp(c,a),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ra===null||!ra.has(_))))return c.flags|=65536,b&=-b,c.lanes|=b,b=Z_(b),eS(b,a,c,p),Kp(c,b),!1}c=c.return}while(c!==null);return!1}var ym=Error(r(461)),Et=!1;function Zt(a,s,c,p){s.child=a===null?i_(s,null,c,p):ja(s,a.child,c,p)}function tS(a,s,c,p,b){c=c.render;var _=s.ref;if("ref"in p){var N={};for(var I in p)I!=="ref"&&(N[I]=p[I])}else N=p;return Ma(s),p=Zp(a,s,c,N,_,b),I=em(),a!==null&&!Et?(tm(a,s,b),ii(a,s,b)):(Le&&I&&Op(s),s.flags|=1,Zt(a,s,p,b),s.child)}function nS(a,s,c,p,b){if(a===null){var _=c.type;return typeof _=="function"&&!Ip(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,rS(a,s,_,p,b)):(a=xc(c.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!Tm(a,b)){var N=_.memoizedProps;if(c=c.compare,c=c!==null?c:fl,c(N,p)&&a.ref===s.ref)return ii(a,s,b)}return s.flags|=1,a=Qr(_,p),a.ref=s.ref,a.return=s,s.child=a}function rS(a,s,c,p,b){if(a!==null){var _=a.memoizedProps;if(fl(_,p)&&a.ref===s.ref)if(Et=!1,s.pendingProps=p=_,Tm(a,b))(a.flags&131072)!==0&&(Et=!0);else return s.lanes=a.lanes,ii(a,s,b)}return bm(a,s,c,p,b)}function iS(a,s,c,p){var b=p.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~_}else p=0,s.child=null;return aS(a,s,_,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Ec(s,_!==null?_.cachePool:null),_!==null?s_(s,_):Jp(),l_(s);else return p=s.lanes=536870912,aS(a,s,_!==null?_.baseLanes|c:c,c,p)}else _!==null?(Ec(s,_.cachePool),s_(s,_),Zi(),s.memoizedState=null):(a!==null&&Ec(s,null),Jp(),Zi());return Zt(a,s,b,c),s.child}function Cl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function aS(a,s,c,p,b){var _=$p();return _=_===null?null:{parent:_t._currentValue,pool:_},s.memoizedState={baseLanes:c,cachePool:_},a!==null&&Ec(s,null),Jp(),l_(s),a!==null&&Lo(a,s,p,!0),s.childLanes=b,null}function Bc(a,s){return s=qc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function oS(a,s,c){return ja(s,a.child,null,c),a=Bc(s,s.pendingProps),a.flags|=2,Bn(s),s.memoizedState=null,a}function Uj(a,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Le){if(p.mode==="hidden")return a=Bc(s,p),s.lanes=536870912,Cl(null,a);if(Xp(s),(a=it)?(a=y1(a,or),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Gi!==null?{id:jr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},c=$w(a),c.return=s,s.child=c,Xt=s,it=null)):a=null,a===null)throw Ki(s);return s.lanes=536870912,null}return Bc(s,p)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(Xp(s),b)if(s.flags&256)s.flags&=-257,s=oS(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Et||Lo(a,s,c,!1),b=(c&a.childLanes)!==0,Et||b){if(p=et,p!==null&&(N=Wx(p,c),N!==0&&N!==_.retryLane))throw _.retryLane=N,Ra(a,N),Rn(p,a,N),ym;Xc(),s=oS(a,s,c)}else a=_.treeContext,it=lr(N.nextSibling),Xt=s,Le=!0,Vi=null,or=!1,a!==null&&Vw(s,a),s=Bc(s,p),s.flags|=4096;return s}return a=Qr(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function zc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function bm(a,s,c,p,b){return Ma(s),c=Zp(a,s,c,p,void 0,b),p=em(),a!==null&&!Et?(tm(a,s,b),ii(a,s,b)):(Le&&p&&Op(s),s.flags|=1,Zt(a,s,c,b),s.child)}function sS(a,s,c,p,b,_){return Ma(s),s.updateQueue=null,c=c_(s,p,c,b),u_(a),p=em(),a!==null&&!Et?(tm(a,s,_),ii(a,s,_)):(Le&&p&&Op(s),s.flags|=1,Zt(a,s,c,_),s.child)}function lS(a,s,c,p,b){if(Ma(s),s.stateNode===null){var _=Oo,N=c.contextType;typeof N=="object"&&N!==null&&(_=Qt(N)),_=new c(p,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=gm,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=p,_.state=s.memoizedState,_.refs={},Gp(s),N=c.contextType,_.context=typeof N=="object"&&N!==null?Qt(N):Oo,_.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(mm(s,c,N,p),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&gm.enqueueReplaceState(_,_.state,null),_l(s,p,_,b),wl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){_=s.stateNode;var I=s.memoizedProps,j=Fa(c,I);_.props=j;var V=_.context,ne=c.contextType;N=Oo,typeof ne=="object"&&ne!==null&&(N=Qt(ne));var se=c.getDerivedStateFromProps;ne=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,ne||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||V!==N)&&Y_(s,_,p,N),Ji=!1;var K=s.memoizedState;_.state=K,_l(s,p,_,b),wl(),V=s.memoizedState,I||K!==V||Ji?(typeof se=="function"&&(mm(s,c,se,p),V=s.memoizedState),(j=Ji||K_(s,c,j,p,K,V,N))?(ne||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=V),_.props=p,_.state=V,_.context=N,p=j):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{_=s.stateNode,Vp(a,s),N=s.memoizedProps,ne=Fa(c,N),_.props=ne,se=s.pendingProps,K=_.context,V=c.contextType,j=Oo,typeof V=="object"&&V!==null&&(j=Qt(V)),I=c.getDerivedStateFromProps,(V=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==se||K!==j)&&Y_(s,_,p,j),Ji=!1,K=s.memoizedState,_.state=K,_l(s,p,_,b),wl();var W=s.memoizedState;N!==se||K!==W||Ji||a!==null&&a.dependencies!==null&&_c(a.dependencies)?(typeof I=="function"&&(mm(s,c,I,p),W=s.memoizedState),(ne=Ji||K_(s,c,ne,p,K,W,j)||a!==null&&a.dependencies!==null&&_c(a.dependencies))?(V||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,W,j),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,W,j)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=W),_.props=p,_.state=W,_.context=j,p=ne):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),p=!1)}return _=p,zc(a,s),p=(s.flags&128)!==0,_||p?(_=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&p?(s.child=ja(s,a.child,null,b),s.child=ja(s,null,c,b)):Zt(a,s,c,b),s.memoizedState=_.state,a=s.child):a=ii(a,s,b),a}function uS(a,s,c,p){return Ia(),s.flags|=256,Zt(a,s,c,p),s.child}var xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(a){return{baseLanes:a,cachePool:Qw()}}function _m(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=qn),a}function cS(a,s,c){var p=s.pendingProps,b=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(yt.current&2)!==0),N&&(b=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if(Le){if(b?Qi(s):Zi(),(a=it)?(a=y1(a,or),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Gi!==null?{id:jr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},c=$w(a),c.return=s,s.child=c,Xt=s,it=null)):a=null,a===null)throw Ki(s);return ig(a)?s.lanes=32:s.lanes=536870912,null}var I=p.children;return p=p.fallback,b?(Zi(),b=s.mode,I=qc({mode:"hidden",children:I},b),p=ka(p,b,c,null),I.return=s,p.return=s,I.sibling=p,s.child=I,p=s.child,p.memoizedState=wm(c),p.childLanes=_m(a,N,c),s.memoizedState=xm,Cl(null,p)):(Qi(s),Sm(s,I))}var j=a.memoizedState;if(j!==null&&(I=j.dehydrated,I!==null)){if(_)s.flags&256?(Qi(s),s.flags&=-257,s=Em(a,s,c)):s.memoizedState!==null?(Zi(),s.child=a.child,s.flags|=128,s=null):(Zi(),I=p.fallback,b=s.mode,p=qc({mode:"visible",children:p.children},b),I=ka(I,b,c,null),I.flags|=2,p.return=s,I.return=s,p.sibling=I,s.child=p,ja(s,a.child,null,c),p=s.child,p.memoizedState=wm(c),p.childLanes=_m(a,N,c),s.memoizedState=xm,s=Cl(null,p));else if(Qi(s),ig(I)){if(N=I.nextSibling&&I.nextSibling.dataset,N)var V=N.dgst;N=V,p=Error(r(419)),p.stack="",p.digest=N,ml({value:p,source:null,stack:null}),s=Em(a,s,c)}else if(Et||Lo(a,s,c,!1),N=(c&a.childLanes)!==0,Et||N){if(N=et,N!==null&&(p=Wx(N,c),p!==0&&p!==j.retryLane))throw j.retryLane=p,Ra(a,p),Rn(N,a,p),ym;rg(I)||Xc(),s=Em(a,s,c)}else rg(I)?(s.flags|=192,s.child=a.child,s=null):(a=j.treeContext,it=lr(I.nextSibling),Xt=s,Le=!0,Vi=null,or=!1,a!==null&&Vw(s,a),s=Sm(s,p.children),s.flags|=4096);return s}return b?(Zi(),I=p.fallback,b=s.mode,j=a.child,V=j.sibling,p=Qr(j,{mode:"hidden",children:p.children}),p.subtreeFlags=j.subtreeFlags&65011712,V!==null?I=Qr(V,I):(I=ka(I,b,c,null),I.flags|=2),I.return=s,p.return=s,p.sibling=I,s.child=p,Cl(null,p),p=s.child,I=a.child.memoizedState,I===null?I=wm(c):(b=I.cachePool,b!==null?(j=_t._currentValue,b=b.parent!==j?{parent:j,pool:j}:b):b=Qw(),I={baseLanes:I.baseLanes|c,cachePool:b}),p.memoizedState=I,p.childLanes=_m(a,N,c),s.memoizedState=xm,Cl(a.child,p)):(Qi(s),c=a.child,a=c.sibling,c=Qr(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=c,s.memoizedState=null,c)}function Sm(a,s){return s=qc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function qc(a,s){return a=Ln(22,a,null,s),a.lanes=0,a}function Em(a,s,c){return ja(s,a.child,null,c),a=Sm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function dS(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),Fp(a.return,s,c)}function Am(a,s,c,p,b,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=c,N.tailMode=b,N.treeForkCount=_)}function fS(a,s,c){var p=s.pendingProps,b=p.revealOrder,_=p.tail;p=p.children;var N=yt.current,I=(N&2)!==0;if(I?(N=N&1|2,s.flags|=128):N&=1,re(yt,N),Zt(a,s,p,c),p=Le?pl:0,!I&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dS(a,c,s);else if(a.tag===19)dS(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)a=c.alternate,a!==null&&kc(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),Am(s,!1,b,c,_,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&kc(a)===null){s.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}Am(s,!0,c,null,_,p);break;case"together":Am(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function ii(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),na|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Lo(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Qr(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Qr(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Tm(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&_c(a)))}function jj(a,s,c){switch(s.tag){case 3:Rt(s,s.stateNode.containerInfo),Yi(s,_t,a.memoizedState.cache),Ia();break;case 27:case 5:ke(s);break;case 4:Rt(s,s.stateNode.containerInfo);break;case 10:Yi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xp(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Qi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?cS(a,s,c):(Qi(s),a=ii(a,s,c),a!==null?a.sibling:null);Qi(s);break;case 19:var b=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(Lo(a,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return fS(a,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),re(yt,yt.current),p)break;return null;case 22:return s.lanes=0,iS(a,s,c,s.pendingProps);case 24:Yi(s,_t,a.memoizedState.cache)}return ii(a,s,c)}function hS(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Et=!0;else{if(!Tm(a,c)&&(s.flags&128)===0)return Et=!1,jj(a,s,c);Et=(a.flags&131072)!==0}else Et=!1,Le&&(s.flags&1048576)!==0&&Gw(s,pl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=Da(s.elementType),s.type=a,typeof a=="function")Ip(a)?(p=Fa(a,p),s.tag=1,s=lS(null,s,a,p,c)):(s.tag=0,s=bm(null,s,a,p,c));else{if(a!=null){var b=a.$$typeof;if(b===O){s.tag=11,s=tS(null,s,a,p,c);break e}else if(b===D){s.tag=14,s=nS(null,s,a,p,c);break e}}throw s=Y(a)||a,Error(r(306,s,""))}}return s;case 0:return bm(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=Fa(p,s.pendingProps),lS(a,s,p,b,c);case 3:e:{if(Rt(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var _=s.memoizedState;b=_.element,Vp(a,s),_l(s,p,null,c);var N=s.memoizedState;if(p=N.cache,Yi(s,_t,p),p!==_.cache&&Bp(s,[_t],c,!0),wl(),p=N.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=uS(a,s,p,c);break e}else if(p!==b){b=rr(Error(r(424)),s),ml(b),s=uS(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(it=lr(a.firstChild),Xt=s,Le=!0,Vi=null,or=!0,c=i_(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ia(),p===b){s=ii(a,s,c);break e}Zt(a,s,p,c)}s=s.child}return s;case 26:return zc(a,s),a===null?(c=E1(s.type,null,s.pendingProps,null))?s.memoizedState=c:Le||(c=s.type,a=s.pendingProps,p=id(Te.current).createElement(c),p[Wt]=s,p[Sn]=a,en(p,c,a),jt(p),s.stateNode=p):s.memoizedState=E1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ke(s),a===null&&Le&&(p=s.stateNode=w1(s.type,s.pendingProps,Te.current),Xt=s,or=!0,b=it,sa(s.type)?(ag=b,it=lr(p.firstChild)):it=b),Zt(a,s,s.pendingProps.children,c),zc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Le&&((b=p=it)&&(p=hL(p,s.type,s.pendingProps,or),p!==null?(s.stateNode=p,Xt=s,it=lr(p.firstChild),or=!1,b=!0):b=!1),b||Ki(s)),ke(s),b=s.type,_=s.pendingProps,N=a!==null?a.memoizedProps:null,p=_.children,eg(b,_)?p=null:N!==null&&eg(b,N)&&(s.flags|=32),s.memoizedState!==null&&(b=Zp(a,s,Nj,null,null,c),ql._currentValue=b),zc(a,s),Zt(a,s,p,c),s.child;case 6:return a===null&&Le&&((a=c=it)&&(c=pL(c,s.pendingProps,or),c!==null?(s.stateNode=c,Xt=s,it=null,a=!0):a=!1),a||Ki(s)),null;case 13:return cS(a,s,c);case 4:return Rt(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=ja(s,null,p,c):Zt(a,s,p,c),s.child;case 11:return tS(a,s,s.type,s.pendingProps,c);case 7:return Zt(a,s,s.pendingProps,c),s.child;case 8:return Zt(a,s,s.pendingProps.children,c),s.child;case 12:return Zt(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Yi(s,s.type,p.value),Zt(a,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Ma(s),b=Qt(b),p=p(b),s.flags|=1,Zt(a,s,p,c),s.child;case 14:return nS(a,s,s.type,s.pendingProps,c);case 15:return rS(a,s,s.type,s.pendingProps,c);case 19:return fS(a,s,c);case 31:return Uj(a,s,c);case 22:return iS(a,s,c,s.pendingProps);case 24:return Ma(s),p=Qt(_t),a===null?(b=$p(),b===null&&(b=et,_=zp(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=c),b=_),s.memoizedState={parent:p,cache:b},Gp(s),Yi(s,_t,b)):((a.lanes&c)!==0&&(Vp(a,s),_l(s,null,null,c),wl()),b=a.memoizedState,_=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Yi(s,_t,p)):(p=_.cache,Yi(s,_t,p),p!==b.cache&&Bp(s,[_t],c,!0))),Zt(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ai(a){a.flags|=4}function Cm(a,s,c,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(BS())a.flags|=8192;else throw Ua=Tc,Hp}else a.flags&=-16777217}function pS(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!R1(s))if(BS())a.flags|=8192;else throw Ua=Tc,Hp}function $c(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Kx():536870912,a.lanes|=s,Wo|=s)}function Nl(a,s){if(!Le)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function at(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function Lj(a,s,c){var p=s.pendingProps;switch(Dp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),ti(_t),ae(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(jo(s)?ai(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jp())),at(s),null;case 26:var b=s.type,_=s.memoizedState;return a===null?(ai(s),_!==null?(at(s),pS(s,_)):(at(s),Cm(s,b,null,p,c))):_?_!==a.memoizedState?(ai(s),at(s),pS(s,_)):(at(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&ai(s),at(s),Cm(s,b,a,p,c)),null;case 27:if(Me(s),c=Te.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ai(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return at(s),null}a=le.current,jo(s)?Kw(s):(a=w1(b,p,c),s.stateNode=a,ai(s))}return at(s),null;case 5:if(Me(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ai(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return at(s),null}if(_=le.current,jo(s))Kw(s);else{var N=id(Te.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?N.createElement(b,{is:p.is}):N.createElement(b)}}_[Wt]=s,_[Sn]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch(en(_,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ai(s)}}return at(s),Cm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&ai(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Te.current,jo(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,b=Xt,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[Wt]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||c1(a.nodeValue,c)),a||Ki(s,!0)}else a=id(a).createTextNode(p),a[Wt]=s,s.stateNode=a}return at(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=jo(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Wt]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),a=!1}else c=jp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return at(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=jo(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Wt]=s}else Ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),b=!1}else b=jp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==b&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),$c(s,s.updateQueue),at(s),null);case 4:return ae(),a===null&&Jm(s.stateNode.containerInfo),at(s),null;case 10:return ti(s.type),at(s),null;case 19:if(ee(yt),p=s.memoizedState,p===null)return at(s),null;if(b=(s.flags&128)!==0,_=p.rendering,_===null)if(b)Nl(p,!1);else{if(mt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=kc(a),_!==null){for(s.flags|=128,Nl(p,!1),a=_.updateQueue,s.updateQueue=a,$c(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)qw(c,a),c=c.sibling;return re(yt,yt.current&1|2),Le&&Zr(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&On()>Yc&&(s.flags|=128,b=!0,Nl(p,!1),s.lanes=4194304)}else{if(!b)if(a=kc(_),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,$c(s,a),Nl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Le)return at(s),null}else 2*On()-p.renderingStartTime>Yc&&c!==536870912&&(s.flags|=128,b=!0,Nl(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(a=p.last,a!==null?a.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=On(),a.sibling=null,c=yt.current,re(yt,b?c&1|2:c&1),Le&&Zr(s,p.treeForkCount),a):(at(s),null);case 22:case 23:return Bn(s),Wp(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),c=s.updateQueue,c!==null&&$c(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&ee(Oa),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ti(_t),at(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Fj(a,s){switch(Dp(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ti(_t),ae(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Me(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(r(340));Ia()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Bn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ia()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ee(yt),null;case 4:return ae(),null;case 10:return ti(s.type),null;case 22:case 23:return Bn(s),Wp(),a!==null&&ee(Oa),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ti(_t),null;case 25:return null;default:return null}}function mS(a,s){switch(Dp(s),s.tag){case 3:ti(_t),ae();break;case 26:case 27:case 5:Me(s);break;case 4:ae();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:ee(yt);break;case 10:ti(s.type);break;case 22:case 23:Bn(s),Wp(),a!==null&&ee(Oa);break;case 24:ti(_t)}}function Rl(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&a)===a){p=void 0;var _=c.create,N=c.inst;p=_(),N.destroy=p}c=c.next}while(c!==b)}}catch(I){Ke(s,s.return,I)}}function ea(a,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var _=b.next;p=_;do{if((p.tag&a)===a){var N=p.inst,I=N.destroy;if(I!==void 0){N.destroy=void 0,b=s;var j=c,V=I;try{V()}catch(ne){Ke(b,j,ne)}}}p=p.next}while(p!==_)}}catch(ne){Ke(s,s.return,ne)}}function gS(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{o_(s,c)}catch(p){Ke(a,a.return,p)}}}function vS(a,s,c){c.props=Fa(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){Ke(a,s,p)}}function kl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(b){Ke(a,s,b)}}function Fr(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){Ke(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Ke(a,s,b)}else c.current=null}function yS(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){Ke(a,a.return,b)}}function Nm(a,s,c){try{var p=a.stateNode;sL(p,a.type,c,s),p[Sn]=s}catch(b){Ke(a,a.return,b)}}function bS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&sa(a.type)||a.tag===4}function Rm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||bS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&sa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function km(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Wr));else if(p!==4&&(p===27&&sa(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(km(a,s,c),a=a.sibling;a!==null;)km(a,s,c),a=a.sibling}function Hc(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&sa(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Hc(a,s,c),a=a.sibling;a!==null;)Hc(a,s,c),a=a.sibling}function xS(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);en(s,p,c),s[Wt]=a,s[Sn]=c}catch(_){Ke(a,a.return,_)}}var oi=!1,At=!1,Im=!1,wS=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function Bj(a,s){if(a=a.containerInfo,Qm=dd,a=Mw(a),Ep(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var N=0,I=-1,j=-1,V=0,ne=0,se=a,K=null;t:for(;;){for(var W;se!==c||b!==0&&se.nodeType!==3||(I=N+b),se!==_||p!==0&&se.nodeType!==3||(j=N+p),se.nodeType===3&&(N+=se.nodeValue.length),(W=se.firstChild)!==null;)K=se,se=W;for(;;){if(se===a)break t;if(K===c&&++V===b&&(I=N),K===_&&++ne===p&&(j=N),(W=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=W}c=I===-1||j===-1?null:{start:I,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(Zm={focusedElem:a,selectionRange:c},dd=!1,Lt=s;Lt!==null;)if(s=Lt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Lt=a;else for(;Lt!==null;){switch(s=Lt,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=s,b=_.memoizedProps,_=_.memoizedState,p=c.stateNode;try{var pe=Fa(c.type,b);a=p.getSnapshotBeforeUpdate(pe,_),p.__reactInternalSnapshotBeforeUpdate=a}catch(_e){Ke(c,c.return,_e)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)ng(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ng(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Lt=a;break}Lt=s.return}}function _S(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:li(a,c),p&4&&Rl(5,c);break;case 1:if(li(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(N){Ke(c,c.return,N)}else{var b=Fa(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Ke(c,c.return,N)}}p&64&&gS(c),p&512&&kl(c,c.return);break;case 3:if(li(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{o_(a,s)}catch(N){Ke(c,c.return,N)}}break;case 27:s===null&&p&4&&xS(c);case 26:case 5:li(a,c),s===null&&p&4&&yS(c),p&512&&kl(c,c.return);break;case 12:li(a,c);break;case 31:li(a,c),p&4&&AS(a,c);break;case 13:li(a,c),p&4&&TS(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=Jj.bind(null,c),mL(a,c))));break;case 22:if(p=c.memoizedState!==null||oi,!p){s=s!==null&&s.memoizedState!==null||At,b=oi;var _=At;oi=p,(At=s)&&!_?ui(a,c,(c.subtreeFlags&8772)!==0):li(a,c),oi=b,At=_}break;case 30:break;default:li(a,c)}}function SS(a){var s=a.alternate;s!==null&&(a.alternate=null,SS(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&sp(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var lt=null,An=!1;function si(a,s,c){for(c=c.child;c!==null;)ES(a,s,c),c=c.sibling}function ES(a,s,c){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(el,c)}catch{}switch(c.tag){case 26:At||Fr(c,s),si(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:At||Fr(c,s);var p=lt,b=An;sa(c.type)&&(lt=c.stateNode,An=!1),si(a,s,c),Fl(c.stateNode),lt=p,An=b;break;case 5:At||Fr(c,s);case 6:if(p=lt,b=An,lt=null,si(a,s,c),lt=p,An=b,lt!==null)if(An)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(c.stateNode)}catch(_){Ke(c,s,_)}else try{lt.removeChild(c.stateNode)}catch(_){Ke(c,s,_)}break;case 18:lt!==null&&(An?(a=lt,g1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),is(a)):g1(lt,c.stateNode));break;case 4:p=lt,b=An,lt=c.stateNode.containerInfo,An=!0,si(a,s,c),lt=p,An=b;break;case 0:case 11:case 14:case 15:ea(2,c,s),At||ea(4,c,s),si(a,s,c);break;case 1:At||(Fr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&vS(c,s,p)),si(a,s,c);break;case 21:si(a,s,c);break;case 22:At=(p=At)||c.memoizedState!==null,si(a,s,c),At=p;break;default:si(a,s,c)}}function AS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{is(a)}catch(c){Ke(s,s.return,c)}}}function TS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{is(a)}catch(c){Ke(s,s.return,c)}}function zj(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new wS),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new wS),s;default:throw Error(r(435,a.tag))}}function Gc(a,s){var c=zj(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=Wj.bind(null,a,p);p.then(b,b)}})}function Tn(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],_=a,N=s,I=N;e:for(;I!==null;){switch(I.tag){case 27:if(sa(I.type)){lt=I.stateNode,An=!1;break e}break;case 5:lt=I.stateNode,An=!1;break e;case 3:case 4:lt=I.stateNode.containerInfo,An=!0;break e}I=I.return}if(lt===null)throw Error(r(160));ES(_,N,b),lt=null,An=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)CS(s,a),s=s.sibling}var wr=null;function CS(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Tn(s,a),Cn(a),p&4&&(ea(3,a,a.return),Rl(3,a),ea(5,a,a.return));break;case 1:Tn(s,a),Cn(a),p&512&&(At||c===null||Fr(c,c.return)),p&64&&oi&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=wr;if(Tn(s,a),Cn(a),p&512&&(At||c===null||Fr(c,c.return)),p&4){var _=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":_=b.getElementsByTagName("title")[0],(!_||_[rl]||_[Wt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(p),b.head.insertBefore(_,b.querySelector("head > title"))),en(_,p,c),_[Wt]=a,jt(_),p=_;break e;case"link":var N=C1("link","href",b).get(p+(c.href||""));if(N){for(var I=0;I<N.length;I++)if(_=N[I],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(I,1);break t}}_=b.createElement(p),en(_,p,c),b.head.appendChild(_);break;case"meta":if(N=C1("meta","content",b).get(p+(c.content||""))){for(I=0;I<N.length;I++)if(_=N[I],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(I,1);break t}}_=b.createElement(p),en(_,p,c),b.head.appendChild(_);break;default:throw Error(r(468,p))}_[Wt]=a,jt(_),p=_}a.stateNode=p}else N1(b,a.type,a.stateNode);else a.stateNode=T1(b,p,a.memoizedProps);else _!==p?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,p===null?N1(b,a.type,a.stateNode):T1(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&Nm(a,a.memoizedProps,c.memoizedProps)}break;case 27:Tn(s,a),Cn(a),p&512&&(At||c===null||Fr(c,c.return)),c!==null&&p&4&&Nm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Tn(s,a),Cn(a),p&512&&(At||c===null||Fr(c,c.return)),a.flags&32){b=a.stateNode;try{Co(b,"")}catch(pe){Ke(a,a.return,pe)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,Nm(a,b,c!==null?c.memoizedProps:b)),p&1024&&(Im=!0);break;case 6:if(Tn(s,a),Cn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(pe){Ke(a,a.return,pe)}}break;case 3:if(sd=null,b=wr,wr=ad(s.containerInfo),Tn(s,a),wr=b,Cn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{is(s.containerInfo)}catch(pe){Ke(a,a.return,pe)}Im&&(Im=!1,NS(a));break;case 4:p=wr,wr=ad(a.stateNode.containerInfo),Tn(s,a),Cn(a),wr=p;break;case 12:Tn(s,a),Cn(a);break;case 31:Tn(s,a),Cn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gc(a,p)));break;case 13:Tn(s,a),Cn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Kc=On()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gc(a,p)));break;case 22:b=a.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,V=oi,ne=At;if(oi=V||b,At=ne||j,Tn(s,a),At=ne,oi=V,Cn(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||j||oi||At||Ba(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){j=c=s;try{if(_=j.stateNode,b)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{I=j.stateNode;var se=j.memoizedProps.style,K=se!=null&&se.hasOwnProperty("display")?se.display:null;I.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pe){Ke(j,j.return,pe)}}}else if(s.tag===6){if(c===null){j=s;try{j.stateNode.nodeValue=b?"":j.memoizedProps}catch(pe){Ke(j,j.return,pe)}}}else if(s.tag===18){if(c===null){j=s;try{var W=j.stateNode;b?v1(W,!0):v1(j.stateNode,!1)}catch(pe){Ke(j,j.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Gc(a,c))));break;case 19:Tn(s,a),Cn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,Gc(a,p)));break;case 30:break;case 21:break;default:Tn(s,a),Cn(a)}}function Cn(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(bS(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,_=Rm(a);Hc(a,_,b);break;case 5:var N=c.stateNode;c.flags&32&&(Co(N,""),c.flags&=-33);var I=Rm(a);Hc(a,I,N);break;case 3:case 4:var j=c.stateNode.containerInfo,V=Rm(a);km(a,V,j);break;default:throw Error(r(161))}}catch(ne){Ke(a,a.return,ne)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function NS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;NS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function li(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_S(a,s.alternate,s),s=s.sibling}function Ba(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:ea(4,s,s.return),Ba(s);break;case 1:Fr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&vS(s,s.return,c),Ba(s);break;case 27:Fl(s.stateNode);case 26:case 5:Fr(s,s.return),Ba(s);break;case 22:s.memoizedState===null&&Ba(s);break;case 30:Ba(s);break;default:Ba(s)}a=a.sibling}}function ui(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:ui(b,_,c),Rl(4,_);break;case 1:if(ui(b,_,c),p=_,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(V){Ke(p,p.return,V)}if(p=_,b=p.updateQueue,b!==null){var I=p.stateNode;try{var j=b.shared.hiddenCallbacks;if(j!==null)for(b.shared.hiddenCallbacks=null,b=0;b<j.length;b++)a_(j[b],I)}catch(V){Ke(p,p.return,V)}}c&&N&64&&gS(_),kl(_,_.return);break;case 27:xS(_);case 26:case 5:ui(b,_,c),c&&p===null&&N&4&&yS(_),kl(_,_.return);break;case 12:ui(b,_,c);break;case 31:ui(b,_,c),c&&N&4&&AS(b,_);break;case 13:ui(b,_,c),c&&N&4&&TS(b,_);break;case 22:_.memoizedState===null&&ui(b,_,c),kl(_,_.return);break;case 30:break;default:ui(b,_,c)}s=s.sibling}}function Pm(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&gl(c))}function Mm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&gl(a))}function _r(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)RS(a,s,c,p),s=s.sibling}function RS(a,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:_r(a,s,c,p),b&2048&&Rl(9,s);break;case 1:_r(a,s,c,p);break;case 3:_r(a,s,c,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&gl(a)));break;case 12:if(b&2048){_r(a,s,c,p),a=s.stateNode;try{var _=s.memoizedProps,N=_.id,I=_.onPostCommit;typeof I=="function"&&I(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){Ke(s,s.return,j)}}else _r(a,s,c,p);break;case 31:_r(a,s,c,p);break;case 13:_r(a,s,c,p);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?_r(a,s,c,p):Il(a,s):_._visibility&2?_r(a,s,c,p):(_._visibility|=2,Ko(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&Pm(N,s);break;case 24:_r(a,s,c,p),b&2048&&Mm(s.alternate,s);break;default:_r(a,s,c,p)}}function Ko(a,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,N=s,I=c,j=p,V=N.flags;switch(N.tag){case 0:case 11:case 15:Ko(_,N,I,j,b),Rl(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&2?Ko(_,N,I,j,b):Il(_,N):(ne._visibility|=2,Ko(_,N,I,j,b)),b&&V&2048&&Pm(N.alternate,N);break;case 24:Ko(_,N,I,j,b),b&&V&2048&&Mm(N.alternate,N);break;default:Ko(_,N,I,j,b)}s=s.sibling}}function Il(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,b=p.flags;switch(p.tag){case 22:Il(c,p),b&2048&&Pm(p.alternate,p);break;case 24:Il(c,p),b&2048&&Mm(p.alternate,p);break;default:Il(c,p)}s=s.sibling}}var Pl=8192;function Yo(a,s,c){if(a.subtreeFlags&Pl)for(a=a.child;a!==null;)kS(a,s,c),a=a.sibling}function kS(a,s,c){switch(a.tag){case 26:Yo(a,s,c),a.flags&Pl&&a.memoizedState!==null&&CL(c,wr,a.memoizedState,a.memoizedProps);break;case 5:Yo(a,s,c);break;case 3:case 4:var p=wr;wr=ad(a.stateNode.containerInfo),Yo(a,s,c),wr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Pl,Pl=16777216,Yo(a,s,c),Pl=p):Yo(a,s,c));break;default:Yo(a,s,c)}}function IS(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Ml(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Lt=p,MS(p,a)}IS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PS(a),a=a.sibling}function PS(a){switch(a.tag){case 0:case 11:case 15:Ml(a),a.flags&2048&&ea(9,a,a.return);break;case 3:Ml(a);break;case 12:Ml(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Vc(a)):Ml(a);break;default:Ml(a)}}function Vc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Lt=p,MS(p,a)}IS(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:ea(8,s,s.return),Vc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Vc(s));break;default:Vc(s)}a=a.sibling}}function MS(a,s){for(;Lt!==null;){var c=Lt;switch(c.tag){case 0:case 11:case 15:ea(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:gl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Lt=p;else e:for(c=a;Lt!==null;){p=Lt;var b=p.sibling,_=p.return;if(SS(p),p===c){Lt=null;break e}if(b!==null){b.return=_,Lt=b;break e}Lt=_}}}var qj={getCacheForType:function(a){var s=Qt(_t),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Qt(_t).controller.signal}},$j=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Oe=null,Ue=0,Ve=0,zn=null,ta=!1,Jo=!1,Om=!1,ci=0,mt=0,na=0,za=0,Dm=0,qn=0,Wo=0,Ol=null,Nn=null,Um=!1,Kc=0,OS=0,Yc=1/0,Jc=null,ra=null,kt=0,ia=null,Xo=null,di=0,jm=0,Lm=null,DS=null,Dl=0,Fm=null;function $n(){return(Ge&2)!==0&&Ue!==0?Ue&-Ue:q.T!==null?Gm():Xx()}function US(){if(qn===0)if((Ue&536870912)===0||Le){var a=rc;rc<<=1,(rc&3932160)===0&&(rc=262144),qn=a}else qn=536870912;return a=Fn.current,a!==null&&(a.flags|=32),qn}function Rn(a,s,c){(a===et&&(Ve===2||Ve===9)||a.cancelPendingCommit!==null)&&(Qo(a,0),aa(a,Ue,qn,!1)),nl(a,c),((Ge&2)===0||a!==et)&&(a===et&&((Ge&2)===0&&(za|=c),mt===4&&aa(a,Ue,qn,!1)),Br(a))}function jS(a,s,c){if((Ge&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||tl(a,s),b=p?Vj(a,s):zm(a,s,!0),_=p;do{if(b===0){Jo&&!p&&aa(a,s,0,!1);break}else{if(c=a.current.alternate,_&&!Hj(c)){b=zm(a,s,!1),_=!1;continue}if(b===2){if(_=s,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var I=a;b=Ol;var j=I.current.memoizedState.isDehydrated;if(j&&(Qo(I,N).flags|=256),N=zm(I,N,!1),N!==2){if(Om&&!j){I.errorRecoveryDisabledLanes|=_,za|=_,b=4;break e}_=Nn,Nn=b,_!==null&&(Nn===null?Nn=_:Nn.push.apply(Nn,_))}b=N}if(_=!1,b!==2)continue}}if(b===1){Qo(a,0),aa(a,s,0,!0);break}e:{switch(p=a,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:aa(p,s,qn,!ta);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Kc+300-On(),10<b)){if(aa(p,s,qn,!ta),ac(p,0,!0)!==0)break e;di=s,p.timeoutHandle=p1(LS.bind(null,p,c,Nn,Jc,Um,s,qn,za,Wo,ta,_,"Throttled",-0,0),b);break e}LS(p,c,Nn,Jc,Um,s,qn,za,Wo,ta,_,null,-0,0)}}break}while(!0);Br(a)}function LS(a,s,c,p,b,_,N,I,j,V,ne,se,K,W){if(a.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},kS(s,_,se);var pe=(_&62914560)===_?Kc-On():(_&4194048)===_?OS-On():0;if(pe=NL(se,pe),pe!==null){di=_,a.cancelPendingCommit=pe(VS.bind(null,a,s,_,c,p,b,N,I,j,ne,se,null,K,W)),aa(a,_,N,!V);return}}VS(a,s,_,c,p,b,N,I,j)}function Hj(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],_=b.getSnapshot;b=b.value;try{if(!jn(_(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function aa(a,s,c,p){s&=~Dm,s&=~za,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var _=31-Un(b),N=1<<_;p[_]=-1,b&=~N}c!==0&&Yx(a,c,s)}function Wc(){return(Ge&6)===0?(Ul(0),!1):!0}function Bm(){if(Oe!==null){if(Ve===0)var a=Oe.return;else a=Oe,ei=Pa=null,nm(a),qo=null,yl=0,a=Oe;for(;a!==null;)mS(a.alternate,a),a=a.return;Oe=null}}function Qo(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,cL(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),di=0,Bm(),et=a,Oe=c=Qr(a.current,null),Ue=s,Ve=0,zn=null,ta=!1,Jo=tl(a,s),Om=!1,Wo=qn=Dm=za=na=mt=0,Nn=Ol=null,Um=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-Un(p),_=1<<b;s|=a[b],p&=~_}return ci=s,vc(),c}function FS(a,s){Ie=null,q.H=Tl,s===zo||s===Ac?(s=t_(),Ve=3):s===Hp?(s=t_(),Ve=4):Ve=s===ym?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Oe===null&&(mt=1,Fc(a,rr(s,a.current)))}function BS(){var a=Fn.current;return a===null?!0:(Ue&4194048)===Ue?sr===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?a===sr:!1}function zS(){var a=q.H;return q.H=Tl,a===null?Tl:a}function qS(){var a=q.A;return q.A=qj,a}function Xc(){mt=4,ta||(Ue&4194048)!==Ue&&Fn.current!==null||(Jo=!0),(na&134217727)===0&&(za&134217727)===0||et===null||aa(et,Ue,qn,!1)}function zm(a,s,c){var p=Ge;Ge|=2;var b=zS(),_=qS();(et!==a||Ue!==s)&&(Jc=null,Qo(a,s)),s=!1;var N=mt;e:do try{if(Ve!==0&&Oe!==null){var I=Oe,j=zn;switch(Ve){case 8:Bm(),N=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var V=Ve;if(Ve=0,zn=null,Zo(a,I,j,V),c&&Jo){N=0;break e}break;default:V=Ve,Ve=0,zn=null,Zo(a,I,j,V)}}Gj(),N=mt;break}catch(ne){FS(a,ne)}while(!0);return s&&a.shellSuspendCounter++,ei=Pa=null,Ge=p,q.H=b,q.A=_,Oe===null&&(et=null,Ue=0,vc()),N}function Gj(){for(;Oe!==null;)$S(Oe)}function Vj(a,s){var c=Ge;Ge|=2;var p=zS(),b=qS();et!==a||Ue!==s?(Jc=null,Yc=On()+500,Qo(a,s)):Jo=tl(a,s);e:do try{if(Ve!==0&&Oe!==null){s=Oe;var _=zn;t:switch(Ve){case 1:Ve=0,zn=null,Zo(a,s,_,1);break;case 2:case 9:if(Zw(_)){Ve=0,zn=null,HS(s);break}s=function(){Ve!==2&&Ve!==9||et!==a||(Ve=7),Br(a)},_.then(s,s);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Zw(_)?(Ve=0,zn=null,HS(s)):(Ve=0,zn=null,Zo(a,s,_,7));break;case 5:var N=null;switch(Oe.tag){case 26:N=Oe.memoizedState;case 5:case 27:var I=Oe;if(N?R1(N):I.stateNode.complete){Ve=0,zn=null;var j=I.sibling;if(j!==null)Oe=j;else{var V=I.return;V!==null?(Oe=V,Qc(V)):Oe=null}break t}}Ve=0,zn=null,Zo(a,s,_,5);break;case 6:Ve=0,zn=null,Zo(a,s,_,6);break;case 8:Bm(),mt=6;break e;default:throw Error(r(462))}}Kj();break}catch(ne){FS(a,ne)}while(!0);return ei=Pa=null,q.H=p,q.A=b,Ge=c,Oe!==null?0:(et=null,Ue=0,vc(),mt)}function Kj(){for(;Oe!==null&&!gU();)$S(Oe)}function $S(a){var s=hS(a.alternate,a,ci);a.memoizedProps=a.pendingProps,s===null?Qc(a):Oe=s}function HS(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=sS(c,s,s.pendingProps,s.type,void 0,Ue);break;case 11:s=sS(c,s,s.pendingProps,s.type.render,s.ref,Ue);break;case 5:nm(s);default:mS(c,s),s=Oe=qw(s,ci),s=hS(c,s,ci)}a.memoizedProps=a.pendingProps,s===null?Qc(a):Oe=s}function Zo(a,s,c,p){ei=Pa=null,nm(s),qo=null,yl=0;var b=s.return;try{if(Dj(a,b,s,c,Ue)){mt=1,Fc(a,rr(c,a.current)),Oe=null;return}}catch(_){if(b!==null)throw Oe=b,_;mt=1,Fc(a,rr(c,a.current)),Oe=null;return}s.flags&32768?(Le||p===1?a=!0:Jo||(Ue&536870912)!==0?a=!1:(ta=a=!0,(p===2||p===9||p===3||p===6)&&(p=Fn.current,p!==null&&p.tag===13&&(p.flags|=16384))),GS(s,a)):Qc(s)}function Qc(a){var s=a;do{if((s.flags&32768)!==0){GS(s,ta);return}a=s.return;var c=Lj(s.alternate,s,ci);if(c!==null){Oe=c;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=a}while(s!==null);mt===0&&(mt=5)}function GS(a,s){do{var c=Fj(a.alternate,a);if(c!==null){c.flags&=32767,Oe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Oe=a;return}Oe=a=c}while(a!==null);mt=6,Oe=null}function VS(a,s,c,p,b,_,N,I,j){a.cancelPendingCommit=null;do Zc();while(kt!==0);if((Ge&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Rp,TU(a,c,_,N,I,j),a===et&&(Oe=et=null,Ue=0),Xo=s,ia=a,di=c,jm=_,Lm=b,DS=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Xj(tc,function(){return XS(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=q.T,q.T=null,b=X.p,X.p=2,N=Ge,Ge|=4;try{Bj(a,s,c)}finally{Ge=N,X.p=b,q.T=p}}kt=1,KS(),YS(),JS()}}function KS(){if(kt===1){kt=0;var a=ia,s=Xo,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=q.T,q.T=null;var p=X.p;X.p=2;var b=Ge;Ge|=4;try{CS(s,a);var _=Zm,N=Mw(a.containerInfo),I=_.focusedElem,j=_.selectionRange;if(N!==I&&I&&I.ownerDocument&&Pw(I.ownerDocument.documentElement,I)){if(j!==null&&Ep(I)){var V=j.start,ne=j.end;if(ne===void 0&&(ne=V),"selectionStart"in I)I.selectionStart=V,I.selectionEnd=Math.min(ne,I.value.length);else{var se=I.ownerDocument||document,K=se&&se.defaultView||window;if(K.getSelection){var W=K.getSelection(),pe=I.textContent.length,_e=Math.min(j.start,pe),Qe=j.end===void 0?_e:Math.min(j.end,pe);!W.extend&&_e>Qe&&(N=Qe,Qe=_e,_e=N);var $=Iw(I,_e),z=Iw(I,Qe);if($&&z&&(W.rangeCount!==1||W.anchorNode!==$.node||W.anchorOffset!==$.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var H=se.createRange();H.setStart($.node,$.offset),W.removeAllRanges(),_e>Qe?(W.addRange(H),W.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),W.addRange(H))}}}}for(se=[],W=I;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<se.length;I++){var oe=se[I];oe.element.scrollLeft=oe.left,oe.element.scrollTop=oe.top}}dd=!!Qm,Zm=Qm=null}finally{Ge=b,X.p=p,q.T=c}}a.current=s,kt=2}}function YS(){if(kt===2){kt=0;var a=ia,s=Xo,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=q.T,q.T=null;var p=X.p;X.p=2;var b=Ge;Ge|=4;try{_S(a,s.alternate,s)}finally{Ge=b,X.p=p,q.T=c}}kt=3}}function JS(){if(kt===4||kt===3){kt=0,vU();var a=ia,s=Xo,c=di,p=DS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,Xo=ia=null,WS(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(ra=null),ap(c),s=s.stateNode,Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(el,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=q.T,b=X.p,X.p=2,q.T=null;try{for(var _=a.onRecoverableError,N=0;N<p.length;N++){var I=p[N];_(I.value,{componentStack:I.stack})}}finally{q.T=s,X.p=b}}(di&3)!==0&&Zc(),Br(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===Fm?Dl++:(Dl=0,Fm=a):Dl=0,Ul(0)}}function WS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,gl(s)))}function Zc(){return KS(),YS(),JS(),XS()}function XS(){if(kt!==5)return!1;var a=ia,s=jm;jm=0;var c=ap(di),p=q.T,b=X.p;try{X.p=32>c?32:c,q.T=null,c=Lm,Lm=null;var _=ia,N=di;if(kt=0,Xo=ia=null,di=0,(Ge&6)!==0)throw Error(r(331));var I=Ge;if(Ge|=4,PS(_.current),RS(_,_.current,N,c),Ge=I,Ul(0,!1),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(el,_)}catch{}return!0}finally{X.p=b,q.T=p,WS(a,s)}}function QS(a,s,c){s=rr(c,s),s=vm(a.stateNode,s,2),a=Xi(a,s,2),a!==null&&(nl(a,2),Br(a))}function Ke(a,s,c){if(a.tag===3)QS(a,a,c);else for(;s!==null;){if(s.tag===3){QS(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ra===null||!ra.has(p))){a=rr(c,a),c=Z_(2),p=Xi(s,c,2),p!==null&&(eS(c,p,s,a),nl(p,2),Br(p));break}}s=s.return}}function qm(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new $j;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(Om=!0,b.add(c),a=Yj.bind(null,a,s,c),s.then(a,a))}function Yj(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,et===a&&(Ue&c)===c&&(mt===4||mt===3&&(Ue&62914560)===Ue&&300>On()-Kc?(Ge&2)===0&&Qo(a,0):Dm|=c,Wo===Ue&&(Wo=0)),Br(a)}function ZS(a,s){s===0&&(s=Kx()),a=Ra(a,s),a!==null&&(nl(a,s),Br(a))}function Jj(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),ZS(a,c)}function Wj(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),ZS(a,c)}function Xj(a,s){return tp(a,s)}var ed=null,es=null,$m=!1,td=!1,Hm=!1,oa=0;function Br(a){a!==es&&a.next===null&&(es===null?ed=es=a:es=es.next=a),td=!0,$m||($m=!0,Zj())}function Ul(a,s){if(!Hm&&td){Hm=!0;do for(var c=!1,p=ed;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var _=0;else{var N=p.suspendedLanes,I=p.pingedLanes;_=(1<<31-Un(42|a)+1)-1,_&=b&~(N&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,r1(p,_))}else _=Ue,_=ac(p,p===et?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||tl(p,_)||(c=!0,r1(p,_));p=p.next}while(c);Hm=!1}}function Qj(){e1()}function e1(){td=$m=!1;var a=0;oa!==0&&uL()&&(a=oa);for(var s=On(),c=null,p=ed;p!==null;){var b=p.next,_=t1(p,s);_===0?(p.next=null,c===null?ed=b:c.next=b,b===null&&(es=c)):(c=p,(a!==0||(_&3)!==0)&&(td=!0)),p=b}kt!==0&&kt!==5||Ul(a),oa!==0&&(oa=0)}function t1(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-Un(_),I=1<<N,j=b[N];j===-1?((I&c)===0||(I&p)!==0)&&(b[N]=AU(I,s)):j<=s&&(a.expiredLanes|=I),_&=~I}if(s=et,c=Ue,c=ac(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(Ve===2||Ve===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&np(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||tl(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&np(p),ap(c)){case 2:case 8:c=Gx;break;case 32:c=tc;break;case 268435456:c=Vx;break;default:c=tc}return p=n1.bind(null,a),c=tp(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&np(p),a.callbackPriority=2,a.callbackNode=null,2}function n1(a,s){if(kt!==0&&kt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Zc()&&a.callbackNode!==c)return null;var p=Ue;return p=ac(a,a===et?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(jS(a,p,s),t1(a,On()),a.callbackNode!=null&&a.callbackNode===c?n1.bind(null,a):null)}function r1(a,s){if(Zc())return null;jS(a,s,!0)}function Zj(){dL(function(){(Ge&6)!==0?tp(Hx,Qj):e1()})}function Gm(){if(oa===0){var a=Fo;a===0&&(a=nc,nc<<=1,(nc&261888)===0&&(nc=256)),oa=a}return oa}function i1(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:uc(""+a)}function a1(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function eL(a,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var _=i1((b[Sn]||null).action),N=p.submitter;N&&(s=(s=N[Sn]||null)?i1(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var I=new hc("action","action",null,p,b);a.push({event:I,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(oa!==0){var j=N?a1(b,N):new FormData(b);dm(c,{pending:!0,data:j,method:b.method,action:_},null,j)}}else typeof _=="function"&&(I.preventDefault(),j=N?a1(b,N):new FormData(b),dm(c,{pending:!0,data:j,method:b.method,action:_},_,j))},currentTarget:b}]})}}for(var Vm=0;Vm<Np.length;Vm++){var Km=Np[Vm],tL=Km.toLowerCase(),nL=Km[0].toUpperCase()+Km.slice(1);xr(tL,"on"+nL)}xr(Uw,"onAnimationEnd"),xr(jw,"onAnimationIteration"),xr(Lw,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(yj,"onTransitionRun"),xr(bj,"onTransitionStart"),xr(xj,"onTransitionCancel"),xr(Fw,"onTransitionEnd"),Ao("onMouseEnter",["mouseout","mouseover"]),Ao("onMouseLeave",["mouseout","mouseover"]),Ao("onPointerEnter",["pointerout","pointerover"]),Ao("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function o1(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],b=p.event;p=p.listeners;e:{var _=void 0;if(s)for(var N=p.length-1;0<=N;N--){var I=p[N],j=I.instance,V=I.currentTarget;if(I=I.listener,j!==_&&b.isPropagationStopped())break e;_=I,b.currentTarget=V;try{_(b)}catch(ne){gc(ne)}b.currentTarget=null,_=j}else for(N=0;N<p.length;N++){if(I=p[N],j=I.instance,V=I.currentTarget,I=I.listener,j!==_&&b.isPropagationStopped())break e;_=I,b.currentTarget=V;try{_(b)}catch(ne){gc(ne)}b.currentTarget=null,_=j}}}}function De(a,s){var c=s[op];c===void 0&&(c=s[op]=new Set);var p=a+"__bubble";c.has(p)||(s1(s,a,2,!1),c.add(p))}function Ym(a,s,c){var p=0;s&&(p|=4),s1(c,a,p,s)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Jm(a){if(!a[nd]){a[nd]=!0,ew.forEach(function(c){c!=="selectionchange"&&(rL.has(c)||Ym(c,!1,a),Ym(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[nd]||(s[nd]=!0,Ym("selectionchange",!1,s))}}function s1(a,s,c,p){switch(U1(s)){case 2:var b=IL;break;case 8:b=PL;break;default:b=cg}c=b.bind(null,s,c,a),b=void 0,!mp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,c,{capture:!0,passive:b}):a.addEventListener(s,c,!0):b!==void 0?a.addEventListener(s,c,{passive:b}):a.addEventListener(s,c,!1)}function Wm(a,s,c,p,b){var _=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var I=p.stateNode.containerInfo;if(I===b)break;if(N===4)for(N=p.return;N!==null;){var j=N.tag;if((j===3||j===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;I!==null;){if(N=_o(I),N===null)return;if(j=N.tag,j===5||j===6||j===26||j===27){p=_=N;continue e}I=I.parentNode}}p=p.return}fw(function(){var V=_,ne=hp(c),se=[];e:{var K=Bw.get(a);if(K!==void 0){var W=hc,pe=a;switch(a){case"keypress":if(dc(c)===0)break e;case"keydown":case"keyup":W=WU;break;case"focusin":pe="focus",W=bp;break;case"focusout":pe="blur",W=bp;break;case"beforeblur":case"afterblur":W=bp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=mw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=LU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=ZU;break;case Uw:case jw:case Lw:W=zU;break;case Fw:W=tj;break;case"scroll":case"scrollend":W=UU;break;case"wheel":W=rj;break;case"copy":case"cut":case"paste":W=$U;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=vw;break;case"toggle":case"beforetoggle":W=aj}var _e=(s&4)!==0,Qe=!_e&&(a==="scroll"||a==="scrollend"),$=_e?K!==null?K+"Capture":null:K;_e=[];for(var z=V,H;z!==null;){var oe=z;if(H=oe.stateNode,oe=oe.tag,oe!==5&&oe!==26&&oe!==27||H===null||$===null||(oe=al(z,$),oe!=null&&_e.push(Ll(z,oe,H))),Qe)break;z=z.return}0<_e.length&&(K=new W(K,pe,null,c,ne),se.push({event:K,listeners:_e}))}}if((s&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",W=a==="mouseout"||a==="pointerout",K&&c!==fp&&(pe=c.relatedTarget||c.fromElement)&&(_o(pe)||pe[wo]))break e;if((W||K)&&(K=ne.window===ne?ne:(K=ne.ownerDocument)?K.defaultView||K.parentWindow:window,W?(pe=c.relatedTarget||c.toElement,W=V,pe=pe?_o(pe):null,pe!==null&&(Qe=o(pe),_e=pe.tag,pe!==Qe||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(W=null,pe=V),W!==pe)){if(_e=mw,oe="onMouseLeave",$="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(_e=vw,oe="onPointerLeave",$="onPointerEnter",z="pointer"),Qe=W==null?K:il(W),H=pe==null?K:il(pe),K=new _e(oe,z+"leave",W,c,ne),K.target=Qe,K.relatedTarget=H,oe=null,_o(ne)===V&&(_e=new _e($,z+"enter",pe,c,ne),_e.target=H,_e.relatedTarget=Qe,oe=_e),Qe=oe,W&&pe)t:{for(_e=iL,$=W,z=pe,H=0,oe=$;oe;oe=_e(oe))H++;oe=0;for(var xe=z;xe;xe=_e(xe))oe++;for(;0<H-oe;)$=_e($),H--;for(;0<oe-H;)z=_e(z),oe--;for(;H--;){if($===z||z!==null&&$===z.alternate){_e=$;break t}$=_e($),z=_e(z)}_e=null}else _e=null;W!==null&&l1(se,K,W,_e,!1),pe!==null&&Qe!==null&&l1(se,Qe,pe,_e,!0)}}e:{if(K=V?il(V):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var ze=Aw;else if(Sw(K))if(Tw)ze=mj;else{ze=hj;var ge=fj}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?V&&dp(V.elementType)&&(ze=Aw):ze=pj;if(ze&&(ze=ze(a,V))){Ew(se,ze,c,ne);break e}ge&&ge(a,K,V),a==="focusout"&&V&&K.type==="number"&&V.memoizedProps.value!=null&&cp(K,"number",K.value)}switch(ge=V?il(V):window,a){case"focusin":(Sw(ge)||ge.contentEditable==="true")&&(Io=ge,Ap=V,hl=null);break;case"focusout":hl=Ap=Io=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,Ow(se,c,ne);break;case"selectionchange":if(vj)break;case"keydown":case"keyup":Ow(se,c,ne)}var Pe;if(wp)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else ko?ww(a,c)&&(je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(yw&&c.locale!=="ko"&&(ko||je!=="onCompositionStart"?je==="onCompositionEnd"&&ko&&(Pe=hw()):(Hi=ne,gp="value"in Hi?Hi.value:Hi.textContent,ko=!0)),ge=rd(V,je),0<ge.length&&(je=new gw(je,a,null,c,ne),se.push({event:je,listeners:ge}),Pe?je.data=Pe:(Pe=_w(c),Pe!==null&&(je.data=Pe)))),(Pe=sj?lj(a,c):uj(a,c))&&(je=rd(V,"onBeforeInput"),0<je.length&&(ge=new gw("onBeforeInput","beforeinput",null,c,ne),se.push({event:ge,listeners:je}),ge.data=Pe)),eL(se,a,V,c,ne)}o1(se,s)})}function Ll(a,s,c){return{instance:a,listener:s,currentTarget:c}}function rd(a,s){for(var c=s+"Capture",p=[];a!==null;){var b=a,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=al(a,c),b!=null&&p.unshift(Ll(a,b,_)),b=al(a,s),b!=null&&p.push(Ll(a,b,_))),a.tag===3)return p;a=a.return}return[]}function iL(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function l1(a,s,c,p,b){for(var _=s._reactName,N=[];c!==null&&c!==p;){var I=c,j=I.alternate,V=I.stateNode;if(I=I.tag,j!==null&&j===p)break;I!==5&&I!==26&&I!==27||V===null||(j=V,b?(V=al(c,_),V!=null&&N.unshift(Ll(c,V,j))):b||(V=al(c,_),V!=null&&N.push(Ll(c,V,j)))),c=c.return}N.length!==0&&a.push({event:s,listeners:N})}var aL=/\r\n?/g,oL=/\u0000|\uFFFD/g;function u1(a){return(typeof a=="string"?a:""+a).replace(aL,`
`).replace(oL,"")}function c1(a,s){return s=u1(s),u1(a)===s}function Xe(a,s,c,p,b,_){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Co(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Co(a,""+p);break;case"className":sc(a,"class",p);break;case"tabIndex":sc(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":sc(a,c,p);break;case"style":cw(a,p,_);break;case"data":if(s!=="object"){sc(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=uc(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&Xe(a,s,"name",b.name,b,null),Xe(a,s,"formEncType",b.formEncType,b,null),Xe(a,s,"formMethod",b.formMethod,b,null),Xe(a,s,"formTarget",b.formTarget,b,null)):(Xe(a,s,"encType",b.encType,b,null),Xe(a,s,"method",b.method,b,null),Xe(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=uc(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=Wr);break;case"onScroll":p!=null&&De("scroll",a);break;case"onScrollEnd":p!=null&&De("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=uc(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":De("beforetoggle",a),De("toggle",a),oc(a,"popover",p);break;case"xlinkActuate":Jr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Jr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Jr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Jr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Jr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Jr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Jr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Jr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Jr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":oc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=OU.get(c)||c,oc(a,c,p))}}function Xm(a,s,c,p,b,_){switch(c){case"style":cw(a,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?Co(a,p):(typeof p=="number"||typeof p=="bigint")&&Co(a,""+p);break;case"onScroll":p!=null&&De("scroll",a);break;case"onScrollEnd":p!=null&&De("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),_=a[Sn]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(s,_,b),typeof p=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,b);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):oc(a,c,p)}}}function en(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",a),De("load",a);var p=!1,b=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var N=c[_];if(N!=null)switch(_){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(a,s,_,N,c,null)}}b&&Xe(a,s,"srcSet",c.srcSet,c,null),p&&Xe(a,s,"src",c.src,c,null);return;case"input":De("invalid",a);var I=_=N=b=null,j=null,V=null;for(p in c)if(c.hasOwnProperty(p)){var ne=c[p];if(ne!=null)switch(p){case"name":b=ne;break;case"type":N=ne;break;case"checked":j=ne;break;case"defaultChecked":V=ne;break;case"value":_=ne;break;case"defaultValue":I=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:Xe(a,s,p,ne,c,null)}}ow(a,_,I,j,V,N,b,!1);return;case"select":De("invalid",a),p=N=_=null;for(b in c)if(c.hasOwnProperty(b)&&(I=c[b],I!=null))switch(b){case"value":_=I;break;case"defaultValue":N=I;break;case"multiple":p=I;default:Xe(a,s,b,I,c,null)}s=_,c=N,a.multiple=!!p,s!=null?To(a,!!p,s,!1):c!=null&&To(a,!!p,c,!0);return;case"textarea":De("invalid",a),_=b=p=null;for(N in c)if(c.hasOwnProperty(N)&&(I=c[N],I!=null))switch(N){case"value":p=I;break;case"defaultValue":b=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Xe(a,s,N,I,c,null)}lw(a,p,b,_);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(p=c[j],p!=null))switch(j){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Xe(a,s,j,p,c,null)}return;case"dialog":De("beforetoggle",a),De("toggle",a),De("cancel",a),De("close",a);break;case"iframe":case"object":De("load",a);break;case"video":case"audio":for(p=0;p<jl.length;p++)De(jl[p],a);break;case"image":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"embed":case"source":case"link":De("error",a),De("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in c)if(c.hasOwnProperty(V)&&(p=c[V],p!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Xe(a,s,V,p,c,null)}return;default:if(dp(s)){for(ne in c)c.hasOwnProperty(ne)&&(p=c[ne],p!==void 0&&Xm(a,s,ne,p,c,void 0));return}}for(I in c)c.hasOwnProperty(I)&&(p=c[I],p!=null&&Xe(a,s,I,p,c,null))}function sL(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,N=null,I=null,j=null,V=null,ne=null;for(W in c){var se=c[W];if(c.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":j=se;default:p.hasOwnProperty(W)||Xe(a,s,W,null,p,se)}}for(var K in p){var W=p[K];if(se=c[K],p.hasOwnProperty(K)&&(W!=null||se!=null))switch(K){case"type":_=W;break;case"name":b=W;break;case"checked":V=W;break;case"defaultChecked":ne=W;break;case"value":N=W;break;case"defaultValue":I=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==se&&Xe(a,s,K,W,p,se)}}up(a,N,I,j,V,ne,_,b);return;case"select":W=N=I=K=null;for(_ in c)if(j=c[_],c.hasOwnProperty(_)&&j!=null)switch(_){case"value":break;case"multiple":W=j;default:p.hasOwnProperty(_)||Xe(a,s,_,null,p,j)}for(b in p)if(_=p[b],j=c[b],p.hasOwnProperty(b)&&(_!=null||j!=null))switch(b){case"value":K=_;break;case"defaultValue":I=_;break;case"multiple":N=_;default:_!==j&&Xe(a,s,b,_,p,j)}s=I,c=N,p=W,K!=null?To(a,!!c,K,!1):!!p!=!!c&&(s!=null?To(a,!!c,s,!0):To(a,!!c,c?[]:"",!1));return;case"textarea":W=K=null;for(I in c)if(b=c[I],c.hasOwnProperty(I)&&b!=null&&!p.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Xe(a,s,I,null,p,b)}for(N in p)if(b=p[N],_=c[N],p.hasOwnProperty(N)&&(b!=null||_!=null))switch(N){case"value":K=b;break;case"defaultValue":W=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&Xe(a,s,N,b,p,_)}sw(a,K,W);return;case"option":for(var pe in c)if(K=c[pe],c.hasOwnProperty(pe)&&K!=null&&!p.hasOwnProperty(pe))switch(pe){case"selected":a.selected=!1;break;default:Xe(a,s,pe,null,p,K)}for(j in p)if(K=p[j],W=c[j],p.hasOwnProperty(j)&&K!==W&&(K!=null||W!=null))switch(j){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Xe(a,s,j,K,p,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in c)K=c[_e],c.hasOwnProperty(_e)&&K!=null&&!p.hasOwnProperty(_e)&&Xe(a,s,_e,null,p,K);for(V in p)if(K=p[V],W=c[V],p.hasOwnProperty(V)&&K!==W&&(K!=null||W!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:Xe(a,s,V,K,p,W)}return;default:if(dp(s)){for(var Qe in c)K=c[Qe],c.hasOwnProperty(Qe)&&K!==void 0&&!p.hasOwnProperty(Qe)&&Xm(a,s,Qe,void 0,p,K);for(ne in p)K=p[ne],W=c[ne],!p.hasOwnProperty(ne)||K===W||K===void 0&&W===void 0||Xm(a,s,ne,K,p,W);return}}for(var $ in c)K=c[$],c.hasOwnProperty($)&&K!=null&&!p.hasOwnProperty($)&&Xe(a,s,$,null,p,K);for(se in p)K=p[se],W=c[se],!p.hasOwnProperty(se)||K===W||K==null&&W==null||Xe(a,s,se,K,p,W)}function d1(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lL(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],_=b.transferSize,N=b.initiatorType,I=b.duration;if(_&&I&&d1(N)){for(N=0,I=b.responseEnd,p+=1;p<c.length;p++){var j=c[p],V=j.startTime;if(V>I)break;var ne=j.transferSize,se=j.initiatorType;ne&&d1(se)&&(j=j.responseEnd,N+=ne*(j<I?1:(I-V)/(j-V)))}if(--p,s+=8*(_+N)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Qm=null,Zm=null;function id(a){return a.nodeType===9?a:a.ownerDocument}function f1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function eg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var tg=null;function uL(){var a=window.event;return a&&a.type==="popstate"?a===tg?!1:(tg=a,!0):(tg=null,!1)}var p1=typeof setTimeout=="function"?setTimeout:void 0,cL=typeof clearTimeout=="function"?clearTimeout:void 0,m1=typeof Promise=="function"?Promise:void 0,dL=typeof queueMicrotask=="function"?queueMicrotask:typeof m1<"u"?function(a){return m1.resolve(null).then(a).catch(fL)}:p1;function fL(a){setTimeout(function(){throw a})}function sa(a){return a==="head"}function g1(a,s){var c=s,p=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(b),is(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")Fl(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,Fl(c);for(var _=c.firstChild;_;){var N=_.nextSibling,I=_.nodeName;_[rl]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=N}}else c==="body"&&Fl(a.ownerDocument.body);c=b}while(c);is(s)}function v1(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function ng(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ng(c),sp(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function hL(a,s,c,p){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[rl])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=lr(a.nextSibling),a===null)break}return null}function pL(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=lr(a.nextSibling),a===null))return null;return a}function y1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=lr(a.nextSibling),a===null))return null;return a}function rg(a){return a.data==="$?"||a.data==="$~"}function ig(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function mL(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function lr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var ag=null;function b1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return lr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function x1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function w1(a,s,c){switch(s=id(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Fl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);sp(a)}var ur=new Map,_1=new Set;function ad(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var fi=X.d;X.d={f:gL,r:vL,D:yL,C:bL,L:xL,m:wL,X:SL,S:_L,M:EL};function gL(){var a=fi.f(),s=Wc();return a||s}function vL(a){var s=So(a);s!==null&&s.tag===5&&s.type==="form"?F_(s):fi.r(a)}var ts=typeof document>"u"?null:document;function S1(a,s,c){var p=ts;if(p&&typeof s=="string"&&s){var b=tr(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),_1.has(b)||(_1.add(b),a={rel:a,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),en(s,"link",a),jt(s),p.head.appendChild(s)))}}function yL(a){fi.D(a),S1("dns-prefetch",a,null)}function bL(a,s){fi.C(a,s),S1("preconnect",a,s)}function xL(a,s,c){fi.L(a,s,c);var p=ts;if(p&&a&&s){var b='link[rel="preload"][as="'+tr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+tr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+tr(c.imageSizes)+'"]')):b+='[href="'+tr(a)+'"]';var _=b;switch(s){case"style":_=ns(a);break;case"script":_=rs(a)}ur.has(_)||(a=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),ur.set(_,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(Bl(_))||s==="script"&&p.querySelector(zl(_))||(s=p.createElement("link"),en(s,"link",a),jt(s),p.head.appendChild(s)))}}function wL(a,s){fi.m(a,s);var c=ts;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+tr(p)+'"][href="'+tr(a)+'"]',_=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=rs(a)}if(!ur.has(_)&&(a=m({rel:"modulepreload",href:a},s),ur.set(_,a),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(zl(_)))return}p=c.createElement("link"),en(p,"link",a),jt(p),c.head.appendChild(p)}}}function _L(a,s,c){fi.S(a,s,c);var p=ts;if(p&&a){var b=Eo(p).hoistableStyles,_=ns(a);s=s||"default";var N=b.get(_);if(!N){var I={loading:0,preload:null};if(N=p.querySelector(Bl(_)))I.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},c),(c=ur.get(_))&&og(a,c);var j=N=p.createElement("link");jt(j),en(j,"link",a),j._p=new Promise(function(V,ne){j.onload=V,j.onerror=ne}),j.addEventListener("load",function(){I.loading|=1}),j.addEventListener("error",function(){I.loading|=2}),I.loading|=4,od(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:I},b.set(_,N)}}}function SL(a,s){fi.X(a,s);var c=ts;if(c&&a){var p=Eo(c).hoistableScripts,b=rs(a),_=p.get(b);_||(_=c.querySelector(zl(b)),_||(a=m({src:a,async:!0},s),(s=ur.get(b))&&sg(a,s),_=c.createElement("script"),jt(_),en(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function EL(a,s){fi.M(a,s);var c=ts;if(c&&a){var p=Eo(c).hoistableScripts,b=rs(a),_=p.get(b);_||(_=c.querySelector(zl(b)),_||(a=m({src:a,async:!0,type:"module"},s),(s=ur.get(b))&&sg(a,s),_=c.createElement("script"),jt(_),en(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function E1(a,s,c,p){var b=(b=Te.current)?ad(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ns(c.href),c=Eo(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=ns(c.href);var _=Eo(b).hoistableStyles,N=_.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=b.querySelector(Bl(a)))&&!_._p&&(N.instance=_,N.state.loading=5),ur.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ur.set(a,c),_||AL(b,a,c,N.state))),s&&p===null)throw Error(r(528,""));return N}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=rs(c),c=Eo(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ns(a){return'href="'+tr(a)+'"'}function Bl(a){return'link[rel="stylesheet"]['+a+"]"}function A1(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function AL(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),en(s,"link",c),jt(s),a.head.appendChild(s))}function rs(a){return'[src="'+tr(a)+'"]'}function zl(a){return"script[async]"+a}function T1(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+tr(c.href)+'"]');if(p)return s.instance=p,jt(p),p;var b=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),jt(p),en(p,"style",b),od(p,c.precedence,a),s.instance=p;case"stylesheet":b=ns(c.href);var _=a.querySelector(Bl(b));if(_)return s.state.loading|=4,s.instance=_,jt(_),_;p=A1(c),(b=ur.get(b))&&og(p,b),_=(a.ownerDocument||a).createElement("link"),jt(_);var N=_;return N._p=new Promise(function(I,j){N.onload=I,N.onerror=j}),en(_,"link",p),s.state.loading|=4,od(_,c.precedence,a),s.instance=_;case"script":return _=rs(c.src),(b=a.querySelector(zl(_)))?(s.instance=b,jt(b),b):(p=c,(b=ur.get(_))&&(p=m({},c),sg(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),jt(b),en(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,od(p,c.precedence,a));return s.instance}function od(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,_=b,N=0;N<p.length;N++){var I=p[N];if(I.dataset.precedence===s)_=I;else if(_!==b)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function og(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function sg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var sd=null;function C1(a,s,c){if(sd===null){var p=new Map,b=sd=new Map;b.set(c,p)}else b=sd,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var _=c[b];if(!(_[rl]||_[Wt]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=a+N;var I=p.get(N);I?I.push(_):p.set(N,[_])}}return p}function N1(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function TL(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function R1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function CL(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=ns(p.href),_=s.querySelector(Bl(b));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=ld.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=_,jt(_);return}_=s.ownerDocument||s,p=A1(p),(b=ur.get(b))&&og(p,b),_=_.createElement("link"),jt(_);var N=_;N._p=new Promise(function(I,j){N.onload=I,N.onerror=j}),en(_,"link",p),c.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=ld.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var lg=0;function NL(a,s){return a.stylesheets&&a.count===0&&cd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&cd(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&lg===0&&(lg=62500*lL());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&cd(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>lg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ud=null;function cd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ud=new Map,s.forEach(RL,a),ud=null,ld.call(a))}function RL(a,s){if(!(s.state.loading&4)){var c=ud.get(a);if(c)var p=c.get(null);else{c=new Map,ud.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var N=b[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),p=N)}p&&c.set(null,p)}b=s.instance,N=b.getAttribute("data-precedence"),_=c.get(N)||p,_===p&&c.set(null,b),c.set(N,b),this.count++,p=ld.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),_?_.parentNode.insertBefore(b,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var ql={$$typeof:R,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function kL(a,s,c,p,b,_,N,I,j){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.hiddenUpdates=rp(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function k1(a,s,c,p,b,_,N,I,j,V,ne,se){return a=new kL(a,s,c,N,j,V,ne,se,I),s=1,_===!0&&(s|=24),_=Ln(3,null,null,s),a.current=_,_.stateNode=a,s=zp(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:p,isDehydrated:c,cache:s},Gp(_),a}function I1(a){return a?(a=Oo,a):Oo}function P1(a,s,c,p,b,_){b=I1(b),p.context===null?p.context=b:p.pendingContext=b,p=Wi(s),p.payload={element:c},_=_===void 0?null:_,_!==null&&(p.callback=_),c=Xi(a,p,s),c!==null&&(Rn(c,a,s),xl(c,a,s))}function M1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function ug(a,s){M1(a,s),(a=a.alternate)&&M1(a,s)}function O1(a){if(a.tag===13||a.tag===31){var s=Ra(a,67108864);s!==null&&Rn(s,a,67108864),ug(a,67108864)}}function D1(a){if(a.tag===13||a.tag===31){var s=$n();s=ip(s);var c=Ra(a,s);c!==null&&Rn(c,a,s),ug(a,s)}}var dd=!0;function IL(a,s,c,p){var b=q.T;q.T=null;var _=X.p;try{X.p=2,cg(a,s,c,p)}finally{X.p=_,q.T=b}}function PL(a,s,c,p){var b=q.T;q.T=null;var _=X.p;try{X.p=8,cg(a,s,c,p)}finally{X.p=_,q.T=b}}function cg(a,s,c,p){if(dd){var b=dg(p);if(b===null)Wm(a,s,p,fd,c),j1(a,p);else if(OL(b,a,s,c,p))p.stopPropagation();else if(j1(a,p),s&4&&-1<ML.indexOf(a)){for(;b!==null;){var _=So(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Ea(_.pendingLanes);if(N!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;N;){var j=1<<31-Un(N);I.entanglements[1]|=j,N&=~j}Br(_),(Ge&6)===0&&(Yc=On()+500,Ul(0))}}break;case 31:case 13:I=Ra(_,2),I!==null&&Rn(I,_,2),Wc(),ug(_,2)}if(_=dg(p),_===null&&Wm(a,s,p,fd,c),_===b)break;b=_}b!==null&&p.stopPropagation()}else Wm(a,s,p,null,c)}}function dg(a){return a=hp(a),fg(a)}var fd=null;function fg(a){if(fd=null,a=_o(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return fd=a,null}function U1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yU()){case Hx:return 2;case Gx:return 8;case tc:case bU:return 32;case Vx:return 268435456;default:return 32}default:return 32}}var hg=!1,la=null,ua=null,ca=null,$l=new Map,Hl=new Map,da=[],ML="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j1(a,s){switch(a){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":$l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(s.pointerId)}}function Gl(a,s,c,p,b,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[b]},s!==null&&(s=So(s),s!==null&&O1(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function OL(a,s,c,p,b){switch(s){case"focusin":return la=Gl(la,a,s,c,p,b),!0;case"dragenter":return ua=Gl(ua,a,s,c,p,b),!0;case"mouseover":return ca=Gl(ca,a,s,c,p,b),!0;case"pointerover":var _=b.pointerId;return $l.set(_,Gl($l.get(_)||null,a,s,c,p,b)),!0;case"gotpointercapture":return _=b.pointerId,Hl.set(_,Gl(Hl.get(_)||null,a,s,c,p,b)),!0}return!1}function L1(a){var s=_o(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,Qx(a.priority,function(){D1(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,Qx(a.priority,function(){D1(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function hd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=dg(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);fp=p,c.target.dispatchEvent(p),fp=null}else return s=So(c),s!==null&&O1(s),a.blockedOn=c,!1;s.shift()}return!0}function F1(a,s,c){hd(a)&&c.delete(s)}function DL(){hg=!1,la!==null&&hd(la)&&(la=null),ua!==null&&hd(ua)&&(ua=null),ca!==null&&hd(ca)&&(ca=null),$l.forEach(F1),Hl.forEach(F1)}function pd(a,s){a.blockedOn===s&&(a.blockedOn=null,hg||(hg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,DL)))}var md=null;function B1(a){md!==a&&(md=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){md===a&&(md=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(fg(p||c)===null)continue;break}var _=So(c);_!==null&&(a.splice(s,3),s-=3,dm(_,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function is(a){function s(j){return pd(j,a)}la!==null&&pd(la,a),ua!==null&&pd(ua,a),ca!==null&&pd(ca,a),$l.forEach(s),Hl.forEach(s);for(var c=0;c<da.length;c++){var p=da[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<da.length&&(c=da[0],c.blockedOn===null);)L1(c),c.blockedOn===null&&da.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],_=c[p+1],N=b[Sn]||null;if(typeof _=="function")N||B1(c);else if(N){var I=null;if(_&&_.hasAttribute("formAction")){if(b=_,N=_[Sn]||null)I=N.formAction;else if(fg(b)!==null)continue}else I=N.action;typeof I=="function"?c[p+1]=I:(c.splice(p,3),p-=3),B1(c)}}}function z1(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function pg(a){this._internalRoot=a}gd.prototype.render=pg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=$n();P1(c,p,a,s,null,null)},gd.prototype.unmount=pg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;P1(a.current,2,null,a,null,null),Wc(),s[wo]=null}};function gd(a){this._internalRoot=a}gd.prototype.unstable_scheduleHydration=function(a){if(a){var s=Xx();a={blockedOn:null,target:a,priority:s};for(var c=0;c<da.length&&s!==0&&s<da[c].priority;c++);da.splice(c,0,a),c===0&&L1(a)}};var q1=t.version;if(q1!=="19.2.3")throw Error(r(527,q1,"19.2.3"));X.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var UL={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{el=vd.inject(UL),Dn=vd}catch{}}return Kl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",b=J_,_=W_,N=X_;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=k1(a,1,!1,null,null,c,p,null,b,_,N,z1),a[wo]=s.current,Jm(a),new pg(s)},Kl.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,b="",_=J_,N=W_,I=X_,j=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.formState!==void 0&&(j=c.formState)),s=k1(a,1,!0,s,c??null,p,b,j,_,N,I,z1),s.context=I1(null),c=s.current,p=$n(),p=ip(p),b=Wi(p),b.callback=null,Xi(c,b,p),c=p,s.current.lanes=c,nl(s,c),Br(s),a[wo]=s.current,Jm(a),new gd(s)},Kl.version="19.2.3",Kl}var Q1;function JL(){if(Q1)return yg.exports;Q1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yg.exports=YL(),yg.exports}var WL=JL();const XL=Kr(WL);var vn=(e=>(e.USER="USER",e.SELLER="SELLER",e.SHOP_OWNER="SHOP_OWNER",e.ADMIN="ADMIN",e.SUPER_ADMIN="SUPER_ADMIN",e))(vn||{}),mn=(e=>(e.PENDENTE="PENDENTE",e.PUBLICADO="PUBLICADO",e.REJEITADO="REJEITADO",e))(mn||{}),Ft=(e=>(e.IDLE="IDLE",e.WAITING_PIN="WAITING_PIN",e.PROCESSING="PROCESSING",e.SUCCESS="SUCCESS",e.FAILED="FAILED",e.TIMEOUT="TIMEOUT",e))(Ft||{}),Se=(e=>(e.AUTH="auth",e.HOME="home",e.CATEGORIES="categories",e.CART="cart",e.PROFILE="profile",e.SEARCH="search",e.ADMIN="admin",e.SUBMIT_PRODUCT="submit_product",e.PRODUCT_DETAILS="product_details",e.CHAT_ROOM="chat_room",e.SHOP_REGISTRATION="shop_registration",e))(Se||{});const $R=C.createContext(void 0),Z1="apm_cart",QL=({children:e})=>{const[t,n]=C.useState(()=>{try{const x=localStorage.getItem(Z1);return x?JSON.parse(x):[]}catch{return[]}});C.useEffect(()=>{try{localStorage.setItem(Z1,JSON.stringify(t))}catch(x){console.error("Failed to save cart to localStorage:",x)}},[t]);const r=(x,S=1,E)=>{n(A=>{const T=A.findIndex(R=>R.id===x.id);if(T>=0){const R=[...A];return R[T]={...R[T],quantity:R[T].quantity+S,selectedVariations:E||R[T].selectedVariations},R}const k={...x,quantity:S,selectedVariations:E};return[...A,k]})},i=x=>{n(S=>S.filter(E=>E.id!==x))},o=(x,S)=>{if(S<=0){i(x);return}n(E=>E.map(A=>A.id===x?{...A,quantity:S}:A))},l=()=>{n([])},u=()=>t.reduce((x,S)=>x+S.quantity,0),d=()=>t.reduce((x,S)=>x+S.price*S.quantity,0),f=()=>{const x=d();return x===0||x>=1e5?0:2500},y={items:t,addToCart:r,removeFromCart:i,updateQuantity:o,clearCart:l,getItemCount:u,getSubtotal:d,getShipping:f,getTotal:()=>d()+f(),isInCart:x=>t.some(S=>S.id===x)};return w.jsx($R.Provider,{value:y,children:e})},Ky=()=>{const e=C.useContext($R);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e};function rh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function ZL(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{f(r.next(h))}catch(m){l(m)}}function d(h){try{f(r.throw(h))}catch(m){l(m)}}function f(h){h.done?o(h.value):i(h.value).then(u,d)}f((r=r.apply(e,t||[])).next())})}const e4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Yy extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class t4 extends Yy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class eE extends Yy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tE extends Yy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var m0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(m0||(m0={}));class n4{constructor(t,{headers:n={},customFetch:r,region:i=m0.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=e4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ZL(this,arguments,void 0,function*(n,r={}){var i;let o,l;try{const{headers:u,method:d,body:f,signal:h,timeout:m}=r;let y={},{region:x}=r;x||(x=this.region);const S=new URL(`${this.url}/${n}`);x&&x!=="any"&&(y["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(y["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(y["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let A=h;m&&(l=new AbortController,o=setTimeout(()=>l.abort(),m),h?(A=l.signal,h.addEventListener("abort",()=>l.abort())):A=l.signal);const T=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),u),body:E,signal:A}).catch(P=>{throw new t4(P)}),k=T.headers.get("x-relay-error");if(k&&k==="true")throw new eE(T);if(!T.ok)throw new tE(T);let R=((i=T.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield T.json():R==="application/octet-stream"||R==="application/pdf"?O=yield T.blob():R==="text/event-stream"?O=T:R==="multipart/form-data"?O=yield T.formData():O=yield T.text(),{data:O,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof tE||u instanceof eE?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var r4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},i4=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let l=null,u=null,d=null,f=o.status,h=o.statusText;if(o.ok){var m,y;if(n.method!=="HEAD"){var x;const T=await o.text();T===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const E=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),A=(y=o.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");E&&A&&A.length>1&&(d=parseInt(A[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,h="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const E=await o.text();try{l=JSON.parse(E),Array.isArray(l)&&o.status===404&&(u=[],l=null,f=200,h="OK")}catch{o.status===404&&E===""?(f=204,h="No Content"):l={message:E}}if(l&&n.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,f=200,h="OK"),l&&n.shouldThrowOnError)throw new r4(l)}return{error:l,data:u,count:d,status:f,statusText:h}});return this.shouldThrowOnError||(i=i.catch(o=>{var l;let u="";const d=o==null?void 0:o.cause;if(d){var f,h,m,y;const S=(f=d==null?void 0:d.message)!==null&&f!==void 0?f:"",E=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";u=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(y=d==null?void 0:d.name)!==null&&y!==void 0?y:"Error"}: ${S}`,E&&(u+=` (${E})`),d!=null&&d.stack&&(u+=`
${d.stack}`)}else{var x;u=(x=o==null?void 0:o.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(l=o==null?void 0:o.name)!==null&&l!==void 0?l:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},a4=class extends i4{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const nE=new RegExp("[,()]");var ps=class extends a4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&nE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&nE.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},o4=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let o=!1;const l=(e??"*").split("").map(f=>/\s/.test(f)&&!o?"":(f==='"'&&(o=!o),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new ps({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new ps({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),r&&d.append("Prefer",`count=${r}`),i||d.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);u.searchParams.set("columns",h.join(","))}}return new ps({method:l,url:u,headers:d,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new ps({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ps({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},s4=class HR{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new o4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new HR(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var l;let u;const d=new URL(`${this.url}/rpc/${t}`);let f;const h=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(h)),m=r&&Object.values(n).some(h);m?(u="POST",f=n):r||i?(u=r?"HEAD":"GET",Object.entries(n).filter(([x,S])=>S!==void 0).map(([x,S])=>[x,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([x,S])=>{d.searchParams.append(x,S)})):(u="POST",f=n);const y=new Headers(this.headers);return m?y.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&y.set("Prefer",`count=${o}`),new ps({method:u,url:d,headers:y,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class l4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const u4="2.90.1",c4=`realtime-js/${u4}`,GR="1.0.0",d4="2.0.0",rE=GR,g0=1e4,f4=1e3,h4=100;var ha;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ha||(ha={}));var It;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(It||(It={}));var Ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ar||(Ar={}));var v0;(function(e){e.websocket="websocket"})(v0||(v0={}));var Ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ja||(Ja={}));class p4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,o;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",d=(o=t.join_ref)!==null&&o!==void 0?o:"",f=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+y);let S=new DataView(x),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,u.length),S.setUint8(E++,l.length),S.setUint8(E++,f.length),S.setUint8(E++,m.length),S.setUint8(E++,n),Array.from(d,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(u,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(l,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(f,T=>S.setUint8(E++,T.charCodeAt(0))),Array.from(m,T=>S.setUint8(E++,T.charCodeAt(0)));var A=new Uint8Array(x.byteLength+r.byteLength);return A.set(new Uint8Array(x),0),A.set(new Uint8Array(r),x.byteLength),A.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,o,l,u,d]=r;return n({join_ref:i,ref:o,topic:l,event:u,payload:d})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(t.slice(d,d+i));d=d+i;const h=r.decode(t.slice(d,d+o));d=d+o;const m=r.decode(t.slice(d,d+l));d=d+l;const y=t.slice(d,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,S={type:this.BROADCAST_EVENT,event:h,payload:x};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class VR{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const iE=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=m4(l,e,t,i),o),{}):{}},m4=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?KR(o,l):y0(l)},KR=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return b4(t,n)}switch(e){case nt.bool:return g4(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return v4(t);case nt.json:case nt.jsonb:return y4(t);case nt.timestamp:return x4(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return y0(t);default:return y0(t)}},y0=e=>e,g4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},v4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},y4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},b4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>KR(t,u))}return e},x4=e=>typeof e=="string"?e.replace(" ","T"):e,YR=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class _g{constructor(t,n,r={},i=g0){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aE||(aE={}));class uu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=uu.syncState(this.state,i,o,l),this.pendingDiffs.forEach(d=>{this.state=uu.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=uu.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},d={};return this.map(o,(f,h)=>{l[f]||(d[f]=h)}),this.map(l,(f,h)=>{const m=o[f];if(m){const y=h.map(A=>A.presence_ref),x=m.map(A=>A.presence_ref),S=h.filter(A=>x.indexOf(A.presence_ref)<0),E=m.filter(A=>y.indexOf(A.presence_ref)<0);S.length>0&&(u[f]=S),E.length>0&&(d[f]=E)}else u[f]=h}),this.syncDiff(o,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,d)=>{var f;const h=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),h.length>0){const m=t[u].map(x=>x.presence_ref),y=h.filter(x=>m.indexOf(x.presence_ref)<0);t[u].unshift(...y)}r(u,h,d)}),this.map(l,(u,d)=>{let f=t[u];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(oE||(oE={}));var cu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cu||(cu={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class bs{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _g(this,Ar.join,this.params,this.timeout),this.rejoinTimer=new VR(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ar.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new uu(this),this.broadcastEndpointURL=YR(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[cu.PRESENCE]&&this.bindings[cu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(hi.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(hi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,T=[];for(let k=0;k<A;k++){const R=E[k],{filter:{event:O,schema:P,table:M,filter:D}}=R,F=x&&x[k];if(F&&F.event===O&&bs.isFilterValueEqual(F.schema,P)&&bs.isFilterValueEqual(F.table,M)&&bs.isFilterValueEqual(F.filter,D))T.push(Object.assign(Object.assign({},R),{id:F.id}));else{this.unsubscribe(),this.state=It.errored,t==null||t(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(hi.SUBSCRIBED);return}}).receive("error",x=>{this.state=It.errored,t==null||t(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===It.joined&&t===cu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _g(this,Ar.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _g(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>h4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:h}=Ar;if(r&&[u,d,f,h].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,E,A;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((A=(E=x.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===l}).map(x=>x.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var S,E,A,T,k,R,O,P;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const M=x.id,D=(S=x.filter)===null||S===void 0?void 0:S.event;return M&&((E=n.ids)===null||E===void 0?void 0:E.includes(M))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((T=x.filter)===null||T===void 0)&&T.table)||x.filter.table===((k=n.data)===null||k===void 0?void 0:k.table))}else{const M=(O=(R=x==null?void 0:x.filter)===null||R===void 0?void 0:R.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return M==="*"||M===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:E,table:A,commit_timestamp:T,type:k,errors:R}=S;y=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:T,eventType:k,new:{},old:{},errors:R}),this._getPayloadRecords(S))}x.callback(y,r)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&bs.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ar.close,{},t)}_onError(t){this._on(Ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=iE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=iE(t.columns,t.old_record)),n}}const Sg=()=>{},yd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w4=[1e3,2e3,5e3,1e4],_4=1e4,S4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class E4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g0,this.transport=null,this.heartbeatIntervalMs=yd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sg,this.ref=0,this.reconnectTimer=null,this.vsn=rE,this.logger=Sg,this.conn=null,this.sendBuffer=[],this.serializer=new p4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${v0.websocket}`,this.httpEndpoint=YR(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ha.connecting:return Ja.Connecting;case ha.open:return Ja.Open;case ha.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new bs(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(f4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",f)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",d=o.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ha.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ha.open||this.conn.readyState===ha.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([S4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:c4};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new VR(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,d,f,h,m,y,x;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:g0,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:yd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:Sg,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:rE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(S=>w4[S-1]||_4),this.vsn){case GR:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((S,E)=>E(JSON.parse(S)));break;case d4:this.encode=(y=t==null?void 0:t.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var fu=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function A4(e,t,n){const r=new URL(t,e);if(n)for(const[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function T4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function C4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:l}){const u=A4(e.baseUrl,r,i),d=await T4(e.auth),f=await t(u,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...d,...l},body:o?JSON.stringify(o):void 0}),h=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),y=m&&h?JSON.parse(h):h;if(!f.ok){const x=m?y:void 0,S=x==null?void 0:x.error;throw new fu((S==null?void 0:S.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:x})}return{status:f.status,headers:f.headers,data:y}}}}function bd(e){return e.join("")}var N4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:bd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bd(e.namespace)}`}),!0}catch(t){if(t instanceof fu&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof fu&&n.status===409)return;throw n}}};function as(e){return e.join("")}var R4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${as(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof fu&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof fu&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},k4=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=C4({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new N4(this.client,t),this.tableOps=new R4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ih=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var I4=class extends ih{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},b0=class extends ih{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Jy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P4=()=>Response,x0=e=>{if(Array.isArray(e))return e.map(n=>x0(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=x0(r)}),t},M4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},O4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function D4(e,t){if(hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U4(e){var t=D4(e,"string");return hu(t)=="symbol"?t:t+""}function j4(e,t,n){return(t=U4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(n),!0).forEach(function(r){j4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Eg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},L4=async(e,t,n)=>{e instanceof await P4()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const i=e.status||500,o=(r==null?void 0:r.statusCode)||i+"";t(new I4(Eg(r),i,o))}).catch(r=>{t(new b0(Eg(r),r))}):t(new b0(Eg(e),e))},F4=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(M4(r)?(i.headers=Ae({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Ae(Ae({},i),n))};async function Ou(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,F4(t,r,i,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>L4(d,u,r))})}async function pu(e,t,n,r){return Ou(e,"GET",t,n,r)}async function Er(e,t,n,r,i){return Ou(e,"POST",t,r,i,n)}async function w0(e,t,n,r,i){return Ou(e,"PUT",t,r,i,n)}async function B4(e,t,n,r){return Ou(e,"HEAD",t,Ae(Ae({},n),{},{noResolveJson:!0}),r)}async function Wy(e,t,n,r,i){return Ou(e,"DELETE",t,r,i,n)}var z4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};let JR;JR=Symbol.toStringTag;var q4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[JR]="BlobDownloadBuilder",this.promise=null}asStream(){return new z4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};const $4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var H4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Jy(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o;const l=Ae(Ae({},lE),r);let u=Ae(Ae({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",i.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",l.cacheControl),d&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(d))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=Ae(Ae({},u),r.headers));const f=i._removeEmptyFolders(t),h=i._getFinalPath(f),m=await(e=="PUT"?w0:Er)(i.fetch,`${i.url}/object/${h}`,o,Ae({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const o=i._removeEmptyFolders(e),l=i._getFinalPath(o),u=new URL(i.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const f=Ae({upsert:lE.upsert},r),h=Ae(Ae({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType),{data:{path:o,fullPath:(await w0(i.fetch,u.toString(),d,{headers:h})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(ft(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const i=Ae({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const o=await Er(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+o.url),u=l.searchParams.get("token");if(!u)throw new ih("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Er(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await Er(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await Er(r.fetch,`${r.url}/object/sign/${i}`,Ae({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{const i=await Er(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(l=>Ae(Ae({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),l=()=>pu(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new q4(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:x0(await pu(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await B4(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r)&&r instanceof b0){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}async remove(e){var t=this;try{return{data:await Wy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const i=Ae(Ae(Ae({},$4),t),{},{prefix:e||""});return{data:await Er(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{const r=Ae({},e);return{data:await Er(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const WR="2.90.1",XR={"X-Client-Info":`storage-js/${WR}`};var G4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Ae(Ae({},XR),t),this.fetch=Jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await pu(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await pu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Er(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await w0(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Er(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Wy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},V4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},XR),t),this.fetch=Jy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Er(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await pu(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Wy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!O4(e))throw new ih("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new k4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){const l=i[o];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}};const Xy={"X-Client-Info":`storage-js/${WR}`,"Content-Type":"application/json"};var QR=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Vn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ag=class extends QR{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},K4=class extends QR{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Qy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),J4=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Ag(uE(o),r,l))}).catch(()=>{const o=r+"";t(new Ag(i.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Ag(i.statusText||`HTTP ${r} error`,r,o))}}else t(new K4(uE(e),e))},W4=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(Y4(r)?(i.headers=Ae({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Ae(Ae({},i),n)):i};async function X4(e,t,n,r,i,o){return new Promise((l,u)=>{e(n,W4(t,r,i,o)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>J4(d,u,r))})}async function Kn(e,t,n,r,i){return X4(e,"POST",t,r,i,n)}var Q4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},Xy),t),this.fetch=Qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Kn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Kn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Vn(r))return{data:null,error:r};throw r}}},Z4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},Xy),t),this.fetch=Qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Kn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Kn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Kn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},e3=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ae(Ae({},Xy),t),this.fetch=Qy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Kn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vn(n))return{data:null,error:n};throw n}}},t3=class extends e3{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new n3(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},n3=class extends Q4{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new r3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},r3=class extends Z4{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ae(Ae({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},i3=class extends G4{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new H4(this.url,this.headers,e,this.fetch)}get vectors(){return new t3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V4(this.url+"/iceberg",this.headers,this.fetch)}};const ZR="2.90.1",ms=30*1e3,_0=3,Tg=_0*ms,a3="http://localhost:9999",o3="supabase.auth.token",s3={"X-Client-Info":`gotrue-js/${ZR}`},S0="X-Supabase-Api-Version",ek={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,u3=600*1e3;class mu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class c3 extends mu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function d3(e){return be(e)&&e.name==="AuthApiError"}class Wa extends mu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ii extends mu{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Hn extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function f3(e){return be(e)&&e.name==="AuthSessionMissingError"}class os extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xd extends Ii{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class wd extends Ii{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h3(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class cE extends Ii{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class p3 extends Ii{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class E0 extends Ii{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cg(e){return be(e)&&e.name==="AuthRetryableFetchError"}class dE extends Ii{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class A0 extends Ii{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fE=` 	
\r=`.split(""),m3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fE.length;t+=1)e[fE[t].charCodeAt(0)]=-2;for(let t=0;t<Zd.length;t+=1)e[Zd[t].charCodeAt(0)]=t;return e})();function hE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Zd[r]),t.queuedBits-=6}}function tk(e,t,n){const r=m3[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pE(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{y3(l,r,n)};for(let l=0;l<e.length;l+=1)tk(e.charCodeAt(l),i,o);return t.join("")}function g3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function v3(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}g3(r,t)}}function y3(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Es(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)tk(e.charCodeAt(i),n,r);return new Uint8Array(t)}function b3(e){const t=[];return v3(e,n=>t.push(n)),new Uint8Array(t)}function Qa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>hE(i,n,r)),hE(null,n,r),t.join("")}function x3(e){return Math.round(Date.now()/1e3)+e}function w3(){return Symbol("auth-callback")}const nn=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},nk=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function _3(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const rk=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",gs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},$a=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tn=async(e,t)=>{await e.removeItem(t)};class ah{constructor(){this.promise=new ah.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ah.promiseConstructor=Promise;function Ng(e){const t=e.split(".");if(t.length!==3)throw new A0("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!l3.test(t[r]))throw new A0("JWT not in base64url format");return{header:JSON.parse(pE(t[0])),payload:JSON.parse(pE(t[1])),signature:Es(t[2]),raw:{header:t[0],payload:t[1]}}}async function E3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A3(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function T3(e){return("0"+e.toString(16)).substr(-2)}function C3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,T3).join("")}async function N3(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function R3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await N3(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ss(e,t,n=!1){const r=C3();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await gs(e,`${t}-code-verifier`,i);const o=await R3(r);return[o,r===o?"plain":"s256"]}const k3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I3(e){const t=e.headers.get(S0);if(!t||!t.match(k3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function P3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function M3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const O3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ls(e){if(!O3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function D3(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function mE(e){return JSON.parse(JSON.stringify(e))}const Ha=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U3=[502,503,504];async function gE(e){var t;if(!S3(e))throw new E0(Ha(e),0);if(U3.includes(e.status))throw new E0(Ha(e),e.status);let n;try{n=await e.json()}catch(o){throw new Wa(Ha(o),o)}let r;const i=I3(e);if(i&&i.getTime()>=ek["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dE(Ha(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Hn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new dE(Ha(n),e.status,n.weak_password.reasons);throw new c3(Ha(n),e.status||500,r)}const j3=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ee(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[S0]||(o[S0]=ek["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await L3(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function L3(e,t,n,r,i,o){const l=j3(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(d){throw console.error(d),new E0(Ha(d),0)}if(u.ok||await gE(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await gE(d)}}function Sr(e){var t;let n=null;z3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=x3(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function vE(e){const t=Sr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ga(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F3(e){return{data:e,error:null}}function B3(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=rh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function yE(e){return e}function z3(e){return e.access_token&&e.refresh_token&&e.expires_in}const kg=["global","local","others"];class q3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=rk(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=kg[0]){if(kg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kg.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ga})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=rh(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:B3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ga})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:yE});if(h.error)throw h.error;const m=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(be(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){ls(t);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ga})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ls(t);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ga})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ls(t);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ga})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ls(t.userId);try{const{data:n,error:r}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ls(t.userId),ls(t.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:yE});if(h.error)throw h.error;const m=await h.json(),y=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(d=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(S.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(be(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function bE(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const us={debug:!!(globalThis&&nk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ik extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $3 extends ik{}async function H3(e,t,n){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(us.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function G3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ak(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function V3(e){return parseInt(e,16)}function K3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Y3(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:h,uri:m,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=ak(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",A=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let T=`URI: ${m}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(T+=`
Expiration Time: ${i.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let k=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);k+=`
- ${R}`}T+=k}return`${A}
${T}`}class Tt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class ef extends Tt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function J3({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(ok(l)){if(o.rp.id!==l)return new Tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function W3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(ok(r)){if(n.rpId!==r)return new Tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class X3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Q3=new X3;function Z3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=rh(e,["challenge","user","excludeCredentials"]),o=Es(t).buffer,l=Object.assign(Object.assign({},n),{id:Es(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Es(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function e5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=rh(e,["challenge","allowCredentials"]),i=Es(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Es(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function t5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function n5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qa(new Uint8Array(i.authenticatorData)),clientDataJSON:Qa(new Uint8Array(i.clientDataJSON)),signature:Qa(new Uint8Array(i.signature)),userHandle:i.userHandle?Qa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ok(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function xE(){var e,t;return!!(nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function r5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:J3({error:t,options:e})}}}async function i5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:W3({error:t,options:e})}}}const a5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},o5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=tf(u,l):r[o]=tf(l)}else r[o]=l}return r}function s5(e,t){return tf(a5,e,t||{})}function l5(e,t){return tf(o5,e,t||{})}class u5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=i??Q3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${r}`),f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=s5(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:m}=await r5({publicKey:f,signal:d});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}case"request":{const f=l5(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:m}=await i5(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:m}}}}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Wa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn authentication")};try{if(!xE())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Wa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new mu("rpId is required for WebAuthn registration")};try{if(!xE())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return be(l)?{data:null,error:l}:{data:null,error:new Wa("Unexpected error in register",l)}}}}G3();const c5={url:a3,storageKey:o3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function wE(e,t,n){return await n()}const cs={};class gu{get jwks(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=cs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},c5),t);if(this.storageKey=o.storageKey,this.instanceID=(n=gu.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&nn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new q3({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=rk(o.fetch),this.lock=o.lock||wE,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&nn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=H3:this.lock=wE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new u5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:nk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bE(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=bE(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ZR}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(nn()&&(n=_3(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),nn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),h3(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Wa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Sr}),{data:l,error:u}=o;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:m,options:y}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await ss(this.storage,this.storageKey)),o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:x,code_challenge_method:S},xform:Sr})}else if("phone"in t){const{phone:h,password:m,options:y}=t;o=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Sr})}else throw new xd("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return await tn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vE})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vE})}else throw new xd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const o=new os;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,d,f,h,m,y;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:E,wallet:A,statement:T,options:k}=t;let R;if(nn())if(typeof A=="object")R=A;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")R=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const O=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href),P=await R.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=ak(P[0]);let D=(r=k==null?void 0:k.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const B=await R.request({method:"eth_chainId"});D=V3(B)}const F={domain:O.host,address:M,statement:T,uri:O.href,version:"1",chainId:D,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(h=k==null?void 0:k.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=Y3(F),S=await R.request({method:"personal_sign",params:[K3(x),M]})}try{const{data:E,error:A}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Sr});if(A)throw A;if(!E||!E.session||!E.user){const T=new os;return this._returnResult({data:{user:null,session:null},error:T})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(be(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,o,l,u,d,f,h,m,y,x;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:A,wallet:T,statement:k,options:R}=t;let O;if(nn())if(typeof T=="object")O=T;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))O=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const P=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const M=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),k?{statement:k}:null));let D;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")D=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)D=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),E=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((m=(h=R==null?void 0:R.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...R.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const M=await O.signMessage(new TextEncoder().encode(S),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:A,error:T}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Qa(E)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Sr});if(T)throw T;if(!A||!A.session||!A.user){const k=new os;return this._returnResult({data:{user:null,session:null},error:k})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:T})}catch(A){if(be(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const n=await $a(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new p3;const{data:o,error:l}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Sr});if(await tn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!o||!o.session||!o.user){const u=new os;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sr}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const h=new os;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await ss(this.storage,this.storageKey));const{error:m}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:h}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h})}throw new xd("You must provide either an email or phone number.")}catch(u){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Sr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,o,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ss(this.storage,this.storageKey));const f=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:F3});return!((o=f.data)===null||o===void 0)&&o.url&&nn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Hn;const{error:i}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new xd("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await $a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Tg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await $a(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Rg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=D3(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ga}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hn}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:ga})})}catch(n){if(be(n))return f3(n)&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Hn;const l=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await ss(this.storage,this.storageKey));const{data:f,error:h}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:ga});if(h)throw h;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Hn;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Ng(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Hn;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!nn())throw new wd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new wd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cE("No code detected.");const{data:k,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=t;if(!o||!u||!l||!f)throw new wd("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let y=h+m;d&&(y=parseInt(d));const x=y-h;x*1e3<=ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const S=y-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:E,error:A}=await this._getUser(o);if(A)throw A;const T={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:m,expires_at:y,refresh_token:l,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await $a(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({error:o});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(d3(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await tn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=w3(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ss(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,d,f,h;const{data:m,error:y}=o;if(y)throw y;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return nn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:d,access_token:f,nonce:h}=t,m=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Sr}),{data:y,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new os}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:x}))}catch(i){if(await tn(this.storage,`${this.storageKey}-code-verifier`),be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await A3(async i=>(i>0&&await E3(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Cg(o)&&Date.now()+l-r<ms})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),nn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await $a(this.storage,this.storageKey);if(i&&this.userStorage){let l=await $a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await gs(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Rg()}else if(i&&!i.user&&!i.user){const l=await $a(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await tn(this.storage,this.storageKey+"-user"),await gs(this.storage,this.storageKey,i)):i.user=Rg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Tg;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Tg}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Cg(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Hn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ah;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Hn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),be(o)){const l={data:null,error:o};return Cg(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){o.push(d)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=mE(i);await gs(this.storage,this.storageKey,o)}else{const i=mE(n);await gs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tn(this.storage,this.storageKey),await tn(this.storage,this.storageKey+"-code-verifier"),await tn(this.storage,this.storageKey+"-user"),this.userStorage&&await tn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ms);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ms}ms, refresh threshold is ${_0} ticks`),i<=_0&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ik)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await ss(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?this._returnResult({data:null,error:o}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?t5(t.webauthn.credential_response):n5(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:d}=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=await Ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Z3(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:e5(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ng(r.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Hn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Hn});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Hn});const l=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&nn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Hn})})}catch(t){if(be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Hn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+u3>i)return r;const{data:o,error:l}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});r=x.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:d}}=Ng(r);n!=null&&n.allowExpired||P3(o.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:i,signature:l},error:null}}const h=M3(i.alg),m=await crypto.subtle.importKey("jwk",f,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,b3(`${u}.${d}`)))throw new A0("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}gu.nextInstanceID={};const d5=gu,f5="2.90.1";let iu="";typeof Deno<"u"?iu="deno":typeof document<"u"?iu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?iu="react-native":iu="node";const h5={"X-Client-Info":`supabase-js-${iu}/${f5}`},p5={headers:h5},m5={schema:"public"},g5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v5={};function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function y5(e,t){if(vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b5(e){var t=y5(e,"string");return vu(t)=="symbol"?t:t+""}function x5(e,t,n){return(t=b5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(n),!0).forEach(function(r){x5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const w5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_5=()=>Headers,S5=(e,t,n)=>{const r=w5(n),i=_5();return async(o,l)=>{var u;const d=(u=await t())!==null&&u!==void 0?u:e;let f=new i(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,gt(gt({},l),{},{headers:f}))}};function E5(e){return e.endsWith("/")?e:e+"/"}function A5(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:d,auth:f,realtime:h,global:m}=t,y={db:gt(gt({},d),i),auth:gt(gt({},f),o),realtime:gt(gt({},h),l),storage:{},global:gt(gt(gt({},m),u),{},{headers:gt(gt({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function T5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(E5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var C5=class extends d5{constructor(e){super(e)}},N5=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const o=T5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:m5,realtime:v5,auth:gt(gt({},g5),{},{storageKey:l}),global:p5},d=A5(n??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=S5(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new s4(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new i3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new n4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:l,lock:u,debug:d,throwOnError:f},h,m){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new C5({url:this.authUrl.href,headers:gt(gt({},y),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:l,lock:u,debug:d,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new E4(this.realtimeUrl.href,gt(gt({},e),{},{params:gt(gt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const R5=(e,t,n)=>new N5(e,t,n);function k5(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}k5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const I5="https://cpywwtagycbcrqsnpqra.supabase.co",P5="sb_publishable_78KbBsIs-Tea3hIrJBmxXQ_O5cJqPIS",Be=R5(I5,P5),sk=C.createContext({session:null,user:null,loading:!0,signOut:async()=>{}}),Zy=()=>C.useContext(sk),M5=({children:e})=>{const[t,n]=C.useState(null),[r,i]=C.useState(null),[o,l]=C.useState(!0),u="elviino.nxrscripts@gmail.com",d=h=>{const m=h.email||"",y=m.toLowerCase()===u.toLowerCase(),x=h.user_metadata||{};return{id:h.id,name:x.full_name||x.name||m.split("@")[0]||"Utilizador",email:m,walletBalance:x.wallet_balance||0,role:y?vn.SUPER_ADMIN:x.role||vn.USER,is_super_admin:y,avatar:x.avatar_url||x.picture||""}};C.useEffect(()=>{(async()=>{try{const{data:{session:y}}=await Be.auth.getSession();if(n(y),y!=null&&y.user)try{const{data:x}=await Be.from("profiles").select("*").eq("id",y.user.id).single(),S=d(y.user);x&&x.role&&(S.role=x.role,S.email.toLowerCase()===u.toLowerCase()&&(S.role=vn.SUPER_ADMIN,S.is_super_admin=!0)),i(S)}catch(x){console.error("Error fetching profile:",x),i(d(y.user))}else i(null)}catch(y){console.error("Auth initialization error:",y),i(null)}finally{l(!1)}})();const{data:{subscription:m}}=Be.auth.onAuthStateChange(async(y,x)=>{if(n(x),x!=null&&x.user)try{const{data:S}=await Be.from("profiles").select("*").eq("id",x.user.id).single(),E=d(x.user);S&&S.role&&(E.role=S.role,E.email.toLowerCase()===u.toLowerCase()&&(E.role=vn.SUPER_ADMIN,E.is_super_admin=!0)),i(E)}catch(S){console.error("Error fetching profile on auth change:",S),i(d(x.user))}else i(null);l(!1)});return()=>m.unsubscribe()},[]);const f=async()=>{await Be.auth.signOut()};return w.jsx(sk.Provider,{value:{session:t,user:r,loading:o,signOut:f},children:e})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),D5=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),SE=e=>{const t=D5(e);return t.charAt(0).toUpperCase()+t.slice(1)},lk=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),U5=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...u},d)=>C.createElement("svg",{ref:d,...j5,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:lk("lucide",i),...!o&&!U5(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,h])=>C.createElement(f,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=C.forwardRef(({className:r,...i},o)=>C.createElement(L5,{ref:o,iconNode:t,className:lk(`lucide-${O5(SE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=SE(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],B5=fe("activity",F5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zs=fe("arrow-left",z5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],eb=fe("arrow-right",q5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],H5=fe("baby",$5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],V5=fe("bell",G5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Y5=fe("building-2",K5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],T0=fe("camera",J5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],X5=fe("car",W5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Z5=fe("chart-column",Q5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],C0=fe("check",eF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jn=fe("chevron-right",tF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M10.88 21.94 15.46 14",key:"xkve6t"}],["path",{d:"M21.17 8H12",key:"19dcdn"}],["path",{d:"M3.95 6.06 8.54 14",key:"g8jz9m"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],rF=fe("chromium",nF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],uk=fe("circle-alert",iF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EE=fe("circle-check-big",aF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nf=fe("circle-check",oF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lF=fe("circle-x",sF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oh=fe("clock",uF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ck=fe("credit-card",cF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dk=fe("dollar-sign",dF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AE=fe("eye-off",fF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],N0=fe("eye",hF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fk=fe("file-text",pF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],gF=fe("gamepad-2",mF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hk=fe("globe",vF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],bF=fe("grid-3x3",yF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wF=fe("hash",xF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],SF=fe("headphones",_F);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],pk=fe("heart",EF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],mk=fe("house",AF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],CF=fe("image",TF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],R0=fe("info",NF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kF=fe("key",RF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],PF=fe("landmark",IF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tb=fe("loader-circle",MF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],TE=fe("lock",OF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],gk=fe("log-in",DF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],jF=fe("log-out",UF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FF=fe("mail",LF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],k0=fe("map-pin",BF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],qF=fe("message-square",zF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M5 12h14",key:"1ays0h"}]],HF=fe("minus",$F);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rs=fe("package",GF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KF=fe("pen",VF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JF=fe("phone",YF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],nb=fe("plus",WF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],QF=fe("rotate-ccw",XF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],I0=fe("search",ZF);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tB=fe("send",eB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rB=fe("settings",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],aB=fe("share-2",iB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],Ig=fe("shield-alert",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],oo=fe("shield-check",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],uB=fe("shirt",lB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],yu=fe("shopping-bag",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],rb=fe("shopping-cart",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],hB=fe("sliders-horizontal",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Gd=fe("smartphone",pB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gB=fe("sparkles",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],P0=fe("star",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],bB=fe("store",yB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],wB=fe("target",xB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vk=fe("trash-2",_B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],M0=fe("trending-up",SB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yk=fe("triangle-alert",EB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],bk=fe("truck",AB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xk=fe("upload",TB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wk=fe("user",CB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_d=fe("users",NB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ks=fe("x",RB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_k=fe("zap",kB),rf=({variant:e="horizontal",size:t="md",className:n="",onClick:r})=>{const i={sm:"h-6",md:"h-10",lg:"h-14",xl:"h-24"},o=({colorRed:l="#C00000",colorYellow:u="#FFD700"})=>w.jsxs("svg",{viewBox:"0 0 100 100",className:"h-full w-auto drop-shadow-xl",children:[w.jsx("path",{d:"M20,30 L40,80 L60,80 L80,30",fill:"none",stroke:l,strokeWidth:"12",strokeLinecap:"round",strokeLinejoin:"round"}),w.jsx("path",{d:"M35,60 L65,60",stroke:u,strokeWidth:"8",strokeLinecap:"round"}),w.jsx("circle",{cx:"35",cy:"85",r:"6",fill:u}),w.jsx("circle",{cx:"65",cy:"85",r:"6",fill:u}),w.jsx("path",{d:"M10,40 Q25,45 40,40",fill:"none",stroke:u,strokeWidth:"3",strokeDasharray:"5,5"})]});return e==="square"?w.jsx("div",{onClick:r,className:`bg-black rounded-2xl flex items-center justify-center p-2 border border-white/5 shadow-2xl ${i[t]} ${n} ${r?"cursor-pointer active:scale-95 transition-transform":""}`,children:w.jsx(o,{})}):e==="monochrome"?w.jsxs("div",{onClick:r,className:`flex items-center gap-3 opacity-40 grayscale brightness-200 ${i[t]} ${n} ${r?"cursor-pointer":""}`,children:[w.jsx(o,{colorRed:"white",colorYellow:"white"}),w.jsx("span",{className:"text-white font-black italic tracking-tighter text-lg uppercase",children:"AngoPlace"})]}):w.jsxs("div",{onClick:r,className:`flex items-center gap-2 md:gap-4 ${i[t]} ${n} ${r?"cursor-pointer hover:opacity-90 transition-all":""}`,children:[w.jsx("div",{className:"h-full py-0.5",children:w.jsx(o,{})}),w.jsxs("div",{className:"flex flex-col justify-center leading-none",children:[w.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl font-black italic tracking-tighter uppercase flex items-center gap-0",children:[w.jsx("span",{className:"text-white",children:"Ango"}),w.jsx("span",{className:"text-[#C00000]",children:"Place"})]}),w.jsx("span",{className:"text-[8px] md:text-[10px] font-bold text-[#FFD700] tracking-[0.4em] uppercase opacity-80 -mt-1 ml-1",children:"Market"})]})]})};var IB={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PB,MB;function OB(){return{geminiUrl:PB,vertexUrl:MB}}function DB(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=OB();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pi{}function de(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function v(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(n))for(let f=0;f<d.length;f++){const h=d[f];v(h,t.slice(o+1),n[f])}else for(const f of d)v(f,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];v(d[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function UB(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){u=d;break}if(u!==-1&&o.length>u)for(let d=u;d<o.length;d++){const f=o[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&l.add(f)}O0(e,i,o,0,l)}}function O0(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])O0(d,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(f=>!f.startsWith("_")&&!i.has(f)),d={};for(const f of u)d[f]=l[f];for(const[f,h]of Object.entries(d)){const m=[];for(const y of n.slice(r))y==="*"?m.push(f):m.push(y);v(l,m,h)}for(const f of u)delete l[f]}}else{const l=e;o in l&&O0(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ib(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jB(e){const t={},n=g(e,["operationName"]);n!=null&&v(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&v(t,["_url","resourceName"],r),t}function LB(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],BB(l)),t}function FB(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],zB(l)),t}function BB(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>qB(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function zB(e){const t={},n=g(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>$B(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function qB(e){const t={},n=g(e,["video"]);return n!=null&&v(t,["video"],JB(n)),t}function $B(e){const t={},n=g(e,["_self"]);return n!=null&&v(t,["video"],WB(n)),t}function HB(e){const t={},n=g(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function GB(e){const t={},n=g(e,["operationName"]);return n!=null&&v(t,["_url","operationName"],n),t}function VB(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],KB(l)),t}function KB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function Sk(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],YB(l)),t}function YB(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function JB(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],ib(r));const i=g(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function WB(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],ib(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(CE||(CE={}));var NE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(NE||(NE={}));var RE;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(RE||(RE={}));var ut;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ut||(ut={}));var kE;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kE||(kE={}));var IE;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(IE||(IE={}));var PE;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PE||(PE={}));var ME;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ME||(ME={}));var OE;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(OE||(OE={}));var DE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(DE||(DE={}));var UE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(UE||(UE={}));var jE;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(jE||(jE={}));var LE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(LE||(LE={}));var FE;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(FE||(FE={}));var BE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(BE||(BE={}));var zE;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(zE||(zE={}));var qE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(qE||(qE={}));var $E;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($E||($E={}));var HE;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(HE||(HE={}));var GE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(GE||(GE={}));var VE;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(VE||(VE={}));var af;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(af||(af={}));var KE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(KE||(KE={}));var YE;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(YE||(YE={}));var JE;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(JE||(JE={}));var D0;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(D0||(D0={}));var WE;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WE||(WE={}));var XE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(XE||(XE={}));var QE;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(QE||(QE={}));var ZE;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ZE||(ZE={}));var eA;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(eA||(eA={}));var tA;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(tA||(tA={}));var nA;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(nA||(nA={}));var rA;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(rA||(rA={}));var iA;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(iA||(iA={}));var aA;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(aA||(aA={}));var oA;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(oA||(oA={}));var sA;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(sA||(sA={}));var lA;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(lA||(lA={}));var uA;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(uA||(uA={}));var cA;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(cA||(cA={}));var dA;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(dA||(dA={}));var fA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(fA||(fA={}));var hA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(hA||(hA={}));var pA;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(pA||(pA={}));var mA;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mA||(mA={}));var gA;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(gA||(gA={}));var vA;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(vA||(vA={}));var yA;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yA||(yA={}));var bA;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bA||(bA={}));var xA;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(xA||(xA={}));var wA;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(wA||(wA={}));var _A;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_A||(_A={}));var SA;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(SA||(SA={}));var xs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(xs||(xs={}));class U0{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Yl{get text(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const y of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[x,S]of Object.entries(y))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(x);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;h=!0,f+=y.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,x]of Object.entries(m))y!=="inlineData"&&(x!==null||x!==void 0)&&h.push(y);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,r,i,o,l,u,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,r,i,o,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,r,i,o,l,u,d,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class EA{}class AA{}class XB{}class QB{}class ZB{}class ez{}class TA{}class CA{}class NA{}class tz{}class of{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new of;let i;const o=t;return n?i=FB(o):i=LB(o),Object.assign(r,i),r}}class RA{}class kA{}class IA{}class PA{}class nz{}class rz{}class iz{}class ab{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ab,o=VB(t);return Object.assign(r,o),r}}class az{}class oz{}class sz{}class MA{}class lz{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class uz{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ob{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new ob,o=Sk(t);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ek(e,t){const n=$e(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Ak(e){return Array.isArray(e)?e.map(t=>sf(t)):[sf(e)]}function sf(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Tk(e){const t=sf(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ck(e){const t=sf(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function OA(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Nk(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>OA(t)):[OA(e)]}function j0(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function DA(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function UA(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function fn(e){if(e==null)throw new Error("ContentUnion is required");return j0(e)?e:{role:"user",parts:Nk(e)}}function sb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=fn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=fn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>fn(n)):[fn(t)]}function pr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(DA(e)||UA(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fn(e)]}const t=[],n=[],r=j0(e[0]);for(const i of e){const o=j0(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(DA(i)||UA(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:Nk(n)}),t}function cz(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ut).includes(n[0].toUpperCase())?n[0].toUpperCase():ut.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ut).includes(r.toUpperCase())?r.toUpperCase():ut.TYPE_UNSPECIFIED})}}function As(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&cz(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ut).includes(u.toUpperCase())?u.toUpperCase():ut.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=As(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}d.push(As(f))}t[l]=d}else if(i.includes(l)){const d={};for(const[f,h]of Object.entries(u))d[f]=As(h);t[l]=d}else{if(l==="additionalProperties")continue;t[l]=u}return t}function lb(e){return As(e)}function ub(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function cb(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function qs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=As(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=As(t.response));return e}function $s(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function dz(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Mi(e,t){if(typeof t!="string")throw new Error("name must be a string");return dz(e,t,"cachedContents")}function Rk(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function wa(e){return ib(e)}function fz(e){return e!=null&&typeof e=="object"&&"name"in e}function hz(e){return e!=null&&typeof e=="object"&&"video"in e}function pz(e){return e!=null&&typeof e=="object"&&"uri"in e}function kk(e){var t;let n;if(fz(e)&&(n=e.name),!(pz(e)&&(n=e.uri,n===void 0))&&!(hz(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Ik(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Pk(e){for(const t of["models","tunedModels","publisherModels"])if(mz(e,t))return e[t];return[]}function mz(e,t){return e!==null&&typeof e=="object"&&t in e}function gz(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function vz(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=gz(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function Mk(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function yz(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Ok(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Hs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Dk(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bz(e){const t={},n=g(e,["responsesFile"]);n!=null&&v(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Zz(l))),v(t,["inlinedResponses"],o)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["inlinedEmbedContentResponses"],o)}return t}function xz(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&v(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&v(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function wz(e){const t={},n=g(e,["format"]);n!=null&&v(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&v(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&v(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Vd(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&v(t,["state"],Dk(i));const o=g(e,["metadata","createTime"]);o!=null&&v(t,["createTime"],o);const l=g(e,["metadata","endTime"]);l!=null&&v(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&v(t,["updateTime"],u);const d=g(e,["metadata","model"]);d!=null&&v(t,["model"],d);const f=g(e,["metadata","output"]);return f!=null&&v(t,["dest"],bz(Ok(f))),t}function L0(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["state"]);i!=null&&v(t,["state"],Dk(i));const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["createTime"]);l!=null&&v(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&v(t,["startTime"],u);const d=g(e,["endTime"]);d!=null&&v(t,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&v(t,["updateTime"],f);const h=g(e,["model"]);h!=null&&v(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&v(t,["src"],_z(m));const y=g(e,["outputConfig"]);y!=null&&v(t,["dest"],xz(Ok(y)));const x=g(e,["completionStats"]);return x!=null&&v(t,["completionStats"],x),t}function _z(e){const t={},n=g(e,["instancesFormat"]);n!=null&&v(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&v(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&v(t,["bigqueryUri"],i),t}function Sz(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&v(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Qz(e,l))),v(n,["requests","requests"],o)}return n}function Ez(e){const t={},n=g(e,["format"]);n!=null&&v(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&v(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&v(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Az(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Tz(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Hs(e,r)),n}function Cz(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Hs(e,r)),n}function Nz(e){const t={},n=g(e,["content"]);n!=null&&v(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],Rz(r));const i=g(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const o=g(e,["finishReason"]);o!=null&&v(t,["finishReason"],o);const l=g(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const d=g(e,["index"]);d!=null&&v(t,["index"],d);const f=g(e,["logprobsResult"]);f!=null&&v(t,["logprobsResult"],f);const h=g(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),v(t,["safetyRatings"],y)}const m=g(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function Rz(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function Uk(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oq(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function kz(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&v(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Iz(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&v(t,["outputConfig"],wz(yz(i))),n}function jA(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["src"]);i!=null&&v(n,["batch","inputConfig"],Sz(e,Mk(e,i)));const o=g(t,["config"]);return o!=null&&kz(o,n),n}function Pz(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],$e(e,r));const i=g(t,["src"]);i!=null&&v(n,["inputConfig"],Ez(Mk(e,i)));const o=g(t,["config"]);return o!=null&&Iz(o,n),n}function Mz(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["batch","displayName"],r),n}function Oz(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["src"]);i!=null&&v(n,["batch","inputConfig"],zz(e,i));const o=g(t,["config"]);return o!=null&&Mz(o,n),n}function Dz(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Hs(e,r)),n}function Uz(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Hs(e,r)),n}function jz(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);return o!=null&&v(t,["error"],o),t}function Lz(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);return o!=null&&v(t,["error"],o),t}function Fz(e,t){const n={},r=g(t,["contents"]);if(r!=null){let o=sb(e,r);Array.isArray(o)&&(o=o.map(l=>l)),v(n,["requests[]","request","content"],o)}const i=g(t,["config"]);return i!=null&&(v(n,["_self"],Bz(i,n)),UB(n,{"requests[].*":"requests[].request.*"})),n}function Bz(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const o=g(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&v(t,["requests[]","outputDimensionality"],o),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function zz(e,t){const n={},r=g(t,["fileName"]);r!=null&&v(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&v(n,["requests"],Fz(e,i)),n}function qz(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function $z(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Hz(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&v(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&v(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Gz(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],Uk(fn(i)));const o=g(t,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const x=g(t,["presencePenalty"]);x!=null&&v(r,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const E=g(t,["seed"]);E!=null&&v(r,["seed"],E);const A=g(t,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const T=g(t,["responseSchema"]);T!=null&&v(r,["responseSchema"],lb(T));const k=g(t,["responseJsonSchema"]);if(k!=null&&v(r,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let Z=R;Array.isArray(Z)&&(Z=Z.map(Y=>sq(Y))),v(n,["safetySettings"],Z)}const O=g(t,["tools"]);if(n!==void 0&&O!=null){let Z=$s(O);Array.isArray(Z)&&(Z=Z.map(Y=>uq(qs(Y)))),v(n,["tools"],Z)}const P=g(t,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],lq(P)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(t,["cachedContent"]);n!==void 0&&M!=null&&v(n,["cachedContent"],Mi(e,M));const D=g(t,["responseModalities"]);D!=null&&v(r,["responseModalities"],D);const F=g(t,["mediaResolution"]);F!=null&&v(r,["mediaResolution"],F);const B=g(t,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],ub(B)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=g(t,["thinkingConfig"]);J!=null&&v(r,["thinkingConfig"],J);const U=g(t,["imageConfig"]);U!=null&&v(r,["imageConfig"],Xz(U));const G=g(t,["enableEnhancedCivicAnswers"]);return G!=null&&v(r,["enableEnhancedCivicAnswers"],G),r}function Vz(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Nz(f))),v(t,["candidates"],d)}const i=g(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const o=g(e,["promptFeedback"]);o!=null&&v(t,["promptFeedback"],o);const l=g(e,["responseId"]);l!=null&&v(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function Kz(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Hs(e,r)),n}function Yz(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Hs(e,r)),n}function Jz(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function Wz(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function Xz(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Qz(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["request","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let u=pr(i);Array.isArray(u)&&(u=u.map(d=>Uk(d))),v(n,["request","contents"],u)}const o=g(t,["metadata"]);o!=null&&v(n,["metadata"],o);const l=g(t,["config"]);return l!=null&&v(n,["request","generationConfig"],Gz(e,l,g(n,["request"],{}))),n}function Zz(e){const t={},n=g(e,["response"]);n!=null&&v(t,["response"],Vz(n));const r=g(e,["error"]);return r!=null&&v(t,["error"],r),t}function eq(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function tq(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&v(t,["_query","pageToken"],i);const o=g(e,["filter"]);return t!==void 0&&o!=null&&v(t,["_query","filter"],o),n}function nq(e){const t={},n=g(e,["config"]);return n!=null&&eq(n,t),t}function rq(e){const t={},n=g(e,["config"]);return n!=null&&tq(n,t),t}function iq(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Vd(l))),v(t,["batchJobs"],o)}return t}function aq(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>L0(l))),v(t,["batchJobs"],o)}return t}function oq(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],qz(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],$z(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&v(t,["inlineData"],Az(d));const f=g(e,["text"]);f!=null&&v(t,["text"],f);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function sq(e){const t={},n=g(e,["category"]);if(n!=null&&v(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function lq(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&v(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&v(t,["functionCallingConfig"],Hz(r)),t}function uq(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&v(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&v(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&v(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&v(t,["googleMaps"],Jz(l));const u=g(e,["googleSearch"]);u!=null&&v(t,["googleSearch"],Wz(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&v(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&v(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(wi||(wi={}));class mo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cq extends Pi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mo(wi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=jA(this.apiClient,t),r=n._url,i=de("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,d=u.requests,f=[];for(const h of d){const m=Object.assign({},h);if(m.systemInstruction){const y=m.systemInstruction;delete m.systemInstruction;const x=m.request;x.systemInstruction=y,m.request=x}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Pz(this.apiClient,t);return u=de("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>L0(h))}else{const f=jA(this.apiClient,t);return u=de("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Vd(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Oz(this.apiClient,t);return o=de("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>Vd(d))}}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Yz(this.apiClient,t);return u=de("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>L0(h))}else{const f=Kz(this.apiClient,t);return u=de("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>Vd(h))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const d=Cz(this.apiClient,t);l=de("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=Tz(this.apiClient,t);l=de("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=rq(t);return u=de("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=aq(h),y=new MA;return Object.assign(y,m),y})}else{const f=nq(t);return u=de("batches",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=iq(h),y=new MA;return Object.assign(y,m),y})}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Uz(this.apiClient,t);return u=de("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>Lz(h))}else{const f=Dz(this.apiClient,t);return u=de("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>jz(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dq(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function LA(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Oq(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function fq(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const o=g(e,["displayName"]);t!==void 0&&o!=null&&v(t,["displayName"],o);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=pr(l);Array.isArray(h)&&(h=h.map(m=>LA(m))),v(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],LA(fn(u)));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(m=>Uq(m))),v(t,["tools"],h)}const f=g(e,["toolConfig"]);if(t!==void 0&&f!=null&&v(t,["toolConfig"],Dq(f)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function hq(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&v(t,["expireTime"],i);const o=g(e,["displayName"]);t!==void 0&&o!=null&&v(t,["displayName"],o);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=pr(l);Array.isArray(m)&&(m=m.map(y=>y)),v(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&v(t,["systemInstruction"],fn(u));const d=g(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>jq(y))),v(t,["tools"],m)}const f=g(e,["toolConfig"]);t!==void 0&&f!=null&&v(t,["toolConfig"],f);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&v(t,["encryption_spec","kmsKeyName"],h),n}function pq(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],Ek(e,r));const i=g(t,["config"]);return i!=null&&fq(i,n),n}function mq(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["model"],Ek(e,r));const i=g(t,["config"]);return i!=null&&hq(i,n),n}function gq(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Mi(e,r)),n}function vq(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Mi(e,r)),n}function yq(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function bq(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function xq(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function wq(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _q(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&v(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&v(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Sq(e){const t={},n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const o=g(e,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&v(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Eq(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Mi(e,r)),n}function Aq(e,t){const n={},r=g(t,["name"]);return r!=null&&v(n,["_url","name"],Mi(e,r)),n}function Tq(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function Cq(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function Nq(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function Rq(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function kq(e){const t={},n=g(e,["config"]);return n!=null&&Nq(n,t),t}function Iq(e){const t={},n=g(e,["config"]);return n!=null&&Rq(n,t),t}function Pq(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["cachedContents"],o)}return t}function Mq(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["cachedContents"],o)}return t}function Oq(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],xq(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],wq(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&v(t,["inlineData"],dq(d));const f=g(e,["text"]);f!=null&&v(t,["text"],f);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function Dq(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&v(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&v(t,["functionCallingConfig"],_q(r)),t}function Uq(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&v(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&v(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&v(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&v(t,["googleMaps"],Tq(l));const u=g(e,["googleSearch"]);u!=null&&v(t,["googleSearch"],Cq(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&v(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&v(t,["urlContext"],f),t}function jq(e){const t={},n=g(e,["retrieval"]);n!=null&&v(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&v(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=g(e,["enterpriseWebSearch"]);o!=null&&v(t,["enterpriseWebSearch"],o);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>Sq(y))),v(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&v(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function Lq(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function Fq(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&v(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&v(t,["expireTime"],i),n}function Bq(e,t){const n={},r=g(t,["name"]);r!=null&&v(n,["_url","name"],Mi(e,r));const i=g(t,["config"]);return i!=null&&Lq(i,n),n}function zq(e,t){const n={},r=g(t,["name"]);r!=null&&v(n,["_url","name"],Mi(e,r));const i=g(t,["config"]);return i!=null&&Fq(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qq extends Pi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mo(wi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mq(this.apiClient,t);return u=de("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=pq(this.apiClient,t);return u=de("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Aq(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=Eq(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=vq(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=bq(h),y=new IA;return Object.assign(y,m),y})}else{const f=gq(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=yq(h),y=new IA;return Object.assign(y,m),y})}}async update(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=zq(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const f=Bq(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Iq(t);return u=de("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=Mq(h),y=new PA;return Object.assign(y,m),y})}else{const f=kq(t);return u=de("cachedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=Pq(h),y=new PA;return Object.assign(y,m),y})}}}function lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function FA(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(e){return this instanceof Ne?(this.v=e,this):new Ne(e)}function Rr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(x){return function(S){return Promise.resolve(S).then(x,m)}}function u(x,S){r[x]&&(i[x]=function(E){return new Promise(function(A,T){o.push([x,E,A,T])>1||d(x,E)})},S&&(i[x]=S(i[x])))}function d(x,S){try{f(r[x](S))}catch(E){y(o[0][3],E)}}function f(x){x.value instanceof Ne?Promise.resolve(x.value.v).then(h,m):y(o[0][2],x)}function h(x){d("next",x)}function m(x){d("throw",x)}function y(x,S){x(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function kr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof FA=="function"?FA(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,d){l=e[o](l),i(u,d,l.done,l.value)})}}function i(o,l,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $q(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:jk(n)}function jk(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Hq(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function BA(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!jk(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class Gq{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Vq(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Vq{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Hq(o)}async sendMessage(t){var n;await this.sendPromise;const r=fn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const d=await i,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let y=[];h!=null&&(y=(u=h.slice(m))!==null&&u!==void 0?u:[]);const x=f?[f]:[];this.recordHistory(r,x,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=fn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?BA(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Rr(this,arguments,function*(){var i,o,l,u,d,f;const h=[];try{for(var m=!0,y=kr(t),x;x=yield Ne(y.next()),i=x.done,!i;m=!0){u=x.value,m=!1;const S=u;if($q(S)){const E=(f=(d=S.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;E!==void 0&&h.push(E)}yield yield Ne(S)}}catch(S){o={error:S}}finally{try{!m&&!i&&(l=y.return)&&(yield Ne(l.call(y)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...BA(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sh extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,sh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kq(e){const t={},n=g(e,["file"]);return n!=null&&v(t,["file"],n),t}function Yq(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function Jq(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","file"],kk(n)),t}function Wq(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function Xq(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","file"],kk(n)),t}function Qq(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function Zq(e){const t={},n=g(e,["config"]);return n!=null&&Qq(n,t),t}function e$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class t$ extends Pi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mo(wi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Zq(t);return o=de("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=e$(d),h=new az;return Object.assign(h,f),h})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kq(t);return o=de("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=Yq(d),h=new oz;return Object.assign(h,f),h})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xq(t);return o=de("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Jq(t);return o=de("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=Wq(d),h=new sz;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kd(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function n$(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>y$(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function r$(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function i$(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function a$(e){const t={},n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const o=g(e,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&v(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function o$(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const o=g(e,["candidateCount"]);o!=null&&v(t,["candidateCount"],o);const l=g(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const d=g(e,["logprobs"]);d!=null&&v(t,["logprobs"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(t,["maxOutputTokens"],f);const h=g(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const y=g(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const x=g(e,["responseMimeType"]);x!=null&&v(t,["responseMimeType"],x);const S=g(e,["responseModalities"]);S!=null&&v(t,["responseModalities"],S);const E=g(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const A=g(e,["routingConfig"]);A!=null&&v(t,["routingConfig"],A);const T=g(e,["seed"]);T!=null&&v(t,["seed"],T);const k=g(e,["speechConfig"]);k!=null&&v(t,["speechConfig"],k);const R=g(e,["stopSequences"]);R!=null&&v(t,["stopSequences"],R);const O=g(e,["temperature"]);O!=null&&v(t,["temperature"],O);const P=g(e,["thinkingConfig"]);P!=null&&v(t,["thinkingConfig"],P);const M=g(e,["topK"]);M!=null&&v(t,["topK"],M);const D=g(e,["topP"]);if(D!=null&&v(t,["topP"],D),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function s$(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function l$(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function u$(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const o=g(e,["temperature"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","temperature"],o);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],cb(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&v(t,["setup","systemInstruction"],n$(fn(S)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let M=$s(E);Array.isArray(M)&&(M=M.map(D=>x$(qs(D)))),v(t,["setup","tools"],M)}const A=g(e,["sessionResumption"]);t!==void 0&&A!=null&&v(t,["setup","sessionResumption"],b$(A));const T=g(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&v(t,["setup","inputAudioTranscription"],T);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&v(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&v(t,["setup","realtimeInputConfig"],R);const O=g(e,["contextWindowCompression"]);t!==void 0&&O!=null&&v(t,["setup","contextWindowCompression"],O);const P=g(e,["proactivity"]);if(t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function c$(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],o$(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const o=g(e,["temperature"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","temperature"],o);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],cb(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&v(t,["setup","systemInstruction"],fn(S));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let D=$s(E);Array.isArray(D)&&(D=D.map(F=>w$(qs(F)))),v(t,["setup","tools"],D)}const A=g(e,["sessionResumption"]);t!==void 0&&A!=null&&v(t,["setup","sessionResumption"],A);const T=g(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&v(t,["setup","inputAudioTranscription"],T);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&v(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&v(t,["setup","realtimeInputConfig"],R);const O=g(e,["contextWindowCompression"]);t!==void 0&&O!=null&&v(t,["setup","contextWindowCompression"],O);const P=g(e,["proactivity"]);t!==void 0&&P!=null&&v(t,["setup","proactivity"],P);const M=g(e,["explicitVadSignal"]);return t!==void 0&&M!=null&&v(t,["setup","explicitVadSignal"],M),n}function d$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],$e(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],u$(i,n)),n}function f$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],$e(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],c$(i,n)),n}function h$(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&v(t,["musicGenerationConfig"],n),t}function p$(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["weightedPrompts"],r)}return t}function m$(e){const t={},n=g(e,["media"]);if(n!=null){let f=Ak(n);Array.isArray(f)&&(f=f.map(h=>Kd(h))),v(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&v(t,["audio"],Kd(Ck(r)));const i=g(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const o=g(e,["video"]);o!=null&&v(t,["video"],Kd(Tk(o)));const l=g(e,["text"]);l!=null&&v(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&v(t,["activityEnd"],d),t}function g$(e){const t={},n=g(e,["media"]);if(n!=null){let f=Ak(n);Array.isArray(f)&&(f=f.map(h=>h)),v(t,["mediaChunks"],f)}const r=g(e,["audio"]);r!=null&&v(t,["audio"],Ck(r));const i=g(e,["audioStreamEnd"]);i!=null&&v(t,["audioStreamEnd"],i);const o=g(e,["video"]);o!=null&&v(t,["video"],Tk(o));const l=g(e,["text"]);l!=null&&v(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&v(t,["activityStart"],u);const d=g(e,["activityEnd"]);return d!=null&&v(t,["activityEnd"],d),t}function v$(e){const t={},n=g(e,["setupComplete"]);n!=null&&v(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&v(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&v(t,["toolCall"],i);const o=g(e,["toolCallCancellation"]);o!=null&&v(t,["toolCallCancellation"],o);const l=g(e,["usageMetadata"]);l!=null&&v(t,["usageMetadata"],_$(l));const u=g(e,["goAway"]);u!=null&&v(t,["goAway"],u);const d=g(e,["sessionResumptionUpdate"]);d!=null&&v(t,["sessionResumptionUpdate"],d);const f=g(e,["voiceActivityDetectionSignal"]);return f!=null&&v(t,["voiceActivityDetectionSignal"],f),t}function y$(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],r$(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],i$(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&v(t,["inlineData"],Kd(d));const f=g(e,["text"]);f!=null&&v(t,["text"],f);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function b$(e){const t={},n=g(e,["handle"]);if(n!=null&&v(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function x$(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&v(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&v(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&v(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&v(t,["googleMaps"],s$(l));const u=g(e,["googleSearch"]);u!=null&&v(t,["googleSearch"],l$(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&v(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&v(t,["urlContext"],f),t}function w$(e){const t={},n=g(e,["retrieval"]);n!=null&&v(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&v(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=g(e,["enterpriseWebSearch"]);o!=null&&v(t,["enterpriseWebSearch"],o);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>a$(y))),v(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&v(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function _$(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&v(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&v(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&v(t,["responseTokenCount"],i);const o=g(e,["toolUsePromptTokenCount"]);o!=null&&v(t,["toolUsePromptTokenCount"],o);const l=g(e,["thoughtsTokenCount"]);l!=null&&v(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&v(t,["totalTokenCount"],u);const d=g(e,["promptTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>S)),v(t,["promptTokensDetails"],x)}const f=g(e,["cacheTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>S)),v(t,["cacheTokensDetails"],x)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>S)),v(t,["responseTokensDetails"],x)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(S=>S)),v(t,["toolUsePromptTokensDetails"],x)}const y=g(e,["trafficType"]);return y!=null&&v(t,["trafficType"],y),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S$(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function E$(e){const t={},n=g(e,["content"]);n!=null&&v(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&v(t,["citationMetadata"],A$(r));const i=g(e,["tokenCount"]);i!=null&&v(t,["tokenCount"],i);const o=g(e,["finishReason"]);o!=null&&v(t,["finishReason"],o);const l=g(e,["avgLogprobs"]);l!=null&&v(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&v(t,["groundingMetadata"],u);const d=g(e,["index"]);d!=null&&v(t,["index"],d);const f=g(e,["logprobsResult"]);f!=null&&v(t,["logprobsResult"],f);const h=g(e,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),v(t,["safetyRatings"],y)}const m=g(e,["urlContextMetadata"]);return m!=null&&v(t,["urlContextMetadata"],m),t}function A$(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),v(t,["citations"],r)}return t}function T$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let o=pr(i);Array.isArray(o)&&(o=o.map(l=>l)),v(n,["contents"],o)}return n}function C$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(t,["tokensInfo"],i)}return t}function N$(e){const t={},n=g(e,["values"]);n!=null&&v(t,["values"],n);const r=g(e,["statistics"]);return r!=null&&v(t,["statistics"],R$(r)),t}function R$(e){const t={},n=g(e,["truncated"]);n!=null&&v(t,["truncated"],n);const r=g(e,["token_count"]);return r!=null&&v(t,["tokenCount"],r),t}function lh(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>L6(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function k$(e){const t={},n=g(e,["controlType"]);n!=null&&v(t,["controlType"],n);const r=g(e,["enableControlImageComputation"]);return r!=null&&v(t,["computeControl"],r),t}function I$(e){const t={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function P$(e,t){const n={},r=g(e,["systemInstruction"]);t!==void 0&&r!=null&&v(t,["systemInstruction"],fn(r));const i=g(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>zk(u))),v(t,["tools"],l)}const o=g(e,["generationConfig"]);return t!==void 0&&o!=null&&v(t,["generationConfig"],S6(o)),n}function M$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let l=pr(i);Array.isArray(l)&&(l=l.map(u=>lh(u))),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&I$(o),n}function O$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let l=pr(i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&P$(o,n),n}function D$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);r!=null&&v(t,["totalTokens"],r);const i=g(e,["cachedContentTokenCount"]);return i!=null&&v(t,["cachedContentTokenCount"],i),t}function U$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["totalTokens"]);return r!=null&&v(t,["totalTokens"],r),t}function j$(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],$e(e,r)),n}function L$(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],$e(e,r)),n}function F$(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function B$(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}function z$(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const o=g(e,["numberOfImages"]);t!==void 0&&o!=null&&v(t,["parameters","sampleCount"],o);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const d=g(e,["seed"]);t!==void 0&&d!=null&&v(t,["parameters","seed"],d);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&v(t,["parameters","safetySetting"],f);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const y=g(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const x=g(e,["language"]);t!==void 0&&x!=null&&v(t,["parameters","language"],x);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&v(t,["parameters","outputOptions","mimeType"],S);const E=g(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const A=g(e,["addWatermark"]);t!==void 0&&A!=null&&v(t,["parameters","addWatermark"],A);const T=g(e,["labels"]);t!==void 0&&T!=null&&v(t,["labels"],T);const k=g(e,["editMode"]);t!==void 0&&k!=null&&v(t,["parameters","editMode"],k);const R=g(e,["baseSteps"]);return t!==void 0&&R!=null&&v(t,["parameters","editConfig","baseSteps"],R),n}function q$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>H6(d))),v(n,["instances[0]","referenceImages"],u)}const l=g(t,["config"]);return l!=null&&z$(l,n),n}function $$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uh(o))),v(t,["generatedImages"],i)}return t}function H$(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["requests[]","title"],i);const o=g(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&v(t,["requests[]","outputDimensionality"],o),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function G$(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&v(t,["instances[]","task_type"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&v(t,["instances[]","title"],i);const o=g(e,["outputDimensionality"]);t!==void 0&&o!=null&&v(t,["parameters","outputDimensionality"],o);const l=g(e,["mimeType"]);t!==void 0&&l!=null&&v(t,["instances[]","mimeType"],l);const u=g(e,["autoTruncate"]);return t!==void 0&&u!=null&&v(t,["parameters","autoTruncate"],u),n}function V$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let u=sb(e,i);Array.isArray(u)&&(u=u.map(d=>d)),v(n,["requests[]","content"],u)}const o=g(t,["config"]);o!=null&&H$(o,n);const l=g(t,["model"]);return l!==void 0&&v(n,["requests[]","model"],$e(e,l)),n}function K$(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let l=sb(e,i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["instances[]","content"],l)}const o=g(t,["config"]);return o!=null&&G$(o,n),n}function Y$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["embeddings"],o)}const i=g(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function J$(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>N$(l))),v(t,["embeddings"],o)}const i=g(e,["metadata"]);return i!=null&&v(t,["metadata"],i),t}function W$(e){const t={},n=g(e,["endpoint"]);n!=null&&v(t,["name"],n);const r=g(e,["deployedModelId"]);return r!=null&&v(t,["deployedModelId"],r),t}function X$(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Q$(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Z$(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&v(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&v(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function e6(e){const t={},n=g(e,["description"]);n!=null&&v(t,["description"],n);const r=g(e,["name"]);r!=null&&v(t,["name"],r);const i=g(e,["parameters"]);i!=null&&v(t,["parameters"],i);const o=g(e,["parametersJsonSchema"]);o!=null&&v(t,["parametersJsonSchema"],o);const l=g(e,["response"]);l!=null&&v(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&v(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function t6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],lh(fn(i)));const o=g(t,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const x=g(t,["presencePenalty"]);x!=null&&v(r,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const E=g(t,["seed"]);E!=null&&v(r,["seed"],E);const A=g(t,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const T=g(t,["responseSchema"]);T!=null&&v(r,["responseSchema"],lb(T));const k=g(t,["responseJsonSchema"]);if(k!=null&&v(r,["responseJsonSchema"],k),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=g(t,["safetySettings"]);if(n!==void 0&&R!=null){let Z=R;Array.isArray(Z)&&(Z=Z.map(Y=>G6(Y))),v(n,["safetySettings"],Z)}const O=g(t,["tools"]);if(n!==void 0&&O!=null){let Z=$s(O);Array.isArray(Z)&&(Z=Z.map(Y=>Q6(qs(Y)))),v(n,["tools"],Z)}const P=g(t,["toolConfig"]);if(n!==void 0&&P!=null&&v(n,["toolConfig"],X6(P)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(t,["cachedContent"]);n!==void 0&&M!=null&&v(n,["cachedContent"],Mi(e,M));const D=g(t,["responseModalities"]);D!=null&&v(r,["responseModalities"],D);const F=g(t,["mediaResolution"]);F!=null&&v(r,["mediaResolution"],F);const B=g(t,["speechConfig"]);if(B!=null&&v(r,["speechConfig"],ub(B)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=g(t,["thinkingConfig"]);J!=null&&v(r,["thinkingConfig"],J);const U=g(t,["imageConfig"]);U!=null&&v(r,["imageConfig"],N6(U));const G=g(t,["enableEnhancedCivicAnswers"]);return G!=null&&v(r,["enableEnhancedCivicAnswers"],G),r}function n6(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&v(n,["systemInstruction"],fn(i));const o=g(t,["temperature"]);o!=null&&v(r,["temperature"],o);const l=g(t,["topP"]);l!=null&&v(r,["topP"],l);const u=g(t,["topK"]);u!=null&&v(r,["topK"],u);const d=g(t,["candidateCount"]);d!=null&&v(r,["candidateCount"],d);const f=g(t,["maxOutputTokens"]);f!=null&&v(r,["maxOutputTokens"],f);const h=g(t,["stopSequences"]);h!=null&&v(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&v(r,["responseLogprobs"],m);const y=g(t,["logprobs"]);y!=null&&v(r,["logprobs"],y);const x=g(t,["presencePenalty"]);x!=null&&v(r,["presencePenalty"],x);const S=g(t,["frequencyPenalty"]);S!=null&&v(r,["frequencyPenalty"],S);const E=g(t,["seed"]);E!=null&&v(r,["seed"],E);const A=g(t,["responseMimeType"]);A!=null&&v(r,["responseMimeType"],A);const T=g(t,["responseSchema"]);T!=null&&v(r,["responseSchema"],lb(T));const k=g(t,["responseJsonSchema"]);k!=null&&v(r,["responseJsonSchema"],k);const R=g(t,["routingConfig"]);R!=null&&v(r,["routingConfig"],R);const O=g(t,["modelSelectionConfig"]);O!=null&&v(r,["modelConfig"],O);const P=g(t,["safetySettings"]);if(n!==void 0&&P!=null){let q=P;Array.isArray(q)&&(q=q.map(X=>X)),v(n,["safetySettings"],q)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let q=$s(M);Array.isArray(q)&&(q=q.map(X=>zk(qs(X)))),v(n,["tools"],q)}const D=g(t,["toolConfig"]);n!==void 0&&D!=null&&v(n,["toolConfig"],D);const F=g(t,["labels"]);n!==void 0&&F!=null&&v(n,["labels"],F);const B=g(t,["cachedContent"]);n!==void 0&&B!=null&&v(n,["cachedContent"],Mi(e,B));const J=g(t,["responseModalities"]);J!=null&&v(r,["responseModalities"],J);const U=g(t,["mediaResolution"]);U!=null&&v(r,["mediaResolution"],U);const G=g(t,["speechConfig"]);G!=null&&v(r,["speechConfig"],ub(G));const Z=g(t,["audioTimestamp"]);Z!=null&&v(r,["audioTimestamp"],Z);const Y=g(t,["thinkingConfig"]);Y!=null&&v(r,["thinkingConfig"],Y);const ie=g(t,["imageConfig"]);if(ie!=null&&v(r,["imageConfig"],R6(ie)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function zA(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let l=pr(i);Array.isArray(l)&&(l=l.map(u=>lh(u))),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&v(n,["generationConfig"],t6(e,o,n)),n}function qA(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["contents"]);if(i!=null){let l=pr(i);Array.isArray(l)&&(l=l.map(u=>u)),v(n,["contents"],l)}const o=g(t,["config"]);return o!=null&&v(n,["generationConfig"],n6(e,o,n)),n}function $A(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>E$(f))),v(t,["candidates"],d)}const i=g(e,["modelVersion"]);i!=null&&v(t,["modelVersion"],i);const o=g(e,["promptFeedback"]);o!=null&&v(t,["promptFeedback"],o);const l=g(e,["responseId"]);l!=null&&v(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&v(t,["usageMetadata"],u),t}function HA(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),v(t,["candidates"],f)}const i=g(e,["createTime"]);i!=null&&v(t,["createTime"],i);const o=g(e,["modelVersion"]);o!=null&&v(t,["modelVersion"],o);const l=g(e,["promptFeedback"]);l!=null&&v(t,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&v(t,["responseId"],u);const d=g(e,["usageMetadata"]);return d!=null&&v(t,["usageMetadata"],d),t}function r6(e,t){const n={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);t!==void 0&&i!=null&&v(t,["parameters","aspectRatio"],i);const o=g(e,["guidanceScale"]);if(t!==void 0&&o!=null&&v(t,["parameters","guidanceScale"],o),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&v(t,["parameters","safetySetting"],l);const u=g(e,["personGeneration"]);t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u);const d=g(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&v(t,["parameters","includeSafetyAttributes"],d);const f=g(e,["includeRaiReason"]);t!==void 0&&f!=null&&v(t,["parameters","includeRaiReason"],f);const h=g(e,["language"]);t!==void 0&&h!=null&&v(t,["parameters","language"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","mimeType"],m);const y=g(e,["outputCompressionQuality"]);if(t!==void 0&&y!=null&&v(t,["parameters","outputOptions","compressionQuality"],y),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=g(e,["imageSize"]);if(t!==void 0&&x!=null&&v(t,["parameters","sampleImageSize"],x),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function i6(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["negativePrompt"]);t!==void 0&&i!=null&&v(t,["parameters","negativePrompt"],i);const o=g(e,["numberOfImages"]);t!==void 0&&o!=null&&v(t,["parameters","sampleCount"],o);const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&v(t,["parameters","aspectRatio"],l);const u=g(e,["guidanceScale"]);t!==void 0&&u!=null&&v(t,["parameters","guidanceScale"],u);const d=g(e,["seed"]);t!==void 0&&d!=null&&v(t,["parameters","seed"],d);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&v(t,["parameters","safetySetting"],f);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&v(t,["parameters","includeSafetyAttributes"],m);const y=g(e,["includeRaiReason"]);t!==void 0&&y!=null&&v(t,["parameters","includeRaiReason"],y);const x=g(e,["language"]);t!==void 0&&x!=null&&v(t,["parameters","language"],x);const S=g(e,["outputMimeType"]);t!==void 0&&S!=null&&v(t,["parameters","outputOptions","mimeType"],S);const E=g(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&v(t,["parameters","outputOptions","compressionQuality"],E);const A=g(e,["addWatermark"]);t!==void 0&&A!=null&&v(t,["parameters","addWatermark"],A);const T=g(e,["labels"]);t!==void 0&&T!=null&&v(t,["labels"],T);const k=g(e,["imageSize"]);t!==void 0&&k!=null&&v(t,["parameters","sampleImageSize"],k);const R=g(e,["enhancePrompt"]);return t!==void 0&&R!=null&&v(t,["parameters","enhancePrompt"],R),n}function a6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["config"]);return o!=null&&r6(o,n),n}function o6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["config"]);return o!=null&&i6(o,n),n}function s6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>b6(l))),v(t,["generatedImages"],o)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],Fk(i)),t}function l6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>uh(l))),v(t,["generatedImages"],o)}const i=g(e,["positivePromptSafetyAttributes"]);return i!=null&&v(t,["positivePromptSafetyAttributes"],Bk(i)),t}function u6(e,t){const n={},r=g(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(e,["durationSeconds"]);if(t!==void 0&&i!=null&&v(t,["parameters","durationSeconds"],i),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(e,["aspectRatio"]);t!==void 0&&o!=null&&v(t,["parameters","aspectRatio"],o);const l=g(e,["resolution"]);t!==void 0&&l!=null&&v(t,["parameters","resolution"],l);const u=g(e,["personGeneration"]);if(t!==void 0&&u!=null&&v(t,["parameters","personGeneration"],u),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(e,["negativePrompt"]);t!==void 0&&d!=null&&v(t,["parameters","negativePrompt"],d);const f=g(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&v(t,["parameters","enhancePrompt"],f),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(e,["lastFrame"]);t!==void 0&&h!=null&&v(t,["instances[0]","lastFrame"],ch(h));const m=g(e,["referenceImages"]);if(t!==void 0&&m!=null){let y=m;Array.isArray(y)&&(y=y.map(x=>dH(x))),v(t,["instances[0]","referenceImages"],y)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function c6(e,t){const n={},r=g(e,["numberOfVideos"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&v(t,["parameters","storageUri"],i);const o=g(e,["fps"]);t!==void 0&&o!=null&&v(t,["parameters","fps"],o);const l=g(e,["durationSeconds"]);t!==void 0&&l!=null&&v(t,["parameters","durationSeconds"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&v(t,["parameters","seed"],u);const d=g(e,["aspectRatio"]);t!==void 0&&d!=null&&v(t,["parameters","aspectRatio"],d);const f=g(e,["resolution"]);t!==void 0&&f!=null&&v(t,["parameters","resolution"],f);const h=g(e,["personGeneration"]);t!==void 0&&h!=null&&v(t,["parameters","personGeneration"],h);const m=g(e,["pubsubTopic"]);t!==void 0&&m!=null&&v(t,["parameters","pubsubTopic"],m);const y=g(e,["negativePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","negativePrompt"],y);const x=g(e,["enhancePrompt"]);t!==void 0&&x!=null&&v(t,["parameters","enhancePrompt"],x);const S=g(e,["generateAudio"]);t!==void 0&&S!=null&&v(t,["parameters","generateAudio"],S);const E=g(e,["lastFrame"]);t!==void 0&&E!=null&&v(t,["instances[0]","lastFrame"],Dr(E));const A=g(e,["referenceImages"]);if(t!==void 0&&A!=null){let R=A;Array.isArray(R)&&(R=R.map(O=>fH(O))),v(t,["instances[0]","referenceImages"],R)}const T=g(e,["mask"]);t!==void 0&&T!=null&&v(t,["instances[0]","mask"],cH(T));const k=g(e,["compressionQuality"]);return t!==void 0&&k!=null&&v(t,["parameters","compressionQuality"],k),n}function d6(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response","generateVideoResponse"]);return l!=null&&v(t,["response"],m6(l)),t}function f6(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],g6(l)),t}function h6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["image"]);o!=null&&v(n,["instances[0]","image"],ch(o));const l=g(t,["video"]);l!=null&&v(n,["instances[0]","video"],qk(l));const u=g(t,["source"]);u!=null&&v6(u,n);const d=g(t,["config"]);return d!=null&&u6(d,n),n}function p6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["prompt"]);i!=null&&v(n,["instances[0]","prompt"],i);const o=g(t,["image"]);o!=null&&v(n,["instances[0]","image"],Dr(o));const l=g(t,["video"]);l!=null&&v(n,["instances[0]","video"],$k(l));const u=g(t,["source"]);u!=null&&y6(u,n);const d=g(t,["config"]);return d!=null&&c6(d,n),n}function m6(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>w6(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function g6(e){const t={},n=g(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>_6(l))),v(t,["generatedVideos"],o)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&v(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&v(t,["raiMediaFilteredReasons"],i),t}function v6(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],ch(i));const o=g(e,["video"]);return t!==void 0&&o!=null&&v(t,["instances[0]","video"],qk(o)),n}function y6(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Dr(i));const o=g(e,["video"]);return t!==void 0&&o!=null&&v(t,["instances[0]","video"],$k(o)),n}function b6(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["image"],k6(n));const r=g(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=g(e,["_self"]);return i!=null&&v(t,["safetyAttributes"],Fk(i)),t}function uh(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["image"],Lk(n));const r=g(e,["raiFilteredReason"]);r!=null&&v(t,["raiFilteredReason"],r);const i=g(e,["_self"]);i!=null&&v(t,["safetyAttributes"],Bk(i));const o=g(e,["prompt"]);return o!=null&&v(t,["enhancedPrompt"],o),t}function x6(e){const t={},n=g(e,["_self"]);n!=null&&v(t,["mask"],Lk(n));const r=g(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(t,["labels"],i)}return t}function w6(e){const t={},n=g(e,["video"]);return n!=null&&v(t,["video"],lH(n)),t}function _6(e){const t={},n=g(e,["_self"]);return n!=null&&v(t,["video"],uH(n)),t}function S6(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&v(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&v(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&v(t,["audioTimestamp"],i);const o=g(e,["candidateCount"]);o!=null&&v(t,["candidateCount"],o);const l=g(e,["enableAffectiveDialog"]);l!=null&&v(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&v(t,["frequencyPenalty"],u);const d=g(e,["logprobs"]);d!=null&&v(t,["logprobs"],d);const f=g(e,["maxOutputTokens"]);f!=null&&v(t,["maxOutputTokens"],f);const h=g(e,["mediaResolution"]);h!=null&&v(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&v(t,["presencePenalty"],m);const y=g(e,["responseLogprobs"]);y!=null&&v(t,["responseLogprobs"],y);const x=g(e,["responseMimeType"]);x!=null&&v(t,["responseMimeType"],x);const S=g(e,["responseModalities"]);S!=null&&v(t,["responseModalities"],S);const E=g(e,["responseSchema"]);E!=null&&v(t,["responseSchema"],E);const A=g(e,["routingConfig"]);A!=null&&v(t,["routingConfig"],A);const T=g(e,["seed"]);T!=null&&v(t,["seed"],T);const k=g(e,["speechConfig"]);k!=null&&v(t,["speechConfig"],k);const R=g(e,["stopSequences"]);R!=null&&v(t,["stopSequences"],R);const O=g(e,["temperature"]);O!=null&&v(t,["temperature"],O);const P=g(e,["thinkingConfig"]);P!=null&&v(t,["thinkingConfig"],P);const M=g(e,["topK"]);M!=null&&v(t,["topK"],M);const D=g(e,["topP"]);if(D!=null&&v(t,["topP"],D),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function E6(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],$e(e,r)),n}function A6(e,t){const n={},r=g(t,["model"]);return r!=null&&v(n,["_url","name"],$e(e,r)),n}function T6(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function C6(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function N6(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&v(t,["imageSize"],r),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function R6(e){const t={},n=g(e,["aspectRatio"]);n!=null&&v(t,["aspectRatio"],n);const r=g(e,["imageSize"]);r!=null&&v(t,["imageSize"],r);const i=g(e,["personGeneration"]);i!=null&&v(t,["personGeneration"],i);const o=g(e,["outputMimeType"]);o!=null&&v(t,["imageOutputOptions","mimeType"],o);const l=g(e,["outputCompressionQuality"]);return l!=null&&v(t,["imageOutputOptions","compressionQuality"],l),t}function k6(e){const t={},n=g(e,["bytesBase64Encoded"]);n!=null&&v(t,["imageBytes"],wa(n));const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Lk(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["imageBytes"],wa(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function ch(e){const t={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);n!=null&&v(t,["bytesBase64Encoded"],wa(n));const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function Dr(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["imageBytes"]);r!=null&&v(t,["bytesBase64Encoded"],wa(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function I6(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(t,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const l=g(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],Ik(e,u)),r}function P6(e,t,n){const r={},i=g(t,["pageSize"]);n!==void 0&&i!=null&&v(n,["_query","pageSize"],i);const o=g(t,["pageToken"]);n!==void 0&&o!=null&&v(n,["_query","pageToken"],o);const l=g(t,["filter"]);n!==void 0&&l!=null&&v(n,["_query","filter"],l);const u=g(t,["queryBase"]);return n!==void 0&&u!=null&&v(n,["_url","models_url"],Ik(e,u)),r}function M6(e,t){const n={},r=g(t,["config"]);return r!=null&&I6(e,r,n),n}function O6(e,t){const n={},r=g(t,["config"]);return r!=null&&P6(e,r,n),n}function D6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let o=Pk(i);Array.isArray(o)&&(o=o.map(l=>F0(l))),v(t,["models"],o)}return t}function U6(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["_self"]);if(i!=null){let o=Pk(i);Array.isArray(o)&&(o=o.map(l=>B0(l))),v(t,["models"],o)}return t}function j6(e){const t={},n=g(e,["maskMode"]);n!=null&&v(t,["maskMode"],n);const r=g(e,["segmentationClasses"]);r!=null&&v(t,["maskClasses"],r);const i=g(e,["maskDilation"]);return i!=null&&v(t,["dilation"],i),t}function F0(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);i!=null&&v(t,["description"],i);const o=g(e,["version"]);o!=null&&v(t,["version"],o);const l=g(e,["_self"]);l!=null&&v(t,["tunedModelInfo"],Z6(l));const u=g(e,["inputTokenLimit"]);u!=null&&v(t,["inputTokenLimit"],u);const d=g(e,["outputTokenLimit"]);d!=null&&v(t,["outputTokenLimit"],d);const f=g(e,["supportedGenerationMethods"]);f!=null&&v(t,["supportedActions"],f);const h=g(e,["temperature"]);h!=null&&v(t,["temperature"],h);const m=g(e,["maxTemperature"]);m!=null&&v(t,["maxTemperature"],m);const y=g(e,["topP"]);y!=null&&v(t,["topP"],y);const x=g(e,["topK"]);x!=null&&v(t,["topK"],x);const S=g(e,["thinking"]);return S!=null&&v(t,["thinking"],S),t}function B0(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["displayName"]);r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);i!=null&&v(t,["description"],i);const o=g(e,["versionId"]);o!=null&&v(t,["version"],o);const l=g(e,["deployedModels"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>W$(y))),v(t,["endpoints"],m)}const u=g(e,["labels"]);u!=null&&v(t,["labels"],u);const d=g(e,["_self"]);d!=null&&v(t,["tunedModelInfo"],eH(d));const f=g(e,["defaultCheckpointId"]);f!=null&&v(t,["defaultCheckpointId"],f);const h=g(e,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>y)),v(t,["checkpoints"],m)}return t}function L6(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],X$(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],Q$(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&v(t,["inlineData"],S$(d));const f=g(e,["text"]);f!=null&&v(t,["text"],f);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function F6(e){const t={},n=g(e,["productImage"]);return n!=null&&v(t,["image"],Dr(n)),t}function B6(e,t){const n={},r=g(e,["numberOfImages"]);t!==void 0&&r!=null&&v(t,["parameters","sampleCount"],r);const i=g(e,["baseSteps"]);t!==void 0&&i!=null&&v(t,["parameters","baseSteps"],i);const o=g(e,["outputGcsUri"]);t!==void 0&&o!=null&&v(t,["parameters","storageUri"],o);const l=g(e,["seed"]);t!==void 0&&l!=null&&v(t,["parameters","seed"],l);const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&v(t,["parameters","safetySetting"],u);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&v(t,["parameters","personGeneration"],d);const f=g(e,["addWatermark"]);t!==void 0&&f!=null&&v(t,["parameters","addWatermark"],f);const h=g(e,["outputMimeType"]);t!==void 0&&h!=null&&v(t,["parameters","outputOptions","mimeType"],h);const m=g(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&v(t,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["enhancePrompt"]);t!==void 0&&y!=null&&v(t,["parameters","enhancePrompt"],y);const x=g(e,["labels"]);return t!==void 0&&x!=null&&v(t,["labels"],x),n}function z6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["source"]);i!=null&&$6(i,n);const o=g(t,["config"]);return o!=null&&B6(o,n),n}function q6(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>uh(i))),v(t,["generatedImages"],r)}return t}function $6(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["personImage"]);t!==void 0&&i!=null&&v(t,["instances[0]","personImage","image"],Dr(i));const o=g(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>F6(u))),v(t,["instances[0]","productImages"],l)}return n}function H6(e){const t={},n=g(e,["referenceImage"]);n!=null&&v(t,["referenceImage"],Dr(n));const r=g(e,["referenceId"]);r!=null&&v(t,["referenceId"],r);const i=g(e,["referenceType"]);i!=null&&v(t,["referenceType"],i);const o=g(e,["maskImageConfig"]);o!=null&&v(t,["maskImageConfig"],j6(o));const l=g(e,["controlImageConfig"]);l!=null&&v(t,["controlImageConfig"],k$(l));const u=g(e,["styleImageConfig"]);u!=null&&v(t,["styleImageConfig"],u);const d=g(e,["subjectImageConfig"]);return d!=null&&v(t,["subjectImageConfig"],d),t}function Fk(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function Bk(e){const t={},n=g(e,["safetyAttributes","categories"]);n!=null&&v(t,["categories"],n);const r=g(e,["safetyAttributes","scores"]);r!=null&&v(t,["scores"],r);const i=g(e,["contentType"]);return i!=null&&v(t,["contentType"],i),t}function G6(e){const t={},n=g(e,["category"]);if(n!=null&&v(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&v(t,["threshold"],r),t}function V6(e){const t={},n=g(e,["image"]);return n!=null&&v(t,["image"],Dr(n)),t}function K6(e,t){const n={},r=g(e,["mode"]);t!==void 0&&r!=null&&v(t,["parameters","mode"],r);const i=g(e,["maxPredictions"]);t!==void 0&&i!=null&&v(t,["parameters","maxPredictions"],i);const o=g(e,["confidenceThreshold"]);t!==void 0&&o!=null&&v(t,["parameters","confidenceThreshold"],o);const l=g(e,["maskDilation"]);t!==void 0&&l!=null&&v(t,["parameters","maskDilation"],l);const u=g(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&v(t,["parameters","binaryColorThreshold"],u);const d=g(e,["labels"]);return t!==void 0&&d!=null&&v(t,["labels"],d),n}function Y6(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["source"]);i!=null&&W6(i,n);const o=g(t,["config"]);return o!=null&&K6(o,n),n}function J6(e){const t={},n=g(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>x6(i))),v(t,["generatedMasks"],r)}return t}function W6(e,t){const n={},r=g(e,["prompt"]);t!==void 0&&r!=null&&v(t,["instances[0]","prompt"],r);const i=g(e,["image"]);t!==void 0&&i!=null&&v(t,["instances[0]","image"],Dr(i));const o=g(e,["scribbleImage"]);return t!==void 0&&o!=null&&v(t,["instances[0]","scribble"],V6(o)),n}function X6(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&v(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&v(t,["functionCallingConfig"],Z$(r)),t}function Q6(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&v(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&v(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&v(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&v(t,["googleMaps"],T6(l));const u=g(e,["googleSearch"]);u!=null&&v(t,["googleSearch"],C6(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&v(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&v(t,["urlContext"],f),t}function zk(e){const t={},n=g(e,["retrieval"]);n!=null&&v(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&v(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&v(t,["codeExecution"],i);const o=g(e,["enterpriseWebSearch"]);o!=null&&v(t,["enterpriseWebSearch"],o);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>e6(y))),v(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&v(t,["googleMaps"],u);const d=g(e,["googleSearch"]);d!=null&&v(t,["googleSearch"],d);const f=g(e,["googleSearchRetrieval"]);f!=null&&v(t,["googleSearchRetrieval"],f);const h=g(e,["urlContext"]);return h!=null&&v(t,["urlContext"],h),t}function Z6(e){const t={},n=g(e,["baseModel"]);n!=null&&v(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function eH(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&v(t,["baseModel"],n);const r=g(e,["createTime"]);r!=null&&v(t,["createTime"],r);const i=g(e,["updateTime"]);return i!=null&&v(t,["updateTime"],i),t}function tH(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const o=g(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&v(t,["defaultCheckpointId"],o),n}function nH(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&v(t,["displayName"],r);const i=g(e,["description"]);t!==void 0&&i!=null&&v(t,["description"],i);const o=g(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&v(t,["defaultCheckpointId"],o),n}function rH(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","name"],$e(e,r));const i=g(t,["config"]);return i!=null&&tH(i,n),n}function iH(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["config"]);return i!=null&&nH(i,n),n}function aH(e,t){const n={},r=g(e,["outputGcsUri"]);t!==void 0&&r!=null&&v(t,["parameters","storageUri"],r);const i=g(e,["safetyFilterLevel"]);t!==void 0&&i!=null&&v(t,["parameters","safetySetting"],i);const o=g(e,["personGeneration"]);t!==void 0&&o!=null&&v(t,["parameters","personGeneration"],o);const l=g(e,["includeRaiReason"]);t!==void 0&&l!=null&&v(t,["parameters","includeRaiReason"],l);const u=g(e,["outputMimeType"]);t!==void 0&&u!=null&&v(t,["parameters","outputOptions","mimeType"],u);const d=g(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&v(t,["parameters","outputOptions","compressionQuality"],d);const f=g(e,["enhanceInputImage"]);t!==void 0&&f!=null&&v(t,["parameters","upscaleConfig","enhanceInputImage"],f);const h=g(e,["imagePreservationFactor"]);t!==void 0&&h!=null&&v(t,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const y=g(e,["numberOfImages"]);t!==void 0&&y!=null&&v(t,["parameters","sampleCount"],y);const x=g(e,["mode"]);return t!==void 0&&x!=null&&v(t,["parameters","mode"],x),n}function oH(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["_url","model"],$e(e,r));const i=g(t,["image"]);i!=null&&v(n,["instances[0]","image"],Dr(i));const o=g(t,["upscaleFactor"]);o!=null&&v(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=g(t,["config"]);return l!=null&&aH(l,n),n}function sH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>uh(o))),v(t,["generatedImages"],i)}return t}function lH(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&v(t,["videoBytes"],wa(r));const i=g(e,["encoding"]);return i!=null&&v(t,["mimeType"],i),t}function uH(e){const t={},n=g(e,["gcsUri"]);n!=null&&v(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&v(t,["videoBytes"],wa(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}function cH(e){const t={},n=g(e,["image"]);n!=null&&v(t,["_self"],Dr(n));const r=g(e,["maskMode"]);return r!=null&&v(t,["maskMode"],r),t}function dH(e){const t={},n=g(e,["image"]);n!=null&&v(t,["image"],ch(n));const r=g(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function fH(e){const t={},n=g(e,["image"]);n!=null&&v(t,["image"],Dr(n));const r=g(e,["referenceType"]);return r!=null&&v(t,["referenceType"],r),t}function qk(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["uri"],n);const r=g(e,["videoBytes"]);r!=null&&v(t,["encodedVideo"],wa(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["encoding"],i),t}function $k(e){const t={},n=g(e,["uri"]);n!=null&&v(t,["gcsUri"],n);const r=g(e,["videoBytes"]);r!=null&&v(t,["bytesBase64Encoded"],wa(r));const i=g(e,["mimeType"]);return i!=null&&v(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hH(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&v(t,["displayName"],r),n}function pH(e){const t={},n=g(e,["config"]);return n!=null&&hH(n,t),t}function mH(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function gH(e){const t={},n=g(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&mH(r,t),t}function vH(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function yH(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["customMetadata"],o)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&v(t,["chunkingConfig"],i),n}function bH(e){const t={},n=g(e,["name"]);n!=null&&v(t,["name"],n);const r=g(e,["metadata"]);r!=null&&v(t,["metadata"],r);const i=g(e,["done"]);i!=null&&v(t,["done"],i);const o=g(e,["error"]);o!=null&&v(t,["error"],o);const l=g(e,["response"]);return l!=null&&v(t,["response"],wH(l)),t}function xH(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&v(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&yH(i,t),t}function wH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&v(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&v(t,["documentName"],i),t}function _H(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function SH(e){const t={},n=g(e,["config"]);return n!=null&&_H(n,t),t}function EH(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["fileSearchStores"],o)}return t}function Hk(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&v(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&v(t,["displayName"],i);const o=g(e,["customMetadata"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>d)),v(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&v(t,["chunkingConfig"],l),n}function AH(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&v(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&Hk(r,t),t}function TH(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&v(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CH="Content-Type",NH="X-Server-Timeout",RH="User-Agent",z0="x-goog-api-client",kH="1.35.0",IH=`google-genai-sdk/${kH}`,PH="v1beta1",MH="v1beta";class OH{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:PH,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:MH,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&DH(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GA(i),new U0(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GA(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Rr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Ne(i.read());if(f){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=o.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),A=E.status,T=E.code,k=`got status: ${A}. ${JSON.stringify(S)}`;if(T>=400&&T<600)throw new sh({message:k,status:T})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let y=-1,x=0;for(;;){y=-1,x=0;for(const A of d){const T=l.indexOf(A);T!==-1&&(y===-1||T<y)&&(y=T,x=A.length)}if(y===-1)break;const S=l.substring(0,y);l=l.substring(y+x);const E=S.trim();if(E.startsWith(u)){const A=E.substring(u.length).trim();try{const T=new Response(A,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ne(new U0(T))}catch(T){throw new Error(`exception parsing stream chunk ${A}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=IH+" "+this.clientOptions.userAgentExtra;return t[RH]=n,t[z0]=n,t[CH]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(NH,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const d={file:i},f=this.getFileName(t),h=de("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,d,n==null?void 0:n.httpOptions);return o.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),u=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&Hk(r,m);const y=await this.fetchUploadUrl(f,u,d,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,y,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,o,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:t,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function GA(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new sh({message:i,status:n}):new Error(i)}}function DH(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const f=l[d],h=u[d];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?u[d]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),u[d]=f)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UH="mcp_used/unknown";let jH=!1;function Gk(e){for(const t of e)if(LH(t)||typeof t=="object"&&"inputSchema"in t)return!0;return jH}function Vk(e){var t;const n=(t=e[z0])!==null&&t!==void 0?t:"";e[z0]=(n+` ${UH}`).trimStart()}function LH(e){return e!==null&&typeof e=="object"&&e instanceof db}function FH(e){return Rr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Ne(n.listTools({cursor:i}));for(const u of l.tools)yield yield Ne(u),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class db{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new db(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,d=(n=void 0,kr(FH(h))),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const m=i;l.push(m);const y=m.name;if(o[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);o[y]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),vz(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function BH(e,t,n){const r=new uz;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class zH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=HH(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const h=new Promise(R=>{f=R}),m=t.callbacks,y=function(){f({})},x=this.apiClient,S={onopen:y,onmessage:R=>{BH(x,m.onmessage,R)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(R){}},E=this.webSocketFactory.create(d,$H(l),S);E.connect(),await h;const k={setup:{model:$e(this.apiClient,t.model)}};return E.send(JSON.stringify(k)),new qH(E,this.apiClient)}}class qH{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=p$(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=h$(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xs.PLAY)}pause(){this.sendPlaybackControl(xs.PAUSE)}stop(){this.sendPlaybackControl(xs.STOP)}resetContext(){this.sendPlaybackControl(xs.RESET_CONTEXT)}close(){this.conn.close()}}function $H(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function HH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function VH(e,t,n){const r=new lz;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=v$(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class KH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new zH(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Gk(t.config.tools)&&Vk(m);const y=XH(m);if(this.apiClient.isVertexAI())h=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y,h);else{const B=this.apiClient.getApiKey();let J="BidiGenerateContent",U="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),J="BidiGenerateContentConstrained",U="access_token"),h=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${J}?${U}=${B}`}let x=()=>{};const S=new Promise(B=>{x=B}),E=t.callbacks,A=function(){var B;(B=E==null?void 0:E.onopen)===null||B===void 0||B.call(E),x({})},T=this.apiClient,k={onopen:A,onmessage:B=>{VH(T,E.onmessage,B)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(B){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(B){}},R=this.webSocketFactory.create(h,WH(y),k);R.connect(),await S;let O=$e(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const B=this.apiClient.getProject(),J=this.apiClient.getLocation();O=`projects/${B}/locations/${J}/`+O}let P={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[af.AUDIO]}:t.config.responseModalities=[af.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const M=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],D=[];for(const B of M)if(this.isCallableTool(B)){const J=B;D.push(await J.tool())}else D.push(B);D.length>0&&(t.config.tools=D);const F={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?P=f$(this.apiClient,F):P=d$(this.apiClient,F),delete P.config,R.send(JSON.stringify(P)),new JH(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const YH={turnComplete:!0};class JH{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=pr(n.turns),t.isVertexAI()||(r=r.map(i=>lh(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(GH)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},YH),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:g$(t)}:n={realtimeInput:m$(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function WH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function XH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VA=10;function KA(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ts(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ts(e){return"callTool"in e&&typeof e.callTool=="function"}function QH(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ts(i)))!==null&&r!==void 0?r:!1}function YA(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(Ts(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function JA(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZH extends Pi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!QH(n)||KA(n.config))return await this.generateContentInternal(d);const f=YA(n);if(f.length>0){const E=f.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const y=pr(d.contents),x=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:VA;let S=0;for(;S<x&&(h=await this.generateContentInternal(d),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,A=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ts(T)){const R=await T.callTool(h.functionCalls);A.push(...R)}S++,m={role:"user",parts:A},d.contents=pr(d.contents),d.contents.push(E),d.contents.push(m),JA(d.config)&&(y.push(E),y.push(m))}return JA(d.config)&&(h.automaticFunctionCallingHistory=y),h},this.generateContentStream=async n=>{var r,i,o,l,u;if(this.maybeMoveToResponseJsonSchem(n),KA(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=YA(n);if(d.length>0){const m=d.map(y=>`tools[${y}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new mo(wi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(u=n.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async d=>Ts(d)?await d.tool():d)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&Gk(t.config.tools)){const d=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Vk(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ts(l)){const u=l,d=await u.tool();for(const f of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:VA;let l=!1,u=0;const d=await this.initAfcToolsMap(t);return(function(f,h,m){return Rr(this,arguments,function*(){for(var y,x,S,E,A,T;u<o;){l&&(u++,l=!1);const P=yield Ne(f.processParamsMaybeAddMcpUsage(m)),M=yield Ne(f.generateContentStreamInternal(P)),D=[],F=[];try{for(var k=!0,R=(x=void 0,kr(M)),O;O=yield Ne(R.next()),y=O.done,!y;k=!0){E=O.value,k=!1;const B=E;if(yield yield Ne(B),B.candidates&&(!((A=B.candidates[0])===null||A===void 0)&&A.content)){F.push(B.candidates[0].content);for(const J of(T=B.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(u<o&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(J.functionCall.name)){const U=yield Ne(h.get(J.functionCall.name).callTool([J.functionCall]));D.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(B){x={error:B}}finally{try{!k&&!y&&(S=R.return)&&(yield Ne(S.call(R)))}finally{if(x)throw x.error}}if(D.length>0){l=!0;const B=new Yl;B.candidates=[{content:{role:"user",parts:D}}],yield yield Ne(B);const J=[];J.push(...F),J.push({role:"user",parts:D});const U=pr(m.contents).concat(J);m.contents=U}else break}})})(this,d,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qA(this.apiClient,t);return u=de("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=HA(h),y=new Yl;return Object.assign(y,m),y})}else{const f=zA(this.apiClient,t);return u=de("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=$A(h),y=new Yl;return Object.assign(y,m),y})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=qA(this.apiClient,t);return u=de("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Rr(this,arguments,function*(){var y,x,S,E;try{for(var A=!0,T=kr(m),k;k=yield Ne(T.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const R=E,O=HA(yield Ne(R.json()));O.sdkHttpResponse={headers:R.headers};const P=new Yl;Object.assign(P,O),yield yield Ne(P)}}catch(R){x={error:R}}finally{try{!A&&!y&&(S=T.return)&&(yield Ne(S.call(T)))}finally{if(x)throw x.error}}})})}else{const f=zA(this.apiClient,t);return u=de("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(m){return Rr(this,arguments,function*(){var y,x,S,E;try{for(var A=!0,T=kr(m),k;k=yield Ne(T.next()),y=k.done,!y;A=!0){E=k.value,A=!1;const R=E,O=$A(yield Ne(R.json()));O.sdkHttpResponse={headers:R.headers};const P=new Yl;Object.assign(P,O),yield yield Ne(P)}}catch(R){x={error:R}}finally{try{!A&&!y&&(S=T.return)&&(yield Ne(S.call(T)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=K$(this.apiClient,t);return u=de("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=J$(h),y=new EA;return Object.assign(y,m),y})}else{const f=V$(this.apiClient,t);return u=de("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=Y$(h),y=new EA;return Object.assign(y,m),y})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=o6(this.apiClient,t);return u=de("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=l6(h),y=new AA;return Object.assign(y,m),y})}else{const f=a6(this.apiClient,t);return u=de("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=s6(h),y=new AA;return Object.assign(y,m),y})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=q$(this.apiClient,t);return o=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=$$(d),h=new XB;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=oH(this.apiClient,t);return o=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=sH(d),h=new QB;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=z6(this.apiClient,t);return o=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=q6(d),h=new ZB;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=Y6(this.apiClient,t);return o=de("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=J6(d),h=new ez;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=A6(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>B0(h))}else{const f=E6(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>F0(h))}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=O6(this.apiClient,t);return u=de("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=U6(h),y=new TA;return Object.assign(y,m),y})}else{const f=M6(this.apiClient,t);return u=de("{models_url}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=D6(h),y=new TA;return Object.assign(y,m),y})}}async update(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=iH(this.apiClient,t);return u=de("{model}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>B0(h))}else{const f=rH(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>F0(h))}}async delete(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=L$(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=B$(h),y=new CA;return Object.assign(y,m),y})}else{const f=j$(this.apiClient,t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=F$(h),y=new CA;return Object.assign(y,m),y})}}async countTokens(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=O$(this.apiClient,t);return u=de("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=U$(h),y=new NA;return Object.assign(y,m),y})}else{const f=M$(this.apiClient,t);return u=de("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=D$(h),y=new NA;return Object.assign(y,m),y})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=T$(this.apiClient,t);return o=de("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>{const f=C$(d),h=new tz;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=p6(this.apiClient,t);return u=de("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=f6(h),y=new of;return Object.assign(y,m),y})}else{const f=h6(this.apiClient,t);return u=de("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const m=d6(h),y=new of;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eG extends Pi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=GB(t);return u=de("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const f=HB(t);return u=de("{operationName}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=jB(t);return o=de("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tG(e){const t={},n=g(e,["data"]);if(n!=null&&v(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function nG(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dG(o))),v(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&v(t,["role"],r),t}function rG(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&v(n,["expireTime"],i);const o=g(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&v(n,["newSessionExpireTime"],o);const l=g(t,["uses"]);n!==void 0&&l!=null&&v(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&v(n,["bidiGenerateContentSetup"],cG(e,u));const d=g(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&v(n,["fieldMask"],d),r}function iG(e,t){const n={},r=g(t,["config"]);return r!=null&&v(n,["config"],rG(e,r,n)),n}function aG(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&v(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&v(t,["mimeType"],r),t}function oG(e){const t={},n=g(e,["id"]);n!=null&&v(t,["id"],n);const r=g(e,["args"]);r!=null&&v(t,["args"],r);const i=g(e,["name"]);if(i!=null&&v(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sG(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&v(t,["enableWidget"],n),t}function lG(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&v(t,["timeRangeFilter"],n),t}function uG(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&v(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&v(t,["setup","generationConfig","responseModalities"],i);const o=g(e,["temperature"]);t!==void 0&&o!=null&&v(t,["setup","generationConfig","temperature"],o);const l=g(e,["topP"]);t!==void 0&&l!=null&&v(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&v(t,["setup","generationConfig","topK"],u);const d=g(e,["maxOutputTokens"]);t!==void 0&&d!=null&&v(t,["setup","generationConfig","maxOutputTokens"],d);const f=g(e,["mediaResolution"]);t!==void 0&&f!=null&&v(t,["setup","generationConfig","mediaResolution"],f);const h=g(e,["seed"]);t!==void 0&&h!=null&&v(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&v(t,["setup","generationConfig","speechConfig"],cb(m));const y=g(e,["thinkingConfig"]);t!==void 0&&y!=null&&v(t,["setup","generationConfig","thinkingConfig"],y);const x=g(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&v(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&v(t,["setup","systemInstruction"],nG(fn(S)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let M=$s(E);Array.isArray(M)&&(M=M.map(D=>hG(qs(D)))),v(t,["setup","tools"],M)}const A=g(e,["sessionResumption"]);t!==void 0&&A!=null&&v(t,["setup","sessionResumption"],fG(A));const T=g(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&v(t,["setup","inputAudioTranscription"],T);const k=g(e,["outputAudioTranscription"]);t!==void 0&&k!=null&&v(t,["setup","outputAudioTranscription"],k);const R=g(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&v(t,["setup","realtimeInputConfig"],R);const O=g(e,["contextWindowCompression"]);t!==void 0&&O!=null&&v(t,["setup","contextWindowCompression"],O);const P=g(e,["proactivity"]);if(t!==void 0&&P!=null&&v(t,["setup","proactivity"],P),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cG(e,t){const n={},r=g(t,["model"]);r!=null&&v(n,["setup","model"],$e(e,r));const i=g(t,["config"]);return i!=null&&v(n,["config"],uG(i,n)),n}function dG(e){const t={},n=g(e,["mediaResolution"]);n!=null&&v(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&v(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&v(t,["executableCode"],i);const o=g(e,["fileData"]);o!=null&&v(t,["fileData"],aG(o));const l=g(e,["functionCall"]);l!=null&&v(t,["functionCall"],oG(l));const u=g(e,["functionResponse"]);u!=null&&v(t,["functionResponse"],u);const d=g(e,["inlineData"]);d!=null&&v(t,["inlineData"],tG(d));const f=g(e,["text"]);f!=null&&v(t,["text"],f);const h=g(e,["thought"]);h!=null&&v(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&v(t,["thoughtSignature"],m);const y=g(e,["videoMetadata"]);return y!=null&&v(t,["videoMetadata"],y),t}function fG(e){const t={},n=g(e,["handle"]);if(n!=null&&v(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hG(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&v(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&v(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&v(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=g(e,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(m=>m)),v(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&v(t,["googleMaps"],sG(l));const u=g(e,["googleSearch"]);u!=null&&v(t,["googleSearch"],lG(u));const d=g(e,["googleSearchRetrieval"]);d!=null&&v(t,["googleSearchRetrieval"],d);const f=g(e,["urlContext"]);return f!=null&&v(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pG(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function mG(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=pG(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class gG extends Pi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=iG(this.apiClient,t);o=de("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=mG(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vG(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&v(t,["_query","force"],r),n}function yG(e){const t={},n=g(e,["name"]);n!=null&&v(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&vG(r,t),t}function bG(e){const t={},n=g(e,["name"]);return n!=null&&v(t,["_url","name"],n),t}function xG(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&v(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&v(t,["_query","pageToken"],i),n}function wG(e){const t={},n=g(e,["parent"]);n!=null&&v(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&xG(r,t),t}function _G(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&v(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&v(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),v(t,["documents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SG extends Pi{constructor(t){super(),this.apiClient=t,this.list=async n=>new mo(wi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bG(t);return o=de("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yG(t);i=de("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wG(t);return o=de("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=_G(d),h=new nz;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EG extends Pi{constructor(t,n=new SG(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new mo(wi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pH(t);return o=de("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vH(t);return o=de("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(t){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gH(t);i=de("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SH(t);return o=de("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=EH(d),h=new rz;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AH(t);return o=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=TH(d),h=new iz;return Object.assign(h,f),h})}}async importFile(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xH(t);return o=de("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const f=bH(d),h=new ab;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kk=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Kk=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const AG=()=>Kk();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q0(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const $0=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mr extends Error{}class xn extends mr{constructor(t,n,r,i){super(`${xn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new dh({message:r,cause:$0(n)});const o=n;return t===400?new Jk(t,o,r,i):t===401?new Wk(t,o,r,i):t===403?new Xk(t,o,r,i):t===404?new Qk(t,o,r,i):t===409?new Zk(t,o,r,i):t===422?new eI(t,o,r,i):t===429?new tI(t,o,r,i):t>=500?new nI(t,o,r,i):new xn(t,o,r,i)}}class H0 extends xn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class dh extends xn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Yk extends dh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Jk extends xn{}class Wk extends xn{}class Xk extends xn{}class Qk extends xn{}class Zk extends xn{}class eI extends xn{}class tI extends xn{}class nI extends xn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TG=/^[a-z][a-z0-9+.-]*:/i,CG=e=>TG.test(e);let G0=e=>(G0=Array.isArray,G0(e));const NG=G0;let RG=NG;const WA=RG;function kG(e){if(!e)return!0;for(const t in e)return!1;return!0}function IG(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const PG=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new mr(`${e} must be an integer`);if(t<0)throw new mr(`${e} must be a positive integer`);return t},MG=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OG=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vs="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DG(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const UG=()=>{var e,t,n,r,i;const o=DG();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":QA(Deno.build.os),"X-Stainless-Arch":XA(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":QA((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":XA((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=jG();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jG(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${o}.${l}`}}}return null}const XA=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",QA=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Sd;const LG=()=>Sd??(Sd=UG());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FG(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function rI(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function BG(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return rI({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function iI(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zG(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qG=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aI=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pg(e,t,n){return aI(),new File(e,t??"unknown_file",n)}function $G(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const HG=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oI=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",GG=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&oI(e),VG=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function KG(e,t,n){if(aI(),e=await e,GG(e))return e instanceof File?e:Pg([await e.arrayBuffer()],e.name);if(VG(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Pg(await V0(i),t,n)}const r=await V0(e);if(t||(t=$G(e)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Pg(r,t,n)}async function V0(e){var t,n,r,i,o;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(oI(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(HG(e))try{for(var u=!0,d=kr(e),f;f=await d.next(),t=f.done,!t;u=!0){i=f.value,u=!1;const h=i;l.push(...await V0(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}else{const h=(o=e==null?void 0:e.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${YG(e)}`)}return l}function YG(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sI{constructor(t){this._client=t}}sI._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lI(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ZA=Object.freeze(Object.create(null)),JG=(e=lI)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],l=n.reduce((h,m,y)=>{var x,S,E;/[?#]/.test(m)&&(i=!0);const A=r[y];let T=(i?encodeURIComponent:e)(""+A);return y!==r.length&&(A==null||typeof A=="object"&&A.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((x=A.hasOwnProperty)!==null&&x!==void 0?x:ZA))!==null&&S!==void 0?S:ZA))===null||E===void 0?void 0:E.toString))&&(T=A+"",o.push({start:h.length+m.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),h+m+(y===r.length?"":T)},""),u=l.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(u))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,m)=>h.start-m.start),o.length>0){let h=0;const m=o.reduce((y,x)=>{const S=" ".repeat(x.start-h),E="^".repeat(x.length);return h=x.start+x.length,y+S+E},"");throw new mr(`Path parameters result in path with invalid segments:
${o.map(y=>y.error).join(`
`)}
${l}
${m}`)}return l}),Ed=JG(lI);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uI extends sI{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,o=lf(t,["api_version"]);if("model"in o&&"agent_config"in o)throw new mr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new mr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ed`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Ed`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Ed`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const o=n??{},{api_version:l=this._client.apiVersion}=o,u=lf(o,["api_version"]);return this._client.get(Ed`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}uI._key=Object.freeze(["interactions"]);class cI extends uI{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WG(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let Ad;function fb(e){let t;return(Ad??(t=new globalThis.TextEncoder,Ad=t.encode.bind(t)))(e)}let Td;function eT(e){let t;return(Td??(t=new globalThis.TextDecoder,Td=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?fb(t):t;this.buffer=WG([this.buffer,n]);const r=[];let i;for(;(i=XG(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(eT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=eT(this.buffer.subarray(0,o));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}fh.NEWLINE_CHARS=new Set([`
`,"\r"]);fh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function XG(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function QG(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uf={off:0,error:200,warn:300,info:400,debug:500},tT=(e,t,n)=>{if(e){if(IG(uf,e))return e;pn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(uf))}`)}};function au(){}function Cd(e,t,n){return!t||uf[e]>uf[n]?au:t[e].bind(t)}const ZG={error:au,warn:au,info:au,debug:au};let nT=new WeakMap;function pn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return ZG;const i=nT.get(n);if(i&&i[0]===r)return i[1];const o={error:Cd("error",n,r),warn:Cd("warn",n,r),info:Cd("info",n,r),debug:Cd("debug",n,r)};return nT.set(n,[r,o]),o}const Ga=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ws{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const o=r?pn(r):console;function l(){return Rr(this,arguments,function*(){var d,f,h,m;if(i)throw new mr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var x=!0,S=kr(e8(t,n)),E;E=yield Ne(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const A=m;if(!y)if(A.data.startsWith("[DONE]")){y=!0;continue}else try{yield yield Ne(JSON.parse(A.data))}catch(T){throw o.error("Could not parse message into JSON:",A.data),o.error("From chunk:",A.raw),T}}}catch(A){f={error:A}}finally{try{!x&&!d&&(h=S.return)&&(yield Ne(h.call(S)))}finally{if(f)throw f.error}}y=!0}catch(A){if(q0(A))return yield Ne(void 0);throw A}finally{y||n.abort()}})}return new ws(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function o(){return Rr(this,arguments,function*(){var d,f,h,m;const y=new fh,x=iI(t);try{for(var S=!0,E=kr(x),A;A=yield Ne(E.next()),d=A.done,!d;S=!0){m=A.value,S=!1;const T=m;for(const k of y.decode(T))yield yield Ne(k)}}catch(T){f={error:T}}finally{try{!S&&!d&&(h=E.return)&&(yield Ne(h.call(E)))}finally{if(f)throw f.error}}for(const T of y.flush())yield yield Ne(T)})}function l(){return Rr(this,arguments,function*(){var d,f,h,m;if(i)throw new mr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let y=!1;try{try{for(var x=!0,S=kr(o()),E;E=yield Ne(S.next()),d=E.done,!d;x=!0){m=E.value,x=!1;const A=m;y||A&&(yield yield Ne(JSON.parse(A)))}}catch(A){f={error:A}}finally{try{!x&&!d&&(h=S.return)&&(yield Ne(h.call(S)))}finally{if(f)throw f.error}}y=!0}catch(A){if(q0(A))return yield Ne(void 0);throw A}finally{y||n.abort()}})}return new ws(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const l=r.next();t.push(l),n.push(l)}return o.shift()}});return[new ws(()=>i(t),this.controller,this.client),new ws(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return rI({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const l=fb(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function e8(e,t){return Rr(this,arguments,function*(){var r,i,o,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mr("Attempted to iterate over a response with no body");const u=new n8,d=new fh,f=iI(e.body);try{for(var h=!0,m=kr(t8(f)),y;y=yield Ne(m.next()),r=y.done,!r;h=!0){l=y.value,h=!1;const x=l;for(const S of d.decode(x)){const E=u.decode(S);E&&(yield yield Ne(E))}}}catch(x){i={error:x}}finally{try{!h&&!r&&(o=m.return)&&(yield Ne(o.call(m)))}finally{if(i)throw i.error}}for(const x of d.flush()){const S=u.decode(x);S&&(yield yield Ne(S))}})}function t8(e){return Rr(this,arguments,function*(){var n,r,i,o;let l=new Uint8Array;try{for(var u=!0,d=kr(e),f;f=yield Ne(d.next()),n=f.done,!n;u=!0){o=f.value,u=!1;const h=o;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?fb(h):h;let y=new Uint8Array(l.length+m.length);y.set(l),y.set(m,l.length),l=y;let x;for(;(x=QG(l))!==-1;)yield yield Ne(l.slice(0,x)),l=l.slice(x)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=d.return)&&(yield Ne(i.call(d)))}finally{if(r)throw r.error}}l.length>0&&(yield yield Ne(l))})}class n8{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=r8(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function r8(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function i8(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,l=await(async()=>{var u;if(t.options.stream)return pn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ws.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(u=d==null?void 0:d.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return pn(e).debug(`[${r}] response parsed`,Ga({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-o})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hb extends Promise{constructor(t,n,r=i8){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new hb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dI=Symbol("brand.privateNullableHeaders");function*a8(e){if(!e)return;if(dI in e){const{values:r,nulls:i}=e;yield*r.entries();for(const o of i)yield[o,null];return}let t=!1,n;e instanceof Headers?n=e.entries():WA(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=WA(r[1])?r[1]:[r[1]];let l=!1;for(const u of o)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Jl=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[o,l]of a8(r)){const u=o.toLowerCase();i.has(u)||(t.delete(o),i.add(u)),l===null?(t.delete(o),n.add(u)):(t.append(o,l),n.delete(u))}}return{[dI]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mg=e=>{var t,n,r,i,o,l;if(typeof globalThis.process<"u")return(r=(n=(t=IB)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fI;class hh{constructor(t){var n,r,i,o,l,u,d,{baseURL:f=Mg("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Mg("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,y=lf(t,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:h,apiVersion:m},y),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:hh.DEFAULT_TIMEOUT,this.logger=(i=x.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(o=tT(x.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:tT(Mg("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=x.fetchOptions,this.maxRetries=(u=x.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(d=x.fetch)!==null&&d!==void 0?d:FG(),this.encoder=qG,this._options=x,this.apiKey=h,this.apiVersion=m,this.clientAdapter=x.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Jl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Jl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Jl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new mr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${vs}`}defaultIdempotencyKey(){return`stainless-node-retry-${AG()}`}makeStatusError(t,n,r,i){return xn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=CG(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return kG(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new hb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,o,l;const u=await t,d=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=d),await this.prepareOptions(u);const{req:f,url:h,timeout:m}=await this.buildRequest(u,{retryCount:d-n});await this.prepareRequest(f,{url:h,options:u});const y="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(pn(this).debug(`[${y}] sending request`,Ga({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:f.headers})),!((o=u.signal)===null||o===void 0)&&o.aborted)throw new H0;const E=new AbortController,A=await this.fetchWithTimeout(h,f,m,E).catch($0),T=Date.now();if(A instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new H0;const O=q0(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(n)return pn(this).info(`[${y}] connection ${O?"timed out":"failed"} - ${R}`),pn(this).debug(`[${y}] connection ${O?"timed out":"failed"} (${R})`,Ga({retryOfRequestLogID:r,url:h,durationMs:T-S,message:A.message})),this.retryRequest(u,n,r??y);throw pn(this).info(`[${y}] connection ${O?"timed out":"failed"} - error; no more retries left`),pn(this).debug(`[${y}] connection ${O?"timed out":"failed"} (error; no more retries left)`,Ga({retryOfRequestLogID:r,url:h,durationMs:T-S,message:A.message})),O?new Yk:new dh({cause:A})}const k=`[${y}${x}] ${f.method} ${h} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${T-S}ms`;if(!A.ok){const R=await this.shouldRetry(A);if(n&&R){const B=`retrying, ${n} attempts remaining`;return await zG(A.body),pn(this).info(`${k} - ${B}`),pn(this).debug(`[${y}] response error (${B})`,Ga({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:T-S})),this.retryRequest(u,n,r??y,A.headers)}const O=R?"error; no more retries left":"error; not retryable";pn(this).info(`${k} - ${O}`);const P=await A.text().catch(B=>$0(B).message),M=MG(P),D=M?void 0:P;throw pn(this).debug(`[${y}] response error (${O})`,Ga({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,message:D,durationMs:Date.now()-S})),this.makeStatusError(A.status,M,D,A.headers)}return pn(this).info(k),pn(this).debug(`[${y}] response start`,Ga({retryOfRequestLogID:r,url:A.url,status:A.status,headers:A.headers,durationMs:T-S})),{response:A,options:u,controller:E,requestLogID:y,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const o=n||{},{signal:l,method:u}=o,d=lf(o,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const f=setTimeout(()=>i.abort(),r),h=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,m=Object.assign(Object.assign(Object.assign({signal:i.signal},h?{duplex:"half"}:{}),{method:"GET"}),d);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var o;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(l=f)}const d=i==null?void 0:i.get("retry-after");if(d&&!l){const f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){const f=(o=t.maxRetries)!==null&&o!==void 0?o:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,f)}return await OG(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const o=n-t,l=Math.min(.5*Math.pow(2,o),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,o;const l=Object.assign({},t),{method:u,path:d,query:f,defaultBaseURL:h}=l,m=this.buildURL(d,f,h);"timeout"in l&&PG("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:y,body:x}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:y,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=l.fetchOptions)!==null&&o!==void 0?o:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=Jl([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),LG()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Jl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BG(t)}:this.encoder({body:t,headers:r})}}hh.DEFAULT_TIMEOUT=6e4;class Ht extends hh{constructor(){super(...arguments),this.interactions=new cI(this)}}fI=Ht;Ht.GeminiNextGenAPIClient=fI;Ht.GeminiNextGenAPIClientError=mr;Ht.APIError=xn;Ht.APIConnectionError=dh;Ht.APIConnectionTimeoutError=Yk;Ht.APIUserAbortError=H0;Ht.NotFoundError=Qk;Ht.ConflictError=Zk;Ht.RateLimitError=tI;Ht.BadRequestError=Jk;Ht.AuthenticationError=Wk;Ht.InternalServerError=nI;Ht.PermissionDeniedError=Xk;Ht.UnprocessableEntityError=eI;Ht.toFile=KG;Ht.Interactions=cI;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function o8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function s8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function l8(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function u8(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&v(n,["sdkHttpResponse"],r),n}function c8(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&v(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(e,["epochCount"]);t!==void 0&&o!=null&&v(t,["tuningTask","hyperparameters","epochCount"],o);const l=g(e,["learningRateMultiplier"]);if(l!=null&&v(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&v(t,["tuningTask","hyperparameters","batchSize"],u);const d=g(e,["learningRate"]);if(t!==void 0&&d!=null&&v(t,["tuningTask","hyperparameters","learningRate"],d),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function d8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=g(e,["validationDataset"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec"],rT(x))}else if(i==="PREFERENCE_TUNING"){const x=g(e,["validationDataset"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec"],rT(x))}const o=g(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&v(t,["tunedModelDisplayName"],o);const l=g(e,["description"]);t!==void 0&&l!=null&&v(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=g(e,["epochCount"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(u==="PREFERENCE_TUNING"){const x=g(e,["epochCount"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=g(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(d==="PREFERENCE_TUNING"){const x=g(e,["learningRateMultiplier"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const x=g(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(f==="PREFERENCE_TUNING"){const x=g(e,["exportLastCheckpointOnly"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=g(e,["adapterSize"]);t!==void 0&&x!=null&&v(t,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(h==="PREFERENCE_TUNING"){const x=g(e,["adapterSize"]);t!==void 0&&x!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(g(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(e,["labels"]);t!==void 0&&m!=null&&v(t,["labels"],m);const y=g(e,["beta"]);return t!==void 0&&y!=null&&v(t,["preferenceOptimizationSpec","hyperParameters","beta"],y),r}function f8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(e,["trainingDataset"]);o!=null&&S8(o);const l=g(e,["config"]);return l!=null&&c8(l,n),n}function h8(e,t){const n={},r=g(e,["baseModel"]);r!=null&&v(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&v(n,["preTunedModel"],i);const o=g(e,["trainingDataset"]);o!=null&&E8(o,n,t);const l=g(e,["config"]);return l!=null&&d8(l,n,t),n}function p8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function m8(e,t){const n={},r=g(e,["name"]);return r!=null&&v(n,["_url","name"],r),n}function g8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const o=g(e,["pageToken"]);t!==void 0&&o!=null&&v(t,["_query","pageToken"],o);const l=g(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function v8(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&v(t,["_query","pageSize"],i);const o=g(e,["pageToken"]);t!==void 0&&o!=null&&v(t,["_query","pageToken"],o);const l=g(e,["filter"]);return t!==void 0&&l!=null&&v(t,["_query","filter"],l),r}function y8(e,t){const n={},r=g(e,["config"]);return r!=null&&g8(r,n),n}function b8(e,t){const n={},r=g(e,["config"]);return r!=null&&v8(r,n),n}function x8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>hI(u))),v(n,["tuningJobs"],l)}return n}function w8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&v(n,["nextPageToken"],i);const o=g(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>K0(u))),v(n,["tuningJobs"],l)}return n}function _8(e,t){const n={},r=g(e,["name"]);r!=null&&v(n,["model"],r);const i=g(e,["name"]);return i!=null&&v(n,["endpoint"],i),n}function S8(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),v(n,["examples","examples"],i)}return n}function E8(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&v(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function hI(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const o=g(e,["state"]);o!=null&&v(n,["state"],Rk(o));const l=g(e,["createTime"]);l!=null&&v(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&v(n,["startTime"],u);const d=g(e,["tuningTask","completeTime"]);d!=null&&v(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=g(e,["description"]);h!=null&&v(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&v(n,["baseModel"],m);const y=g(e,["_self"]);return y!=null&&v(n,["tunedModel"],_8(y)),n}function K0(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const o=g(e,["state"]);o!=null&&v(n,["state"],Rk(o));const l=g(e,["createTime"]);l!=null&&v(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&v(n,["startTime"],u);const d=g(e,["endTime"]);d!=null&&v(n,["endTime"],d);const f=g(e,["updateTime"]);f!=null&&v(n,["updateTime"],f);const h=g(e,["error"]);h!=null&&v(n,["error"],h);const m=g(e,["description"]);m!=null&&v(n,["description"],m);const y=g(e,["baseModel"]);y!=null&&v(n,["baseModel"],y);const x=g(e,["tunedModel"]);x!=null&&v(n,["tunedModel"],x);const S=g(e,["preTunedModel"]);S!=null&&v(n,["preTunedModel"],S);const E=g(e,["supervisedTuningSpec"]);E!=null&&v(n,["supervisedTuningSpec"],E);const A=g(e,["preferenceOptimizationSpec"]);A!=null&&v(n,["preferenceOptimizationSpec"],A);const T=g(e,["tuningDataStats"]);T!=null&&v(n,["tuningDataStats"],T);const k=g(e,["encryptionSpec"]);k!=null&&v(n,["encryptionSpec"],k);const R=g(e,["partnerModelTuningSpec"]);R!=null&&v(n,["partnerModelTuningSpec"],R);const O=g(e,["customBaseModel"]);O!=null&&v(n,["customBaseModel"],O);const P=g(e,["experiment"]);P!=null&&v(n,["experiment"],P);const M=g(e,["labels"]);M!=null&&v(n,["labels"],M);const D=g(e,["outputUri"]);D!=null&&v(n,["outputUri"],D);const F=g(e,["pipelineJob"]);F!=null&&v(n,["pipelineJob"],F);const B=g(e,["serviceAccount"]);B!=null&&v(n,["serviceAccount"],B);const J=g(e,["tunedModelDisplayName"]);J!=null&&v(n,["tunedModelDisplayName"],J);const U=g(e,["veoTuningSpec"]);return U!=null&&v(n,["veoTuningSpec"],U),n}function A8(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&v(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&v(n,["name"],i);const o=g(e,["metadata"]);o!=null&&v(n,["metadata"],o);const l=g(e,["done"]);l!=null&&v(n,["done"],l);const u=g(e,["error"]);return u!=null&&v(n,["error"],u),n}function rT(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&v(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&v(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class T8 extends Pi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new mo(wi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:D0.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=m8(t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>K0(h))}else{const f=p8(t);return u=de("{name}",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>hI(h))}}async listInternal(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=b8(t);return u=de("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=w8(h),y=new RA;return Object.assign(y,m),y})}else{const f=y8(t);return u=de("tunedModels",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=x8(h),y=new RA;return Object.assign(y,m),y})}}async cancel(t){var n,r,i,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=s8(t);return u=de("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=u8(h),y=new kA;return Object.assign(y,m),y})}else{const f=o8(t);return u=de("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:h.headers},y})),l.then(h=>{const m=l8(h),y=new kA;return Object.assign(y,m),y})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=h8(t,t);return o=de("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>K0(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=f8(t);return o=de("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),i.then(d=>A8(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C8{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const N8=1024*1024*8,R8=3,k8=1e3,I8=2,cf="x-goog-upload-status";async function P8(e,t,n){var r;const i=await pI(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[cf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function M8(e,t,n){var r;const i=await pI(e,t,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[cf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Sk(o),u=new ob;return Object.assign(u,l),u}async function pI(e,t,n){var r,i;let o=0,l=0,u=new U0(new Response),d="upload";for(o=e.size;l<o;){const f=Math.min(N8,o-l),h=e.slice(l,l+f);l+f>=o&&(d+=", finalize");let m=0,y=k8;for(;m<R8&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(f)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[cf]));)m++,await D8(y),y=y*I8;if(l+=f,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[cf])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function O8(e){return{size:e.size,type:e.type}}function D8(e){return new Promise(t=>setTimeout(t,e))}class U8{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await P8(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await M8(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await O8(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j8{create(t,n,r){return new L8(t,n,r)}}class L8{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iT="x-goog-api-key";class F8{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(iT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(iT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B8="gl-node/";class mI{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ht({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=DB(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new F8(this.apiKey);this.apiClient=new OH({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:B8+"web",uploader:new U8,downloader:new C8}),this.models=new ZH(this.apiClient),this.live=new KH(this.apiClient,i,new j8),this.batches=new cq(this.apiClient),this.chats=new Gq(this.models,this.apiClient),this.caches=new qq(this.apiClient),this.files=new t$(this.apiClient),this.operations=new eG(this.apiClient),this.authTokens=new gG(this.apiClient),this.tunings=new T8(this.apiClient),this.fileSearchStores=new EG(this.apiClient)}}const z8=({onSearchClick:e,onSellClick:t,onCartClick:n,onLogoClick:r,onLoginClick:i,user:o})=>{const{getItemCount:l}=Ky(),u=l(),[d,f]=C.useState(""),[h,m]=C.useState(!1),[y,x]=C.useState([]),[S,E]=C.useState(!1),A=C.useRef(null),[T,k]=C.useState(()=>{const P=localStorage.getItem("apm_search_history");return P?JSON.parse(P):["Gerador 5kva","Iphone 15 Pro","Cerveja Cuca"]});C.useEffect(()=>{const P=M=>{A.current&&!A.current.contains(M.target)&&m(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),C.useEffect(()=>{const M=setTimeout(async()=>{if(h){E(!0);try{const D=new mI({apiKey:"PLACEHOLDER_API_KEY"}),F=d.trim()?`Sugira 5 termos de autocompletar para a busca "${d}" em um marketplace em Angola. Retorne apenas JSON.`:"Sugira 5 termos de busca que so tendncia atual em Angola (tecnologia, energia, moda). Retorne apenas JSON.",B=await D.models.generateContent({model:"gemini-3-flash-preview",contents:F,config:{responseMimeType:"application/json",responseSchema:{type:ut.OBJECT,properties:{items:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{text:{type:ut.STRING},type:{type:ut.STRING,enum:["trend","smart"]}},required:["text","type"]}}},required:["items"]}}}),U=JSON.parse(B.text||'{"items": []}').items,G=T.filter(Z=>Z.toLowerCase().includes(d.toLowerCase())).slice(0,3).map(Z=>({text:Z,type:"history"}));x([...G,...U])}catch(D){console.error("Autocomplete error:",D);const F=T.filter(B=>B.toLowerCase().includes(d.toLowerCase())).slice(0,3).map(B=>({text:B,type:"history"}));x(F)}finally{E(!1)}}},400);return()=>clearTimeout(M)},[d,h,T]);const R=P=>{if(f(P),m(!1),e(P),!T.includes(P)){const M=[P,...T].slice(0,10);k(M),localStorage.setItem("apm_search_history",JSON.stringify(M))}},O=P=>{P.key==="Enter"&&R(d)};return w.jsxs("header",{className:"fixed top-0 left-0 right-0 h-20 bg-[#0B0B0B] border-b border-white/10 z-50 flex items-center px-4 md:px-8 gap-4 md:gap-10 justify-between backdrop-blur-md bg-opacity-95",children:[w.jsxs("div",{className:"shrink-0 flex items-center",children:[w.jsx(rf,{variant:"horizontal",size:"lg",onClick:r,className:"hidden sm:flex"}),w.jsx(rf,{variant:"square",size:"md",onClick:r,className:"flex sm:hidden"})]}),w.jsxs("div",{className:"flex-grow flex items-center justify-center relative",ref:A,children:[w.jsxs("div",{className:`w-full max-w-3xl bg-[#1A1A1A] h-12 rounded-2xl flex items-center px-5 gap-3 border transition-all group shadow-2xl ${h?"border-[#FFD700] ring-4 ring-[#FFD700]/10 bg-[#222222]":"border-white/10"}`,children:[w.jsx(I0,{size:20,className:S?"text-[#C00000] animate-pulse":h?"text-[#FFD700]":"text-white/40"}),w.jsx("input",{type:"text",placeholder:"O que procuras em Angola?",className:"bg-transparent border-none outline-none flex-grow text-sm font-medium text-white placeholder:text-white/20",value:d,onChange:P=>f(P.target.value),onFocus:()=>m(!0),onKeyDown:O}),d&&w.jsx("button",{onClick:()=>f(""),className:"text-white/20 hover:text-white p-1",children:w.jsx(ks,{size:16})}),w.jsx("div",{className:"hidden md:flex items-center gap-2 bg-black/40 px-3 py-1 rounded-lg border border-white/5",children:w.jsx("span",{className:"text-[10px] font-bold text-white/30 uppercase tracking-widest",children:"APM Search"})})]}),h&&w.jsx("div",{className:"absolute top-14 left-0 right-0 bg-[#1A1A1A] border border-white/10 rounded-3xl shadow-2xl overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-[60] max-w-3xl mx-auto",children:w.jsx("div",{className:"p-2",children:y.length>0?y.map((P,M)=>w.jsxs("button",{onClick:()=>R(P.text),className:"w-full flex items-center gap-4 px-4 py-3 hover:bg-white/5 rounded-2xl text-left group transition-colors",children:[w.jsx("div",{className:`p-2 rounded-xl ${P.type==="history"?"bg-white/5 text-white/40":P.type==="trend"?"bg-[#C00000]/10 text-[#C00000]":"bg-[#FFD700]/10 text-[#FFD700]"}`,children:P.type==="history"?w.jsx(oh,{size:16}):P.type==="trend"?w.jsx(M0,{size:16}):w.jsx(gB,{size:16})}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("p",{className:"text-sm font-bold text-white group-hover:text-[#FFD700] transition-colors",children:P.text}),w.jsx("p",{className:"text-[9px] uppercase font-black tracking-widest text-white/20",children:P.type==="history"?"Pesquisado Recentemente":P.type==="trend"?"Tendncia em Luanda":"Sugesto Inteligente"})]}),w.jsx(Jn,{size:14,className:"text-white/10 group-hover:text-white/40"})]},M)):S?w.jsxs("div",{className:"p-8 text-center space-y-3",children:[w.jsx("div",{className:"w-8 h-8 border-4 border-[#FFD700] border-t-transparent rounded-full animate-spin mx-auto"}),w.jsx("p",{className:"text-[10px] font-black uppercase text-white/20 tracking-widest",children:"Indexando..."})]}):w.jsx("div",{className:"p-8 text-center text-white/20 text-xs font-bold uppercase tracking-widest italic",children:'Tenta pesquisar por "Iphone" ou "Gerador"'})})})]}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-4 shrink-0",children:[o?w.jsxs("button",{onClick:t,className:"flex items-center gap-2 p-3 bg-[#C00000]/10 text-[#C00000] border border-[#C00000]/20 rounded-2xl hover:bg-[#C00000] hover:text-white transition-all group shadow-lg active:scale-95",title:"Vender Produto",children:[w.jsx(Rs,{size:20,className:"group-hover:scale-110 transition-transform"}),w.jsx("span",{className:"hidden lg:inline text-[10px] font-black uppercase tracking-widest",children:"Vender Produto"})]}):w.jsxs("button",{onClick:i,className:"flex items-center gap-2 px-5 py-3 bg-[#1A1A1A] text-white/60 border border-white/10 rounded-2xl hover:bg-[#222222] hover:text-[#FFD700] hover:border-[#FFD700]/50 transition-all group shadow-lg active:scale-95",children:[w.jsx(gk,{size:18,className:"group-hover:-translate-x-1 transition-transform"}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Entrar"})]}),w.jsxs("div",{className:"relative p-3 cursor-pointer text-white/60 hover:text-white hover:bg-white/5 rounded-2xl transition-all group border border-transparent hover:border-white/10 hidden sm:block",children:[w.jsx(V5,{size:22,className:"group-hover:rotate-12 transition-transform"}),w.jsx("span",{className:"absolute top-2.5 right-2.5 w-4 h-4 bg-[#C00000] rounded-full text-[8px] flex items-center justify-center text-white font-black border-2 border-[#0B0B0B]",children:"3"})]}),w.jsxs("button",{onClick:n,className:"relative flex items-center gap-2 px-5 py-3 bg-[#FFD700] text-black rounded-2xl hover:bg-white transition-all group shadow-xl shadow-[#FFD700]/20 border-none active:scale-95 transform duration-200",title:"Comprar Agora",children:[w.jsx(rb,{size:22,className:"group-hover:scale-110 transition-transform",strokeWidth:2.5}),u>0&&w.jsx("span",{className:"absolute -top-2 -right-2 min-w-[20px] h-5 bg-[#C00000] text-white text-[10px] font-black rounded-full flex items-center justify-center border-2 border-[#0B0B0B]",children:u>99?"99+":u}),w.jsx("span",{className:"hidden md:inline text-[11px] font-black uppercase tracking-tighter",children:"Comprar Agora"})]})]})]})},q8=({activeScreen:e,onNavigate:t})=>{const n=[{id:Se.HOME,icon:mk,label:"Incio"},{id:Se.CATEGORIES,icon:bF,label:"Categorias"},{id:Se.CART,icon:yu,label:"Carrinho"},{id:Se.PROFILE,icon:wk,label:"Eu"}];return w.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-[#0B0B0B] border-t border-white/10 h-16 flex items-center justify-around px-2 z-50 safe-area-bottom",children:n.map(r=>{const i=e===r.id,o=r.icon;return w.jsxs("button",{onClick:()=>t(r.id),className:`flex flex-col items-center justify-center gap-1 transition-all duration-300 w-16 ${i?"text-[#FFD700]":"text-white/50 hover:text-white"}`,children:[w.jsx(o,{size:22,strokeWidth:i?2.5:2}),w.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${i?"opacity-100":"opacity-70"}`,children:r.label})]},r.id)})})},Xa=[{id:"s1",name:"Kandengue Store",avatar:"https://picsum.photos/seed/kandengue/200",rating:4.9,totalSales:1540,responseTime:"15 min",level:"PLATINA",joinedAt:"2023-01-15"},{id:"s2",name:"Loja do Povo Luanda",avatar:"https://picsum.photos/seed/povo/200",rating:4.5,totalSales:850,responseTime:"1h",level:"OURO",joinedAt:"2023-05-20"},{id:"s3",name:"TechZona AO",avatar:"https://picsum.photos/seed/techzona/200",rating:4.7,totalSales:2100,responseTime:"30 min",level:"PLATINA",joinedAt:"2022-11-01"}],aT=[{id:"r1",userId:"u1",userName:"Nelson",rating:5,comment:"Chegou muito rpido em Viana! Qualidade top.",date:"2024-03-01"},{id:"r2",userId:"u2",userName:"Filomena",rating:4,comment:"Bom produto, mas a caixa veio um pouco amassada.",date:"2024-02-28"},{id:"r3",userId:"u3",userName:"Joo Manuel",rating:5,comment:"Excelente! Entrega no mesmo dia em Talatona.",date:"2024-03-05"}],ou=[{id:"1",name:"Smartphone Pro Max Edio Luanda",price:45e4,oldPrice:55e4,image:"https://picsum.photos/seed/phone/400/400",gallery:["https://picsum.photos/seed/phone1/600/600","https://picsum.photos/seed/phone2/600/600","https://picsum.photos/seed/phone3/600/600"],category:"Eletrnicos",rating:4.8,sales:1200,isInternational:!0,isFreeShipping:!0,isFlashDeal:!0,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s1",description:"O melhor smartphone para quem vive o lifestyle de Luanda. Bateria de longa durao e cmera ultra potente.",stock:25,variations:[{id:"v1",name:"Cor",options:["Grafite","Dourado","Azul Marinho"]},{id:"v2",name:"Armazenamento",options:["128GB","256GB","512GB"]}]},{id:"2",name:"Sapatos Sociais Couro Legtimo",price:35e3,image:"https://picsum.photos/seed/shoes/400/400",category:"Moda",rating:4.5,sales:450,isInternational:!1,isFreeShipping:!1,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s2",description:"Elegncia e conforto para eventos e trabalho. Feito  mo em Angola.",stock:50,variations:[{id:"v3",name:"Tamanho",options:["38","39","40","41","42"]}]},{id:"3",name:"Gerador Gasolina 5KVA Silencioso",price:385e3,oldPrice:45e4,image:"https://picsum.photos/seed/generator/400/400",gallery:["https://picsum.photos/seed/gen1/600/600","https://picsum.photos/seed/gen2/600/600"],category:"Energia",rating:4.9,sales:890,isInternational:!0,isFreeShipping:!0,isFlashDeal:!0,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s3",description:"Gerador potente e silencioso, ideal para residncias e escritrios em Angola. Consumo econmico de combustvel.",stock:15,variations:[{id:"v4",name:"Potncia",options:["3KVA","5KVA","7KVA"]}]},{id:"4",name:"Kit Painel Solar 300W Completo",price:18e4,oldPrice:22e4,image:"https://picsum.photos/seed/solar/400/400",gallery:["https://picsum.photos/seed/solar1/600/600","https://picsum.photos/seed/solar2/600/600"],category:"Energia",rating:4.7,sales:567,isInternational:!0,isFreeShipping:!0,isFlashDeal:!1,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s3",description:"Kit completo com painel, inversor e bateria. Perfeito para iluminao e aparelhos bsicos. Instalao includa em Luanda.",stock:20,variations:[{id:"v5",name:"Capacidade",options:["200W","300W","500W"]}]},{id:"5",name:"Cerveja Cuca (Grade 24 Unidades)",price:12500,image:"https://picsum.photos/seed/cuca/400/400",category:"Bebidas",rating:4.9,sales:3500,isInternational:!1,isFreeShipping:!1,isFlashDeal:!1,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s2",description:"A cerveja angolana mais amada! Grade com 24 garrafas de 330ml. Entrega gelada disponvel.",stock:200},{id:"6",name:'Smart TV 55" 4K Android',price:32e4,oldPrice:38e4,image:"https://picsum.photos/seed/tv/400/400",gallery:["https://picsum.photos/seed/tv1/600/600","https://picsum.photos/seed/tv2/600/600"],category:"Eletrnicos",rating:4.6,sales:234,isInternational:!0,isFreeShipping:!0,isFlashDeal:!0,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s1",description:"Televiso 4K com sistema Android integrado. Netflix, YouTube e DStv Now prontos para usar.",stock:12,variations:[{id:"v6",name:"Tamanho",options:['43"','50"','55"','65"']}]},{id:"7",name:"Ar Condicionado Split 12000 BTU",price:165e3,oldPrice:195e3,image:"https://picsum.photos/seed/ac/400/400",category:"Casa",rating:4.4,sales:678,isInternational:!0,isFreeShipping:!0,isFlashDeal:!1,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s3",description:"Ar condicionado inverter econmico. Instalao profissional disponvel em Luanda e arredores.",stock:30,variations:[{id:"v7",name:"BTU",options:["9000","12000","18000","24000"]}]},{id:"8",name:"Vestido Tradicional Angolano",price:45e3,image:"https://picsum.photos/seed/dress/400/400",gallery:["https://picsum.photos/seed/dress1/600/600","https://picsum.photos/seed/dress2/600/600"],category:"Moda",rating:4.8,sales:890,isInternational:!1,isFreeShipping:!1,isFlashDeal:!1,status:mn.PUBLICADO,submittedBy:"system",sellerId:"s2",description:"Vestido feito com tecido africano autntico. Design exclusivo por estilistas angolanas. Perfeito para festas e eventos culturais.",stock:40,variations:[{id:"v8",name:"Tamanho",options:["S","M","L","XL"]},{id:"v9",name:"Cor",options:["Vermelho/Amarelo","Azul/Verde","Preto/Dourado"]}]}],Y0=({product:e,onClick:t})=>{const n=e.oldPrice?Math.round((e.oldPrice-e.price)/e.oldPrice*100):null;return w.jsxs("div",{onClick:()=>t==null?void 0:t(e),className:"bg-[#1A1A1A] rounded-xl overflow-hidden group border border-white/5 hover:border-[#FFD700]/30 transition-all duration-300 flex flex-col h-full cursor-pointer active:scale-95",children:[w.jsxs("div",{className:"relative aspect-square overflow-hidden bg-white/5",children:[w.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n&&w.jsxs("div",{className:"absolute top-2 left-2 bg-[#C00000] text-white text-[10px] font-black px-2 py-1 rounded italic uppercase tracking-tighter",children:["-",n,"% OFF"]}),e.isInternational&&w.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 backdrop-blur-md text-white text-[9px] px-2 py-1 rounded-full flex items-center gap-1 border border-white/10",children:[w.jsx(hk,{size:10})," Internacional"]})]}),w.jsxs("div",{className:"p-3 flex flex-col flex-grow",children:[w.jsx("h4",{className:"text-sm font-medium line-clamp-2 text-white/90 mb-2 min-h-[40px] leading-tight",children:e.name}),w.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[w.jsx(P0,{size:12,className:"text-[#FFD700] fill-[#FFD700]"}),w.jsxs("span",{className:"text-[10px] text-white/60 font-bold",children:[e.rating," | ",e.sales," vendidos"]})]}),w.jsxs("div",{className:"mt-auto",children:[e.oldPrice&&w.jsxs("span",{className:"text-[10px] text-white/30 line-through font-medium",children:[e.oldPrice.toLocaleString()," Kz"]}),w.jsxs("div",{className:"flex items-center justify-between mt-1",children:[w.jsxs("span",{className:"text-lg font-black text-[#FFD700]",children:[e.price.toLocaleString()," ",w.jsx("span",{className:"text-xs",children:"Kz"})]}),w.jsx("div",{className:"w-8 h-8 bg-[#FFD700] text-black rounded-lg flex items-center justify-center hover:bg-white transition-colors",children:w.jsx(rb,{size:16})})]})]})]})]})},oT=({onProductClick:e})=>{const[t,n]=C.useState(ou),[r,i]=C.useState(!1);C.useEffect(()=>{o();const l=Be.channel("public:products").on("postgres_changes",{event:"*",schema:"public",table:"products",filter:`status=eq.${mn.PUBLICADO}`},()=>{o()}).subscribe();return()=>{Be.removeChannel(l)}},[]);const o=async()=>{try{const{data:l,error:u}=await Be.from("products").select(`
          *,
          categories:category_id(name)
        `).eq("status",mn.PUBLICADO).order("created_at",{ascending:!1});if(u)throw u;if(l){const d=l.map(f=>{var h;return{id:f.id,name:f.name,price:f.price,oldPrice:f.old_price,image:f.image,category:((h=f.categories)==null?void 0:h.name)||"Geral",rating:f.rating||0,sales:f.sales||0,isInternational:f.is_international||!1,status:f.status,submittedBy:f.seller_id,sellerId:f.seller_id,description:f.description,stock:f.stock,variations:f.variations}});n(d)}}catch(l){console.error("Error fetching products:",l)}finally{i(!1)}};return w.jsxs("div",{className:"p-4 space-y-6 animate-in fade-in duration-500",children:[w.jsxs("section",{children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(_k,{className:"text-[#C00000] fill-[#C00000]",size:24}),w.jsx("h3",{className:"text-xl font-extrabold italic uppercase",children:"Ofertas Relmpago"})]}),w.jsxs("div",{className:"flex items-center gap-1 text-[#FFD700] text-sm font-bold uppercase tracking-wider cursor-pointer",children:["Ver Tudo ",w.jsx(Jn,{size:16})]})]}),w.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 no-scrollbar",children:t.filter(l=>l.isFlashDeal).map(l=>w.jsx("div",{className:"min-w-[160px]",children:w.jsx(Y0,{product:l,onClick:e})},l.id))})]}),w.jsxs("section",{children:[w.jsx("div",{className:"flex items-center justify-between mb-4 border-l-4 border-[#FFD700] pl-3",children:w.jsx("h3",{className:"text-xl font-extrabold uppercase italic tracking-tight",children:"Recomendados para Ti"})}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:t.map(l=>w.jsx(Y0,{product:l,onClick:e},l.id))})]})]})},Og=[{id:"1",name:"Eletrnicos",icon:Gd,count:"1.2k+ produtos"},{id:"2",name:"Moda e Vesturio",icon:uB,count:"3k+ produtos"},{id:"3",name:"Casa e Lazer",icon:mk,count:"850 produtos"},{id:"4",name:"Fotografia",icon:T0,count:"420 produtos"},{id:"5",name:"Peas Auto",icon:X5,count:"2.1k+ produtos"},{id:"6",name:"Gaming",icon:gF,count:"310 produtos"},{id:"7",name:"Beb e Kids",icon:H5,count:"1.1k+ produtos"}],$8=()=>{var n,r;const[e,t]=C.useState("1");return w.jsxs("div",{className:"flex h-full animate-in fade-in duration-300",children:[w.jsx("div",{className:"w-24 bg-[#0B0B0B] border-r border-white/5 flex flex-col pt-4 overflow-y-auto no-scrollbar",children:Og.map(i=>{const o=e===i.id,l=i.icon;return w.jsxs("button",{onClick:()=>t(i.id),className:`flex flex-col items-center py-5 px-1 transition-all duration-300 ${o?"bg-[#1A1A1A] border-l-4 border-[#FFD700] text-[#FFD700]":"text-white/40"}`,children:[w.jsx(l,{size:24,strokeWidth:o?2.5:2}),w.jsx("span",{className:`text-[9px] font-black uppercase mt-2 text-center tracking-tighter ${o?"opacity-100":"opacity-60"}`,children:i.name.split(" ")[0]})]},i.id)})}),w.jsxs("div",{className:"flex-grow p-4 space-y-6 overflow-y-auto bg-[#1A1A1A]",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h2",{className:"text-xl font-black italic uppercase tracking-tighter",children:(n=Og.find(i=>i.id===e))==null?void 0:n.name}),w.jsx("span",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:(r=Og.find(i=>i.id===e))==null?void 0:r.count})]}),w.jsxs("div",{className:"bg-gradient-to-br from-[#C00000] to-black rounded-xl p-4 flex items-center justify-between border border-white/10",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("p",{className:"text-[10px] font-black text-white/60 uppercase",children:"Especial Luanda"}),w.jsx("h4",{className:"font-bold text-sm",children:"ENTREGA EM 24H"}),w.jsx("p",{className:"text-[9px] text-[#FFD700] font-bold",children:"CUPOM: FRETEAO"})]}),w.jsx(Jn,{className:"text-white/30"})]}),w.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4,5,6].map(i=>w.jsx("div",{className:"space-y-2 group cursor-pointer",children:w.jsxs("div",{className:"aspect-square bg-black rounded-2xl overflow-hidden border border-white/5 relative group-hover:border-[#FFD700]/50 transition-all",children:[w.jsx("img",{src:`https://picsum.photos/seed/cat${e}${i}/300`,alt:"subcat",className:"w-full h-full object-cover opacity-60 group-hover:scale-110 transition-transform duration-500"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"}),w.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:w.jsxs("p",{className:"text-xs font-black uppercase tracking-tighter line-clamp-1",children:["Sub-Categoria ",i]})})]})},i))}),w.jsxs("div",{className:"space-y-3 pt-4",children:[w.jsx("h4",{className:"text-[10px] font-black text-white/30 uppercase tracking-widest",children:"Tags Populares"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:["Inverno","Promoo","Atacado","Marcas AO","Xiaomi","SAMSUNG","Adidas"].map((i,o)=>w.jsxs("span",{className:"px-3 py-1 bg-black rounded-full text-[10px] font-bold text-white/60 border border-white/5 hover:border-[#FFD700] hover:text-[#FFD700] transition-colors cursor-pointer",children:["#",i]},o))})]})]})]})},H8=()=>{const{user:e}=Zy(),{items:t,removeFromCart:n,updateQuantity:r,clearCart:i,getSubtotal:o,getShipping:l,getTotal:u,getItemCount:d}=Ky(),[f,h]=C.useState([]),[m,y]=C.useState(Ft.IDLE),[x,S]=C.useState("923"),[E,A]=C.useState(120),[T,k]=C.useState("MCX"),[R,O]=C.useState(null),P=C.useRef(null),M=C.useRef(null),D=o(),F=l(),B=u(),J=(te,ce)=>{const ve=Date.now();h(L=>[...L,{message:te,type:ce,id:ve}]),setTimeout(()=>{h(L=>L.filter(ee=>ee.id!==ve))},3e3)},U=te=>{h(ce=>ce.filter(ve=>ve.id!==te))},G=()=>{M.current&&(clearInterval(M.current),M.current=null)};C.useEffect(()=>(m===Ft.WAITING_PIN&&E>0?(G(),M.current=setInterval(()=>{A(te=>te-1)},1e3)):E===0&&m===Ft.WAITING_PIN&&(y(Ft.TIMEOUT),G()),m===Ft.WAITING_PIN&&E<=110&&E>100,()=>G()),[m,E]);const Z=async()=>{if(e)try{const{data:te,error:ce}=await Be.from("orders").insert({user_id:e.id,total:B,status:"PAID"}).select().single();if(ce)throw ce;const ve=t.map(ee=>({order_id:te.id,product_id:ee.id,quantity:ee.quantity,price:ee.price,variations:ee.selectedVariations})),{error:L}=await Be.from("order_items").insert(ve);if(L)throw L;console.log("Order created successfully:",te.id)}catch(te){console.error("Error creating order:",te),J("Erro ao gravar encomenda. Contacte o suporte.","error")}},Y=te=>{te.target.files&&te.target.files[0]&&(O(te.target.files[0]),J("Comprovativo selecionado!","success"))},ie=()=>{if(t.length!==0){if(!e){J("Por favor, faa login para finalizar a compra.","error");return}if(T==="MCX"){if(!x||x.length<9){J("Digita um nmero vlido (9 dgitos)","error");return}y(Ft.PROCESSING),setTimeout(()=>{y(Ft.WAITING_PIN),J("Solicitao enviada! Confirma no teu telemvel.","success"),setTimeout(async()=>{await Z(),y(Ft.SUCCESS),i()},5e3)},2e3)}else if(T==="IBAN"){if(!R){J("Por favor, envia o comprovativo de transferncia.","error");return}y(Ft.PROCESSING),setTimeout(async()=>{await Z(),y(Ft.SUCCESS),O(null),i(),J("Transferncia confirmada com sucesso!","success")},3e3)}}},q=()=>{G(),y(Ft.IDLE),A(120),O(null)},X=te=>{const ce=Math.floor(te/60),ve=te%60;return`${ce}:${ve.toString().padStart(2,"0")}`};return w.jsx("div",{className:"min-h-screen bg-[#0B0B0B] text-white pb-32 animate-in slide-in-from-right duration-300",children:w.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[w.jsxs("header",{className:"flex items-center justify-between",children:[w.jsxs("h2",{className:"text-2xl font-black uppercase italic tracking-tighter",children:[w.jsx("span",{className:"text-[#FFD700]",children:"Meu"})," Carrinho"]}),w.jsxs("div",{className:"bg-white/10 px-3 py-1 rounded-full text-xs font-bold",children:[d()," items"]})]}),m===Ft.SUCCESS?w.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center space-y-6 animate-in zoom-in duration-500",children:[w.jsx("div",{className:"w-24 h-24 bg-[#FFD700] rounded-full flex items-center justify-center shadow-[0_0_50px_rgba(255,215,0,0.3)]",children:w.jsx(C0,{size:48,className:"text-black",strokeWidth:4})}),w.jsxs("div",{children:[w.jsx("h3",{className:"text-3xl font-black uppercase italic mb-2",children:"Pagamento Confirmado!"}),w.jsx("p",{className:"text-white/50",children:"A sua encomenda foi processada com sucesso."}),w.jsxs("p",{className:"text-[#FFD700] text-sm font-bold mt-2",children:["ID: #",Math.random().toString(36).substr(2,9).toUpperCase()]})]}),w.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 bg-white/10 hover:bg-white/20 text-white px-8 py-3 rounded-full font-bold transition-all",children:"Continuar a Comprar"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"space-y-4",children:t.length>0?t.map(te=>w.jsxs("div",{className:"bg-[#1A1A1A] p-4 rounded-2xl flex gap-4 border border-white/5 hover:border-[#FFD700]/50 transition-colors group",children:[w.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-xl overflow-hidden shrink-0",children:w.jsx("img",{src:te.image,alt:te.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),w.jsxs("div",{className:"flex-grow flex flex-col justify-between",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h3",{className:"font-bold leading-tight line-clamp-2",children:te.name}),w.jsx("button",{onClick:()=>n(te.id),className:"text-white/20 hover:text-red-500 transition-colors p-1",children:w.jsx(vk,{size:18})})]}),w.jsxs("p",{className:"text-[#FFD700] font-black text-lg mt-1",children:[te.price.toLocaleString()," Kz"]}),te.selectedVariations&&Object.keys(te.selectedVariations).length>0&&w.jsx("div",{className:"flex gap-2 mt-1",children:Object.values(te.selectedVariations).map((ce,ve)=>w.jsx("span",{className:"text-[10px] bg-white/5 px-2 py-0.5 rounded text-white/50",children:ce},ve))})]}),w.jsxs("div",{className:"flex items-center gap-3 bg-black/30 w-fit rounded-lg p-1 mt-2",children:[w.jsx("button",{onClick:()=>r(te.id,te.quantity-1),className:"w-7 h-7 flex items-center justify-center bg-white/5 rounded hover:bg-white/10 active:scale-90 transition-all text-white/70",children:w.jsx(HF,{size:14})}),w.jsx("span",{className:"text-sm font-bold w-4 text-center",children:te.quantity}),w.jsx("button",{onClick:()=>r(te.id,te.quantity+1),className:"w-7 h-7 flex items-center justify-center bg-[#FFD700] rounded text-black hover:bg-[#FFD700]/80 active:scale-90 transition-all",children:w.jsx(nb,{size:14})})]})]})]},te.id)):w.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-center",children:[w.jsx("div",{className:"w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-4",children:w.jsx(yu,{size:40,className:"text-white/10"})}),w.jsx("p",{className:"text-lg font-black uppercase italic text-white/30",children:"Carrinho vazio"}),w.jsx("p",{className:"text-xs text-white/20 mt-2 max-w-[200px]",children:"Adicione produtos ao carrinho para continuar as suas compras"})]})}),t.length>0&&w.jsxs(w.Fragment,{children:[w.jsxs("section",{className:"space-y-4",children:[w.jsx("h3",{className:"text-[10px] font-black uppercase text-white/50 tracking-widest flex items-center gap-2",children:"Escolha o Mtodo de Pagamento"}),w.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[w.jsxs("button",{onClick:()=>k("MCX"),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${T==="MCX"?"bg-[#1A1A1A] border-[#FFD700] text-white":"bg-black/20 border-white/5 text-white/40 hover:bg-white/5"}`,children:[w.jsx(Gd,{size:24,className:T==="MCX"?"text-[#FFD700]":""}),w.jsx("span",{className:"text-xs font-bold uppercase",children:"Multicaixa Express"})]}),w.jsxs("button",{onClick:()=>k("IBAN"),className:`p-4 rounded-xl border-2 transition-all flex flex-col items-center gap-2 ${T==="IBAN"?"bg-[#1A1A1A] border-[#FFD700] text-white":"bg-black/20 border-white/5 text-white/40 hover:bg-white/5"}`,children:[w.jsx(ck,{size:24,className:T==="IBAN"?"text-[#FFD700]":""}),w.jsx("span",{className:"text-xs font-bold uppercase",children:"Transferncia IBAN"})]})]}),T==="MCX"?w.jsxs("div",{className:"bg-[#1A1A1A] p-5 rounded-2xl border border-white/10 space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center border border-white/10",children:w.jsx(Gd,{className:"text-[#FFD700]"})}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("p",{className:"text-sm font-bold",children:"Nmero de Telefone"}),w.jsx("p",{className:"text-[10px] text-white/40 uppercase",children:"Vinculado ao teu MCX Express"})]})]}),w.jsxs("div",{className:"flex items-center gap-2 bg-black/50 p-3 rounded-xl border border-white/5",children:[w.jsx("span",{className:"text-[#FFD700] font-black",children:"+244"}),w.jsx("input",{type:"tel",maxLength:9,value:x,onChange:te=>S(te.target.value),placeholder:"9XX XXX XXX",className:"bg-transparent border-none outline-none flex-grow text-white font-black tracking-widest"}),w.jsx("button",{onClick:()=>S("923456789"),className:"text-[10px] bg-white/5 hover:bg-white/10 px-2 py-1 rounded text-white/50",children:"Auto"})]})]}):w.jsxs("div",{className:"bg-[#1A1A1A] p-5 rounded-2xl border border-white/10 space-y-4 animate-in fade-in slide-in-from-bottom-4",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center border border-white/10",children:w.jsx(PF,{className:"text-[#FFD700]"})}),w.jsxs("div",{className:"flex-grow",children:[w.jsx("p",{className:"text-sm font-bold",children:"Dados Bancrios"}),w.jsx("p",{className:"text-[10px] text-white/40 uppercase",children:"Faa a transferncia para:"})]})]}),w.jsxs("div",{className:"space-y-3 bg-black/30 p-4 rounded-xl border border-dashed border-white/20",children:[w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsx("span",{className:"text-white/50",children:"Banco"}),w.jsx("span",{className:"font-bold",children:"BAI"})]}),w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsx("span",{className:"text-white/50",children:"IBAN"}),w.jsx("span",{className:"font-mono text-[#FFD700] tracking-wider select-all",children:"AO06 0040 0000 1234 5678 9012 3"})]}),w.jsxs("div",{className:"flex justify-between items-center text-sm",children:[w.jsx("span",{className:"text-white/50",children:"Beneficirio"}),w.jsx("span",{className:"font-bold",children:"AngoPlace Lda"})]})]}),w.jsxs("div",{className:"space-y-3",children:[w.jsx("p",{className:"text-xs font-bold text-white/60 uppercase",children:"Comprovativo de Transferncia"}),w.jsx("input",{type:"file",ref:P,onChange:Y,className:"hidden",accept:"image/*,.pdf"}),R?w.jsxs("div",{className:"w-full bg-[#FFD700]/10 border border-[#FFD700] rounded-xl p-3 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 bg-[#FFD700] rounded-lg flex items-center justify-center text-black",children:w.jsx(fk,{size:20})}),w.jsxs("div",{className:"overflow-hidden",children:[w.jsx("p",{className:"text-xs font-bold text-white truncate max-w-[150px]",children:R.name}),w.jsxs("p",{className:"text-[10px] text-white/50",children:[(R.size/1024).toFixed(2)," KB"]})]})]}),w.jsx("button",{onClick:()=>O(null),className:"p-2 hover:bg-black/20 rounded-lg text-white/60 hover:text-white transition-colors",children:w.jsx(ks,{size:16})})]}):w.jsxs("button",{onClick:()=>{var te;return(te=P.current)==null?void 0:te.click()},className:"w-full h-16 border-2 border-dashed border-white/20 rounded-xl flex flex-col items-center justify-center text-white/40 hover:bg-white/5 hover:border-[#FFD700] hover:text-[#FFD700] transition-all group",children:[w.jsx(xk,{size:20,className:"mb-1 group-hover:scale-110 transition-transform"}),w.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Carregar Talo / Comprovativo"})]})]}),w.jsxs("div",{className:"flex gap-2 items-start bg-[#FFD700]/10 p-3 rounded-lg",children:[w.jsx(R0,{size:16,className:"text-[#FFD700] shrink-0 mt-0.5"}),w.jsx("p",{className:"text-xs text-[#FFD700]/80",children:"O pagamento ser validado aps o envio do comprovativo."})]})]})]}),w.jsxs("div",{className:"bg-[#1A1A1A] p-6 rounded-2xl border border-white/5 space-y-3",children:[w.jsxs("div",{className:"flex justify-between text-sm text-white/60",children:[w.jsx("span",{children:"Subtotal"}),w.jsxs("span",{children:[D.toLocaleString()," Kz"]})]}),w.jsxs("div",{className:"flex justify-between text-sm text-white/60",children:[w.jsx("span",{children:"Entrega Luanda"}),w.jsx("span",{className:F===0?"text-green-500 font-bold":"",children:F===0?"GRTIS":`${F.toLocaleString()} Kz`})]}),F===0&&D>0&&w.jsx("div",{className:"text-[10px] text-green-500/60 uppercase font-bold",children:" Frete grtis para compras acima de 100.000 Kz"}),w.jsxs("div",{className:"pt-3 border-t border-white/10 flex justify-between items-end",children:[w.jsx("span",{className:"text-lg font-bold",children:"Total"}),w.jsxs("span",{className:"text-2xl font-black text-[#FFD700]",children:[B.toLocaleString()," Kz"]})]})]}),w.jsxs("button",{onClick:ie,className:`w-full h-16 rounded-2xl font-black uppercase text-sm tracking-widest flex items-center justify-center gap-2 shadow-xl transition-all active:scale-95 ${T==="IBAN"&&!R?"bg-white/10 text-white/30 cursor-not-allowed":"bg-[#FFD700] text-black shadow-[#FFD700]/10 hover:bg-white"}`,children:[T==="MCX"?"PAGAR COM EXPRESS":"CONFIRMAR TRANSFERNCIA"," ",w.jsx(eb,{size:20})]})]}),(m===Ft.PROCESSING||m===Ft.WAITING_PIN)&&w.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-[100] flex flex-col items-center justify-center p-4",children:[m===Ft.PROCESSING&&w.jsxs("div",{className:"text-center space-y-4 animate-in zoom-in duration-300",children:[w.jsx(tb,{size:64,className:"text-[#FFD700] animate-spin mx-auto"}),w.jsx("h3",{className:"text-xl font-black uppercase italic",children:T==="MCX"?"Iniciando Transao...":"Validando Comprovativo..."}),w.jsx("p",{className:"text-white/40 text-sm",children:T==="MCX"?"Estamos a comunicar com a rede Multicaixa.":"Aguarde um momento."})]}),m===Ft.WAITING_PIN&&w.jsxs("div",{className:"w-full max-w-sm bg-[#1A1A1A] p-8 rounded-[40px] border border-[#FFD700]/30 text-center space-y-6 relative overflow-hidden animate-in slide-in-from-bottom duration-500",children:[w.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-white/5",children:w.jsx("div",{className:"h-full bg-[#FFD700] transition-all duration-1000",style:{width:`${E/120*100}%`}})}),w.jsx("div",{className:"w-20 h-20 bg-black rounded-full flex items-center justify-center mx-auto border-4 border-[#FFD700] animate-pulse",children:w.jsx(Gd,{size:32,className:"text-[#FFD700]"})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-2xl font-black uppercase italic",children:"Confirma no App!"}),w.jsxs("p",{className:"text-sm text-white/60",children:["Enviamos uma notificao para o ",w.jsxs("span",{className:"text-white font-bold",children:["+244 ",x]}),"."]}),w.jsx("p",{className:"text-xs text-white/30",children:"Entra no teu Multicaixa Express agora e introduz o teu PIN."})]}),w.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#FFD700] font-black text-xl",children:[w.jsx(oh,{size:20})," ",X(E)]}),w.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl flex items-start gap-3 text-left",children:[w.jsx(R0,{size:16,className:"text-[#FFD700] shrink-0 mt-1"}),w.jsx("p",{className:"text-[10px] text-white/50 leading-relaxed uppercase font-bold tracking-tight",children:"No recebes nada? Verifica se o nmero est correto e se tens dados mveis ativos."})]}),w.jsx("button",{onClick:q,className:"text-white/30 text-xs font-black uppercase underline hover:text-white",children:"Cancelar"})]})]}),m===Ft.TIMEOUT&&w.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-[100] flex flex-col items-center justify-center p-4",children:w.jsxs("div",{className:"text-center space-y-6",children:[w.jsx("div",{className:"w-24 h-24 bg-[#C00000] rounded-full flex items-center justify-center mx-auto",children:w.jsx(yk,{size:48,className:"text-white"})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h3",{className:"text-2xl font-black uppercase italic",children:"Tempo Expirado"}),w.jsx("p",{className:"text-white/40",children:"No detectamos a confirmao no tempo limite. Tenta novamente."})]}),w.jsx("button",{onClick:q,className:"bg-[#FFD700] text-black px-10 py-4 rounded-2xl font-black uppercase text-xs tracking-widest",children:"Tentar Novamente"})]})})]}),w.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/20 text-[10px] font-bold uppercase tracking-widest py-10",children:[w.jsx(oo,{size:14})," Integrao Homologada via EMIS / Angola"]}),w.jsx("div",{className:"fixed bottom-32 left-0 right-0 px-4 space-y-2 z-[60]",children:f.map(te=>w.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border shadow-2xl animate-in slide-in-from-bottom-4 duration-300 ${te.type==="success"?"bg-[#0B0B0B] border-[#FFD700] text-[#FFD700]":"bg-[#0B0B0B] border-[#C00000] text-[#C00000]"}`,children:[w.jsx("span",{className:"text-xs font-black uppercase",children:te.message}),w.jsx("button",{onClick:()=>U(te.id),children:w.jsx(ks,{size:14})})]},te.id))})]})})},G8=({user:e,onAdmin:t,onLogout:n,onSell:r,onRegisterShop:i})=>{const o=(e==null?void 0:e.role)===vn.ADMIN||(e==null?void 0:e.role)===vn.SUPER_ADMIN,l=(e==null?void 0:e.role)===vn.SHOP_OWNER,u=[{icon:Rs,label:"Meus Pedidos",sub:"Rastrear encomendas"},{icon:ck,label:"Pagamentos",sub:"Multicaixa, Unitel Money"},{icon:k0,label:"Endereos",sub:"Luanda, Angola"},{icon:pk,label:"Lista de Desejos",sub:"12 itens salvos"},{icon:SF,label:"Suporte AngoPlace",sub:"Falar com agente"}];return w.jsxs("div",{className:"p-4 space-y-6 animate-in slide-in-from-right duration-300",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-20 h-20 rounded-full border-4 border-[#C00000] p-1 overflow-hidden bg-[#1A1A1A]",children:w.jsx("img",{src:`https://picsum.photos/seed/${e==null?void 0:e.id}/200`,alt:"Avatar",className:"w-full h-full rounded-full object-cover"})}),w.jsxs("div",{children:[w.jsx("h2",{className:"text-2xl font-black tracking-tight",children:e==null?void 0:e.name}),w.jsxs("div",{className:"flex items-center gap-1 text-white/50 text-xs",children:[w.jsx(k0,{size:12,className:"text-[#C00000]"})," ",(e==null?void 0:e.location)||"Luanda, Angola"]}),o&&w.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 bg-[#FFD700]/10 text-[#FFD700] text-[10px] font-black px-2 py-0.5 rounded uppercase border border-[#FFD700]/20",children:[w.jsx(oo,{size:10})," ",(e==null?void 0:e.role)===vn.SUPER_ADMIN?"Super Admin":"Admin"]}),l&&w.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 bg-[#C00000]/10 text-[#C00000] text-[10px] font-black px-2 py-0.5 rounded uppercase border border-[#C00000]/20 ml-1",children:[w.jsx(yu,{size:10})," Loja Verificada"]})]})]}),w.jsx("button",{className:"p-2 bg-[#1A1A1A] rounded-full border border-white/5",children:w.jsx(rB,{size:20})})]}),l?w.jsxs("div",{className:"bg-black rounded-2xl p-5 text-white flex items-center justify-between group cursor-pointer active:scale-95 transition-all border border-[#FFD700]/20",onClick:r,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-[#FFD700] rounded-xl flex items-center justify-center text-black",children:w.jsx(Rs,{size:24})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"Minha Loja"}),w.jsx("p",{className:"font-black text-lg uppercase leading-tight italic text-[#FFD700]",children:"Gerir Produtos"})]})]}),w.jsx(Jn,{size:24,className:"text-[#FFD700]"})]}):w.jsxs("div",{className:"bg-[#FFD700] rounded-2xl p-5 text-black flex items-center justify-between group cursor-pointer active:scale-95 transition-all shadow-xl shadow-yellow-500/10",onClick:i,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-black rounded-xl flex items-center justify-center text-[#FFD700]",children:w.jsx(yu,{size:24})}),w.jsxs("div",{children:[w.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-60",children:"Negcio Profissional"}),w.jsx("p",{className:"font-black text-lg uppercase leading-tight italic",children:"Abrir Loja Profissional"})]})]}),w.jsx(Jn,{size:24})]}),w.jsx("div",{className:"grid grid-cols-1 gap-4",children:w.jsxs("div",{className:"bg-[#1A1A1A] p-4 rounded-2xl border border-white/5",children:[w.jsx("p",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:"Carteira"}),w.jsxs("p",{className:"text-xl font-black text-[#FFD700] mt-1",children:[e==null?void 0:e.walletBalance.toLocaleString()," ",w.jsx("span",{className:"text-xs",children:"Kz"})]})]})}),w.jsx("div",{className:"bg-[#1A1A1A] rounded-2xl border border-white/5 divide-y divide-white/5 overflow-hidden",children:u.map((d,f)=>w.jsxs("div",{className:"flex items-center justify-between p-4 active:bg-white/5 transition-colors cursor-pointer group",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-10 h-10 bg-black rounded-xl flex items-center justify-center text-[#FFD700] group-hover:bg-[#C00000] group-hover:text-white transition-all",children:w.jsx(d.icon,{size:20})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold text-sm",children:d.label}),w.jsx("p",{className:"text-[10px] text-white/30 uppercase tracking-tighter",children:d.sub})]})]}),w.jsx(Jn,{size:18,className:"text-white/20 group-hover:text-[#FFD700] transition-colors"})]},f))}),o&&w.jsxs("div",{className:"bg-gradient-to-r from-black to-[#1A1A1A] p-4 rounded-2xl border border-[#FFD700]/20 flex items-center justify-between group cursor-pointer",onClick:t,children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-8 h-8 bg-[#FFD700] rounded flex items-center justify-center text-black font-black uppercase text-xs",children:(e==null?void 0:e.role)===vn.SUPER_ADMIN?"SA":"AD"}),w.jsx("p",{className:"text-sm font-bold text-white/80 uppercase tracking-tighter",children:"Painel de Administrao"})]}),w.jsx(Jn,{size:16,className:"text-[#FFD700]"})]}),w.jsxs("button",{onClick:async()=>{await Be.auth.signOut(),n()},className:"w-full flex items-center justify-center gap-2 py-4 text-[#C00000] font-black uppercase text-xs tracking-widest border border-[#C00000]/20 rounded-2xl hover:bg-[#C00000]/10 transition-colors",children:[w.jsx(jF,{size:16})," Terminar Sesso"]}),w.jsxs("div",{className:"flex flex-col items-center justify-center py-10 opacity-30 gap-1",children:[w.jsx(rf,{variant:"monochrome",size:"sm"}),w.jsx("p",{className:"text-[8px] text-white font-black uppercase tracking-[0.3em] mt-2 italic",children:"Integridade  Qualidade  Angola"}),w.jsx("p",{className:"text-[8px] text-white/50 font-bold uppercase mt-1",children:"Verso 1.2.0-PRO-ANGOLA"})]})]})};function gI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=gI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=gI(e))&&(r&&(r+=" "),r+=t);return r}var V8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pb(e){if(typeof e!="string")return!1;var t=V8;return t.includes(e)}var K8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Y8=new Set(K8);function vI(e){return typeof e!="string"?!1:Y8.has(e)}function yI(e){return typeof e=="string"&&e.startsWith("data-")}function _i(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(vI(n)||yI(n))&&(t[n]=e[n]);return t}function mb(e){if(e==null)return null;if(C.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return _i(t)}return typeof e=="object"&&!Array.isArray(e)?_i(e):null}function gr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(vI(n)||yI(n)||pb(n))&&(t[n]=e[n]);return t}var J8=["children","width","height","viewBox","className","style","title","desc"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J0.apply(null,arguments)}function W8(e,t){if(e==null)return{};var n,r,i=X8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bI=C.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:d,desc:f}=e,h=W8(e,J8),m=o||{width:r,height:i,x:0,y:0},y=st("recharts-surface",l);return C.createElement("svg",J0({},gr(h),{className:y,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),C.createElement("title",null,d),C.createElement("desc",null,f),n)}),Q8=["children","className"];function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}function Z8(e,t){if(e==null)return{};var n,r,i=eV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Si=C.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Z8(e,Q8),o=st("recharts-layer",r);return C.createElement("g",W0({className:o},gr(i),{ref:t}),n)}),xI=qR(),tV=C.createContext(null);function rt(e){return function(){return e}}const wI=Math.cos,df=Math.sin,Ur=Math.sqrt,ff=Math.PI,ph=2*ff,X0=Math.PI,Q0=2*X0,Va=1e-6,nV=Q0-Va;function _I(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function rV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _I;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_I:rV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,d=r-t,f=i-n,h=l-t,m=u-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Va)if(!(Math.abs(m*d-f*h)>Va)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,S=i-u,E=d*d+f*f,A=x*x+S*S,T=Math.sqrt(E),k=Math.sqrt(y),R=o*Math.tan((X0-Math.acos((E+y-A)/(2*T*k)))/2),O=R/k,P=R/T;Math.abs(O-1)>Va&&this._append`L${t+O*h},${n+O*m}`,this._append`A${o},${o},0,0,${+(m*x>h*S)},${this._x1=t+P*d},${this._y1=n+P*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),d=r*Math.sin(i),f=t+u,h=n+d,m=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Va||Math.abs(this._y1-h)>Va)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%Q0+Q0),y>nV?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:y>Va&&this._append`A${r},${r},0,${+(y>=X0)},${m},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new iV(t)}function vb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SI(e){this._context=e}SI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mh(e){return new SI(e)}function EI(e){return e[0]}function AI(e){return e[1]}function TI(e,t){var n=rt(!0),r=null,i=mh,o=null,l=gb(u);e=typeof e=="function"?e:e===void 0?EI:rt(e),t=typeof t=="function"?t:t===void 0?AI:rt(t);function u(d){var f,h=(d=vb(d)).length,m,y=!1,x;for(r==null&&(o=i(x=l())),f=0;f<=h;++f)!(f<h&&n(m=d[f],f,d))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(m,f,d),+t(m,f,d));if(x)return o=null,x+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:rt(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:rt(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:rt(!!d),u):n},u.curve=function(d){return arguments.length?(i=d,r!=null&&(o=i(r)),u):i},u.context=function(d){return arguments.length?(d==null?r=o=null:o=i(r=d),u):r},u}function Nd(e,t,n){var r=null,i=rt(!0),o=null,l=mh,u=null,d=gb(f);e=typeof e=="function"?e:e===void 0?EI:rt(+e),t=typeof t=="function"?t:rt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?AI:rt(+n);function f(m){var y,x,S,E=(m=vb(m)).length,A,T=!1,k,R=new Array(E),O=new Array(E);for(o==null&&(u=l(k=d())),y=0;y<=E;++y){if(!(y<E&&i(A=m[y],y,m))===T)if(T=!T)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=x;--S)u.point(R[S],O[S]);u.lineEnd(),u.areaEnd()}T&&(R[y]=+e(A,y,m),O[y]=+t(A,y,m),u.point(r?+r(A,y,m):R[y],n?+n(A,y,m):O[y]))}if(k)return u=null,k+""||null}function h(){return TI().defined(i).curve(l).context(o)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:rt(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:rt(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:rt(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:rt(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:rt(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:rt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(n)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:rt(!!m),f):i},f.curve=function(m){return arguments.length?(l=m,o!=null&&(u=l(o)),f):l},f.context=function(m){return arguments.length?(m==null?o=u=null:u=l(o=m),f):o},f}class CI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function aV(e){return new CI(e,!0)}function oV(e){return new CI(e,!1)}const yb={draw(e,t){const n=Ur(t/ff);e.moveTo(n,0),e.arc(0,0,n,0,ph)}},sV={draw(e,t){const n=Ur(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},NI=Ur(1/3),lV=NI*2,uV={draw(e,t){const n=Ur(t/lV),r=n*NI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},cV={draw(e,t){const n=Ur(t),r=-n/2;e.rect(r,r,n,n)}},dV=.8908130915292852,RI=df(ff/10)/df(7*ff/10),fV=df(ph/10)*RI,hV=-wI(ph/10)*RI,pV={draw(e,t){const n=Ur(t*dV),r=fV*n,i=hV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=ph*o/5,u=wI(l),d=df(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*i,d*r+u*i)}e.closePath()}},Dg=Ur(3),mV={draw(e,t){const n=-Ur(t/(Dg*3));e.moveTo(0,n*2),e.lineTo(-Dg*n,-n),e.lineTo(Dg*n,-n),e.closePath()}},cr=-.5,dr=Ur(3)/2,Z0=1/Ur(12),gV=(Z0/2+1)*3,vV={draw(e,t){const n=Ur(t/gV),r=n/2,i=n*Z0,o=r,l=n*Z0+n,u=-o,d=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,d),e.lineTo(cr*r-dr*i,dr*r+cr*i),e.lineTo(cr*o-dr*l,dr*o+cr*l),e.lineTo(cr*u-dr*d,dr*u+cr*d),e.lineTo(cr*r+dr*i,cr*i-dr*r),e.lineTo(cr*o+dr*l,cr*l-dr*o),e.lineTo(cr*u+dr*d,cr*d-dr*u),e.closePath()}};function yV(e,t){let n=null,r=gb(i);e=typeof e=="function"?e:rt(e||yb),t=typeof t=="function"?t:rt(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:rt(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:rt(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function hf(){}function pf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function kI(e){this._context=e}kI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bV(e){return new kI(e)}function II(e){this._context=e}II.prototype={areaStart:hf,areaEnd:hf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xV(e){return new II(e)}function PI(e){this._context=e}PI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wV(e){return new PI(e)}function MI(e){this._context=e}MI.prototype={areaStart:hf,areaEnd:hf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _V(e){return new MI(e)}function sT(e){return e<0?-1:1}function lT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(sT(o)+sT(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function uT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ug(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function mf(e){this._context=e}mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ug(this,this._t0,uT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ug(this,uT(this,n=lT(this,e,t)),n);break;default:Ug(this,this._t0,n=lT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function OI(e){this._context=new DI(e)}(OI.prototype=Object.create(mf.prototype)).point=function(e,t){mf.prototype.point.call(this,t,e)};function DI(e){this._context=e}DI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function SV(e){return new mf(e)}function EV(e){return new OI(e)}function UI(e){this._context=e}UI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=cT(e),i=cT(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function cT(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function AV(e){return new UI(e)}function gh(e,t){this._context=e,this._t=t}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function TV(e){return new gh(e,.5)}function CV(e){return new gh(e,0)}function NV(e){return new gh(e,1)}function so(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ey(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function RV(e,t){return e[t]}function kV(e){const t=[];return t.key=e,t}function IV(){var e=rt([]),t=ey,n=so,r=RV;function i(o){var l=Array.from(e.apply(this,arguments),kV),u,d=l.length,f=-1,h;for(const m of o)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(m,l[u].key,f,o)]).data=m;for(u=0,h=vb(t(l));u<d;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:rt(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:rt(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?ey:typeof o=="function"?o:rt(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??so,i):n},i}function PV(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}so(e,t)}}function MV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}so(e,t)}}function OV(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,d=0,f=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,y=h[r-1][1]||0,x=(m-y)/2,S=0;S<u;++S){var E=e[t[S]],A=E[r][1]||0,T=E[r-1][1]||0;x+=A-T}d+=m,f+=x*m}i[r-1][1]+=i[r-1][0]=n,d&&(n-=f/d)}i[r-1][1]+=i[r-1][0]=n,so(e,t)}}var jg={},Lg={},dT;function DV(){return dT||(dT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Lg)),Lg}var Fg={},fT;function jI(){return fT||(fT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Fg)),Fg}var Bg={},hT;function bb(){return hT||(hT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Bg)),Bg}var zg={},qg={},pT;function UV(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(qg)),qg}var mT;function xb(){return mT||(mT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UV(),n=bb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,d="",f="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const m=i[u];f?m==="\\"&&u+1<l?(u++,d+=i[u]):m===f?f="":d+=m:h?m==='"'||m==="'"?f=m:m==="]"?(h=!1,o.push(d),d=""):d+=m:m==="["?(h=!0,d&&(o.push(d),d="")):m==="."?d&&(o.push(d),d=""):d+=m,u++}return d&&o.push(d),o}e.toPath=r})(zg)),zg}var gT;function wb(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DV(),n=jI(),r=bb(),i=xb();function o(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?n.isDeepKey(d)?o(u,i.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const h=u[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(u,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=u[d];return h===void 0?f:h}}}function l(u,d,f){if(d.length===0)return f;let h=u;for(let m=0;m<d.length;m++){if(h==null||t.isUnsafeProperty(d[m]))return f;h=h[d[m]]}return h===void 0?f:h}e.get=o})(jg)),jg}var $g,vT;function jV(){return vT||(vT=1,$g=wb().get),$g}var LV=jV();const Is=Kr(LV);var FV=4;function ya(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function vt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,o,l)=>{var u=n[l-1];return typeof u=="string"?i+u+o:u!==void 0?i+ya(u)+o:i+o},"")}var kn=e=>e===0?0:e>0?1:-1,Pr=e=>typeof e=="number"&&e!=+e,Ei=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ye=e=>(typeof e=="number"||e instanceof Number)&&!Pr(e),Hr=e=>ye(e)||typeof e=="string",BV=0,bu=e=>{var t=++BV;return"".concat(e||"").concat(t)},Mr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ye(t)&&typeof t!="string")return r;var o;if(Ei(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return Pr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},LI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function on(e,t,n){return ye(e)&&ye(t)?ya(e+n*(t-e)):t}function zV(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Is(r,t))===n)}var $t=e=>e===null||typeof e>"u",Du=e=>$t(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function qV(e){return e!=null}function Uu(){}var $V=["type","size","sizeType"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ty.apply(null,arguments)}function yT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(n),!0).forEach(function(r){HV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HV(e,t,n){return(t=GV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GV(e){var t=VV(e,"string");return typeof t=="symbol"?t:t+""}function VV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KV(e,t){if(e==null)return{};var n,r,i=YV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FI={symbolCircle:yb,symbolCross:sV,symbolDiamond:uV,symbolSquare:cV,symbolStar:pV,symbolTriangle:mV,symbolWye:vV},JV=Math.PI/180,WV=e=>{var t="symbol".concat(Du(e));return FI[t]||yb},XV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*JV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QV=(e,t)=>{FI["symbol".concat(Du(e))]=t},BI=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=KV(e,$V),o=bT(bT({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=WV(l),x=yV().type(y).size(XV(n,r,l)),S=x();if(S!==null)return S},{className:d,cx:f,cy:h}=o,m=gr(o);return ye(f)&&ye(h)&&ye(n)?C.createElement("path",ty({},m,{className:st("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};BI.registerSymbol=QV;var zI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ZV=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(C.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{pb(i)&&(r[i]=(o=>n[i](n,o)))}),r},e7=(e,t,n)=>r=>(e(t,n,r),null),_b=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];pb(i)&&typeof o=="function"&&(r||(r={}),r[i]=e7(o,t,n))}),r};function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){n7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n7(e,t,n){return(t=r7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=i7(e,"string");return typeof t=="symbol"?t:t+""}function i7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zn(e,t){var n=t7({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}var Hg={},Gg={},wT;function a7(){return wT||(wT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Gg)),Gg}var Vg={},_T;function qI(){return _T||(_T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Vg)),Vg}var Kg={},Yg={},Jg={},ST;function o7(){return ST||(ST=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Jg)),Jg}var ET;function Sb(){return ET||(ET=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o7();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Yg)),Yg}var Wg={},AT;function s7(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Wg)),Wg}var TT;function l7(){return TT||(TT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sb(),n=s7();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Kg)),Kg}var Xg={},Qg={},CT;function u7(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Qg)),Qg}var Zg={},ev={},tv={},nv={},NT;function $I(){return NT||(NT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(nv)),nv}var rv={},RT;function HI(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(rv)),rv}var iv={},kT;function GI(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(iv)),iv}var IT;function c7(){return IT||(IT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$I(),n=HI(),r=GI();function i(h,m,y){return typeof y!="function"?i(h,m,()=>{}):o(h,m,function x(S,E,A,T,k,R){const O=y(S,E,A,T,k,R);return O!==void 0?!!O:o(S,E,x,R)},new Map)}function o(h,m,y,x){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,y,x);case"function":return Object.keys(m).length>0?o(h,{...m},y,x):r.eq(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function l(h,m,y,x){if(m==null)return!0;if(Array.isArray(m))return d(h,m,y,x);if(m instanceof Map)return u(h,m,y,x);if(m instanceof Set)return f(h,m,y,x);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(x!=null&&x.has(m))return x.get(m)===h;x==null||x.set(m,h);try{for(let E=0;E<S.length;E++){const A=S[E];if(!n.isPrimitive(h)&&!(A in h)||m[A]===void 0&&h[A]!==void 0||m[A]===null&&h[A]!==null||!y(h[A],m[A],A,h,m,x))return!1}return!0}finally{x==null||x.delete(m)}}function u(h,m,y,x){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of m.entries()){const A=h.get(S);if(y(A,E,S,h,m,x)===!1)return!1}return!0}function d(h,m,y,x){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<m.length;E++){const A=m[E];let T=!1;for(let k=0;k<h.length;k++){if(S.has(k))continue;const R=h[k];let O=!1;if(y(R,A,E,h,m,x)&&(O=!0),O){S.add(k),T=!0;break}}if(!T)return!1}return!0}function f(h,m,y,x){return m.size===0?!0:h instanceof Set?d([...h],[...m],y,x):!1}e.isMatchWith=i,e.isSetMatch=f})(tv)),tv}var PT;function VI(){return PT||(PT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c7();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(ev)),ev}var av={},ov={},sv={},MT;function d7(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(sv)),sv}var lv={},OT;function KI(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(lv)),lv}var uv={},DT;function YI(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",m="[object Function]",y="[object ArrayBuffer]",x="[object Object]",S="[object Error]",E="[object DataView]",A="[object Uint8Array]",T="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",F="[object BigInt64Array]",B="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=h,e.bigInt64ArrayTag=F,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=B,e.float64ArrayTag=J,e.functionTag=m,e.int16ArrayTag=M,e.int32ArrayTag=D,e.int8ArrayTag=P,e.mapTag=d,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=R,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=T})(uv)),uv}var cv={},UT;function f7(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(cv)),cv}var jT;function JI(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7(),n=KI(),r=YI(),i=HI(),o=f7();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,y,x=new Map,S=void 0){const E=S==null?void 0:S(h,m,y,x);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const A=new Array(h.length);x.set(h,A);for(let T=0;T<h.length;T++)A[T]=u(h[T],T,y,x,S);return Object.hasOwn(h,"index")&&(A.index=h.index),Object.hasOwn(h,"input")&&(A.input=h.input),A}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const A=new RegExp(h.source,h.flags);return A.lastIndex=h.lastIndex,A}if(h instanceof Map){const A=new Map;x.set(h,A);for(const[T,k]of h)A.set(T,u(k,T,y,x,S));return A}if(h instanceof Set){const A=new Set;x.set(h,A);for(const T of h)A.add(u(T,void 0,y,x,S));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const A=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,A);for(let T=0;T<h.length;T++)A[T]=u(h[T],T,y,x,S);return A}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const A=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,A),d(A,h,y,x,S),A}if(typeof File<"u"&&h instanceof File){const A=new File([h],h.name,{type:h.type});return x.set(h,A),d(A,h,y,x,S),A}if(typeof Blob<"u"&&h instanceof Blob){const A=new Blob([h],{type:h.type});return x.set(h,A),d(A,h,y,x,S),A}if(h instanceof Error){const A=new h.constructor;return x.set(h,A),A.message=h.message,A.name=h.name,A.stack=h.stack,A.cause=h.cause,d(A,h,y,x,S),A}if(h instanceof Boolean){const A=new Boolean(h.valueOf());return x.set(h,A),d(A,h,y,x,S),A}if(h instanceof Number){const A=new Number(h.valueOf());return x.set(h,A),d(A,h,y,x,S),A}if(h instanceof String){const A=new String(h.valueOf());return x.set(h,A),d(A,h,y,x,S),A}if(typeof h=="object"&&f(h)){const A=Object.create(Object.getPrototypeOf(h));return x.set(h,A),d(A,h,y,x,S),A}return h}function d(h,m,y=h,x,S){const E=[...Object.keys(m),...t.getSymbols(m)];for(let A=0;A<E.length;A++){const T=E[A],k=Object.getOwnPropertyDescriptor(h,T);(k==null||k.writable)&&(h[T]=u(m[T],T,y,x,S))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=d})(ov)),ov}var LT;function h7(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(av)),av}var FT;function p7(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI(),n=h7();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(Zg)),Zg}var dv={},fv={},hv={},BT;function m7(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI(),n=YI();function r(i,o){return t.cloneDeepWith(i,(l,u,d,f)=>{const h=o==null?void 0:o(l,u,d,f);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(hv)),hv}var zT;function g7(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m7();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(fv)),fv}var pv={},mv={},qT;function WI(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(mv)),mv}var gv={},$T;function v7(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KI();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(gv)),gv}var HT;function y7(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jI(),n=WI(),r=v7(),i=xb();function o(l,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?d=i.toPath(u):d=[u],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const m=d[h];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=o})(pv)),pv}var GT;function b7(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VI(),n=bb(),r=g7(),i=wb(),o=y7();function l(u,d){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return d=r.cloneDeep(d),function(f){const h=i.get(f,u);return h===void 0?o.has(f,u):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l})(dv)),dv}var VT;function x7(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qI(),n=u7(),r=p7(),i=b7();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Xg)),Xg}var KT;function w7(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a7(),n=qI(),r=l7(),i=x7();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(Hg)),Hg}var vv,YT;function _7(){return YT||(YT=1,vv=w7().uniqBy),vv}var S7=_7();const JT=Kr(S7);function E7(e,t,n){return t===!0?JT(e,n):typeof t=="function"?JT(e,t):e}var yv={exports:{}},bv={},xv={exports:{}},wv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function A7(){if(WT)return wv;WT=1;var e=Bs();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(m,y){var x=y(),S=r({inst:{value:x,getSnapshot:y}}),E=S[0].inst,A=S[1];return o(function(){E.value=x,E.getSnapshot=y,d(E)&&A({inst:E})},[m,x,y]),i(function(){return d(E)&&A({inst:E}),m(function(){d(E)&&A({inst:E})})},[m]),l(x),x}function d(m){var y=m.getSnapshot;m=m.value;try{var x=y();return!n(m,x)}catch{return!0}}function f(m,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return wv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,wv}var XT;function T7(){return XT||(XT=1,xv.exports=A7()),xv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function C7(){if(QT)return bv;QT=1;var e=Bs(),t=T7();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return bv.useSyncExternalStoreWithSelector=function(f,h,m,y,x){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function T(M){if(!k){if(k=!0,R=M,M=y(M),x!==void 0&&E.hasValue){var D=E.value;if(x(D,M))return O=D}return O=M}if(D=O,r(R,M))return D;var F=y(M);return x!==void 0&&x(D,F)?(R=M,D):(R=M,O=F)}var k=!1,R,O,P=m===void 0?null:m;return[function(){return T(h())},P===null?void 0:function(){return T(P())}]},[h,m,y,x]);var A=i(f,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},bv}var ZT;function N7(){return ZT||(ZT=1,yv.exports=C7()),yv.exports}var R7=N7(),Eb=C.createContext(null),k7=e=>e,wt=()=>{var e=C.useContext(Eb);return e?e.store.dispatch:k7},Yd=()=>{},I7=()=>Yd,P7=(e,t)=>e===t;function we(e){var t=C.useContext(Eb);return R7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:I7,t?t.store.getState:Yd,t?t.store.getState:Yd,t?e:Yd,P7)}function M7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function O7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function D7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var eC=e=>Array.isArray(e)?e:[e];function U7(e){const t=Array.isArray(e[0])?e[0]:e;return D7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function j7(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var L7=class{constructor(e){this.value=e}deref(){return this.value}},F7=typeof WeakRef<"u"?WeakRef:L7,B7=0,tC=1;function Rd(){return{s:B7,v:void 0,o:null,p:null}}function XI(e,t={}){let n=Rd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var m;let u=n;const{length:d}=arguments;for(let y=0,x=d;y<x;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const A=E.get(S);A===void 0?(u=Rd(),E.set(S,u)):u=A}else{let E=u.p;E===null&&(u.p=E=new Map);const A=E.get(S);A===void 0?(u=Rd(),E.set(S,u)):u=A}}const f=u;let h;if(u.s===tC)h=u.v;else if(h=e.apply(null,arguments),o++,r){const y=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;y!=null&&r(y,h)&&(h=y,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new F7(h):h}return f.s=tC,f.v=h,h}return l.clearCache=()=>{n=Rd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function z7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,d={},f=i.pop();typeof f=="object"&&(d=f,f=i.pop()),M7(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...d},{memoize:m,memoizeOptions:y=[],argsMemoize:x=XI,argsMemoizeOptions:S=[]}=h,E=eC(y),A=eC(S),T=U7(i),k=m(function(){return o++,f.apply(null,arguments)},...E),R=x(function(){l++;const P=j7(T,arguments);return u=k.apply(null,P),u},...A);return Object.assign(R,{resultFunc:f,memoizedResultFunc:k,dependencies:T,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Q=z7(XI),q7=Object.assign((e,t=Q)=>{O7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,d)=>(l[n[d]]=u,l),{}))},{withTypes:()=>q7}),_v={},Sv={},Ev={},nC;function $7(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(Ev)),Ev}var Av={},Tv={},rC;function QI(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Tv)),Tv}var iC;function H7(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(Av)),Av}var aC;function G7(){return aC||(aC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$7(),n=H7(),r=xb();function i(o,l,u,d){if(o==null)return[];u=d?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const f=(x,S)=>{let E=x;for(let A=0;A<S.length&&E!=null;++A)E=E[S[A]];return E},h=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:f(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?f(S,x):typeof S=="object"?S[x]:S,m=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return o.map(x=>({original:x,criteria:m.map(S=>h(S,x))})).slice().sort((x,S)=>{for(let E=0;E<m.length;E++){const A=t.compareValues(x.criteria[E],S.criteria[E],u[E]);if(A!==0)return A}return 0}).map(x=>x.original)}e.orderBy=i})(Sv)),Sv}var Cv={},oC;function V7(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,d)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&d<o?l(h,d+1):i.push(h)}};return l(n,0),i}e.flatten=t})(Cv)),Cv}var Nv={},sC;function ZI(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI(),n=Sb(),r=$I(),i=GI();function o(l,u,d){return r.isObject(d)&&(typeof u=="number"&&n.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?i.eq(d[u],l):!1}e.isIterateeCall=o})(Nv)),Nv}var lC;function K7(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7(),n=V7(),r=ZI();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(_v)),_v}var Rv,uC;function Y7(){return uC||(uC=1,Rv=K7().sortBy),Rv}var J7=Y7();const vh=Kr(J7);var eP=e=>e.legend.settings,W7=e=>e.legend.size,X7=e=>e.legend.payload;Q([X7,eP],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?vh(r,n):r});var kd=1;function Q7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=C.useState({height:0,left:0,top:0,width:0}),r=C.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>kd||Math.abs(l.left-t.left)>kd||Math.abs(l.top-t.top)>kd||Math.abs(l.width-t.width)>kd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function rn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Z7=typeof Symbol=="function"&&Symbol.observable||"@@observable",cC=Z7,kv=()=>Math.random().toString(36).substring(7).split("").join("."),e9={INIT:`@@redux/INIT${kv()}`,REPLACE:`@@redux/REPLACE${kv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kv()}`},gf=e9;function Ab(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tP(e,t,n){if(typeof e!="function")throw new Error(rn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rn(1));return n(tP)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((A,T)=>{l.set(T,A)}))}function h(){if(d)throw new Error(rn(3));return i}function m(A){if(typeof A!="function")throw new Error(rn(4));if(d)throw new Error(rn(5));let T=!0;f();const k=u++;return l.set(k,A),function(){if(T){if(d)throw new Error(rn(6));T=!1,f(),l.delete(k),o=null}}}function y(A){if(!Ab(A))throw new Error(rn(7));if(typeof A.type>"u")throw new Error(rn(8));if(typeof A.type!="string")throw new Error(rn(17));if(d)throw new Error(rn(9));try{d=!0,i=r(i,A)}finally{d=!1}return(o=l).forEach(k=>{k()}),A}function x(A){if(typeof A!="function")throw new Error(rn(10));r=A,y({type:gf.REPLACE})}function S(){const A=m;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(rn(11));function k(){const O=T;O.next&&O.next(h())}return k(),{unsubscribe:A(k)}},[cC](){return this}}}return y({type:gf.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:x,[cC]:S}}function t9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:gf.INIT})>"u")throw new Error(rn(12));if(typeof n(void 0,{type:gf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rn(13))})}function nP(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{t9(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let d=!1;const f={};for(let h=0;h<r.length;h++){const m=r[h],y=n[m],x=l[m],S=y(x,u);if(typeof S>"u")throw u&&u.type,new Error(rn(14));f[m]=S,d=d||S!==x}return d=d||r.length!==Object.keys(l).length,d?f:l}}function vf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function n9(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(rn(15))};const l={getState:i.getState,dispatch:(d,...f)=>o(d,...f)},u=e.map(d=>d(l));return o=vf(...u)(i.dispatch),{...i,dispatch:o}}}function rP(e){return Ab(e)&&"type"in e&&typeof e.type=="string"}var iP=Symbol.for("immer-nothing"),dC=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Tr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wn=Object,Ps=Wn.getPrototypeOf,yf="constructor",yh="prototype",ny="configurable",bf="enumerable",Jd="writable",xu="value",Ai=e=>!!e&&!!e[wn];function Or(e){var t;return e?aP(e)||xh(e)||!!e[dC]||!!((t=e[yf])!=null&&t[dC])||wh(e)||_h(e):!1}var r9=Wn[yh][yf].toString(),fC=new WeakMap;function aP(e){if(!e||!Tb(e))return!1;const t=Ps(e);if(t===null||t===Wn[yh])return!0;const n=Wn.hasOwnProperty.call(t,yf)&&t[yf];if(n===Object)return!0;if(!ys(n))return!1;let r=fC.get(n);return r===void 0&&(r=Function.toString.call(n),fC.set(n,r)),r===r9}function bh(e,t,n=!0){ju(e)===0?(n?Reflect.ownKeys(e):Wn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ju(e){const t=e[wn];return t?t.type_:xh(e)?1:wh(e)?2:_h(e)?3:0}var hC=(e,t,n=ju(e))=>n===2?e.has(t):Wn[yh].hasOwnProperty.call(e,t),ry=(e,t,n=ju(e))=>n===2?e.get(t):e[t],xf=(e,t,n,r=ju(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function i9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xh=Array.isArray,wh=e=>e instanceof Map,_h=e=>e instanceof Set,Tb=e=>typeof e=="object",ys=e=>typeof e=="function",Iv=e=>typeof e=="boolean";function a9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var pi=e=>e.copy_||e.base_,Cb=e=>e.modified_?e.copy_:e.base_;function iy(e,t){if(wh(e))return new Map(e);if(_h(e))return new Set(e);if(xh(e))return Array[yh].slice.call(e);const n=aP(e);if(t===!0||t==="class_only"&&!n){const r=Wn.getOwnPropertyDescriptors(e);delete r[wn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u[Jd]===!1&&(u[Jd]=!0,u[ny]=!0),(u.get||u.set)&&(r[l]={[ny]:!0,[Jd]:!0,[bf]:u[bf],[xu]:e[l]})}return Wn.create(Ps(e),r)}else{const r=Ps(e);if(r!==null&&n)return{...e};const i=Wn.create(r);return Wn.assign(i,e)}}function Nb(e,t=!1){return Sh(e)||Ai(e)||!Or(e)||(ju(e)>1&&Wn.defineProperties(e,{set:Id,add:Id,clear:Id,delete:Id}),Wn.freeze(e),t&&bh(e,(n,r)=>{Nb(r,!0)},!1)),e}function o9(){Tr(2)}var Id={[xu]:o9};function Sh(e){return e===null||!Tb(e)?!0:Wn.isFrozen(e)}var wf="MapSet",ay="Patches",pC="ArrayMethods",oP={};function lo(e){const t=oP[e];return t||Tr(0,e),t}var mC=e=>!!oP[e],wu,sP=()=>wu,s9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:mC(wf)?lo(wf):void 0,arrayMethodsPlugin_:mC(pC)?lo(pC):void 0});function gC(e,t){t&&(e.patchPlugin_=lo(ay),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function oy(e){sy(e),e.drafts_.forEach(l9),e.drafts_=null}function sy(e){e===wu&&(wu=e.parent_)}var vC=e=>wu=s9(wu,e);function l9(e){const t=e[wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[wn].modified_&&(oy(t),Tr(4)),Or(e)&&(e=bC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[wn].base_,e,t)}else e=bC(t,n);return u9(t,e,!0),oy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iP?e:void 0}function bC(e,t){if(Sh(t))return t;const n=t[wn];if(!n)return _f(t,e.handledSet_,e);if(!Eh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);cP(n,e)}return n.copy_}function u9(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nb(t,n)}function lP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Eh=(e,t)=>e.scope_===t,c9=[];function uP(e,t,n,r){const i=pi(e),o=e.type_;if(r!==void 0&&ry(i,r,o)===t){xf(i,r,n,o);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;bh(i,(d,f)=>{if(Ai(f)){const h=u.get(f)||[];h.push(d),u.set(f,h)}})}const l=e.draftLocations_.get(t)??c9;for(const u of l)xf(i,u,n,o)}function d9(e,t,n){e.callbacks_.push(function(i){var u;const o=t;if(!o||!Eh(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const l=Cb(o);uP(e,o.draft_??o,l,n),cP(o,i)})}function cP(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const o=i.getPath(e);o&&i.generatePatches_(e,o,t)}lP(e)}}function f9(e,t,n){const{scope_:r}=e;if(Ai(n)){const i=n[wn];Eh(i,r)&&i.callbacks_.push(function(){Wd(e);const l=Cb(i);uP(e,n,l,t)})}else Or(n)&&e.callbacks_.push(function(){const o=pi(e);e.type_===3?o.has(n)&&_f(n,r.handledSet_,r):ry(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&_f(ry(e.copy_,t,e.type_),r.handledSet_,r)})}function _f(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Ai(e)||t.has(e)||!Or(e)||Sh(e)||(t.add(e),bh(e,(r,i)=>{if(Ai(i)){const o=i[wn];if(Eh(o,n)){const l=Cb(o);xf(e,r,l,e.type_),lP(o)}}else Or(i)&&_f(i,t,n)})),e}function h9(e,t){const n=xh(e),r={type_:n?1:0,scope_:t?t.scope_:sP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=Sf;n&&(i=[r],o=_u);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,[u,r]}var Sf={get(e,t){if(t===wn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=pi(e);if(!hC(i,t,e.type_))return p9(e,i,t);const o=i[t];if(e.finalized_||!Or(o)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&a9(t))return o;if(o===Pv(e.base_,t)){Wd(e);const l=e.type_===1?+t:t,u=uy(e.scope_,o,e,l);return e.copy_[l]=u}return o},has(e,t){return t in pi(e)},ownKeys(e){return Reflect.ownKeys(pi(e))},set(e,t,n){const r=dP(pi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Pv(pi(e),t),o=i==null?void 0:i[wn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(i9(n,i)&&(n!==void 0||hC(e.base_,t,e.type_)))return!0;Wd(e),ly(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),f9(e,t,n)),!0},deleteProperty(e,t){return Wd(e),Pv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ly(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Jd]:!0,[ny]:e.type_!==1||t!=="length",[bf]:r[bf],[xu]:n[t]}},defineProperty(){Tr(11)},getPrototypeOf(e){return Ps(e.base_)},setPrototypeOf(){Tr(12)}},_u={};for(let e in Sf){let t=Sf[e];_u[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}_u.deleteProperty=function(e,t){return _u.set.call(this,e,t,void 0)};_u.set=function(e,t,n){return Sf.set.call(this,e[0],t,n,e[0])};function Pv(e,t){const n=e[wn];return(n?pi(n):e)[t]}function p9(e,t,n){var i;const r=dP(t,n);return r?xu in r?r[xu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function dP(e,t){if(!(t in e))return;let n=Ps(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ps(n)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function Wd(e){e.copy_||(e.assigned_=new Map,e.copy_=iy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m9=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ys(n)&&!ys(r)){const l=r;r=n;const u=this;return function(f=l,...h){return u.produce(f,m=>r.call(this,m,...h))}}ys(r)||Tr(6),i!==void 0&&!ys(i)&&Tr(7);let o;if(Or(n)){const l=vC(this),u=uy(l,n,void 0);let d=!0;try{o=r(u),d=!1}finally{d?oy(l):sy(l)}return gC(l,i),yC(o,l)}else if(!n||!Tb(n)){if(o=r(n),o===void 0&&(o=n),o===iP&&(o=void 0),this.autoFreeze_&&Nb(o,!0),i){const l=[],u=[];lo(ay).generateReplacementPatches_(n,o,{patches_:l,inversePatches_:u}),i(l,u)}return o}else Tr(1,n)},this.produceWithPatches=(n,r)=>{if(ys(n))return(u,...d)=>this.produceWithPatches(u,f=>n(f,...d));let i,o;return[this.produce(n,r,(u,d)=>{i=u,o=d}),i,o]},Iv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Iv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Iv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Or(t)||Tr(8),Ai(t)&&(t=Ir(t));const n=vC(this),r=uy(n,t,void 0);return r[wn].isManual_=!0,sy(n),r}finishDraft(t,n){const r=t&&t[wn];(!r||!r.isManual_)&&Tr(9);const{scope_:i}=r;return gC(i,n),yC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=lo(ay).applyPatches_;return Ai(t)?i(t,n):this.produce(t,o=>i(o,n))}};function uy(e,t,n,r){const[i,o]=wh(t)?lo(wf).proxyMap_(t,n):_h(t)?lo(wf).proxySet_(t,n):h9(t,n);return((n==null?void 0:n.scope_)??sP()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?d9(n,o,r):o.callbacks_.push(function(d){var h;(h=d.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:f}=d;o.modified_&&f&&f.generatePatches_(o,[],d)}),i}function Ir(e){return Ai(e)||Tr(10,e),fP(e)}function fP(e){if(!Or(e)||Sh(e))return e;const t=e[wn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=iy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=iy(e,!0);return bh(n,(i,o)=>{xf(n,i,fP(o))},r),t&&(t.finalized_=!1),n}var g9=new m9,hP=g9.produce;function pP(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var v9=pP(),y9=pP,b9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vf:vf.apply(null,arguments)};function vr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Xn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>rP(r)&&r.type===e,n}var mP=class su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,su.prototype)}static get[Symbol.species](){return su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new su(...t[0].concat(this)):new su(...t.concat(this))}};function xC(e){return Or(e)?hP(e,()=>{}):e}function Pd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function x9(e){return typeof e=="boolean"}var w9=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new mP;return n&&(x9(n)?l.push(v9):l.push(y9(n.extraArgument))),l},gP="RTK_autoBatch",ct=()=>e=>({payload:e,meta:{[gP]:!0}}),wC=e=>t=>{setTimeout(t,e)},vP=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wC(10):e.type==="callback"?e.queueNotification:wC(e.timeout),f=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),y=r.subscribe(m);return u.add(h),()=>{y(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[gP]),o=!i,o&&(l||(l=!0,d(f))),r.dispatch(h)}finally{i=!0}}})},_9=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new mP(e);return r&&i.push(vP(typeof r=="object"?r:void 0)),i};function S9(e){const t=w9(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(Ab(n))u=nP(n);else throw new Error(Xn(1));let d;typeof r=="function"?d=r(t):d=t();let f=vf;i&&(f=b9({trace:!1,...typeof i=="object"&&i}));const h=n9(...d),m=_9(h);let y=typeof l=="function"?l(m):m();const x=f(...y);return tP(u,o,x)}function yP(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Xn(28));if(u in t)throw new Error(Xn(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function E9(e){return typeof e=="function"}function A9(e,t){let[n,r,i]=yP(t),o;if(E9(e))o=()=>xC(e());else{const u=xC(e);o=()=>u}function l(u=o(),d){let f=[n[d.type],...r.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,m)=>{if(m)if(Ai(h)){const x=m(h,d);return x===void 0?h:x}else{if(Or(h))return hP(h,y=>m(y,d));{const y=m(h,d);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},u)}return l.getInitialState=o,l}var T9="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",C9=(e=21)=>{let t="",n=e;for(;n--;)t+=T9[Math.random()*64|0];return t},N9=Symbol.for("rtk-slice-createasyncthunk");function R9(e,t){return`${e}/${t}`}function k9({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[N9];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Xn(11));const u=(typeof i.reducers=="function"?i.reducers(P9()):i.reducers)||{},d=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,P){const M=typeof O=="string"?O:O.type;if(!M)throw new Error(Xn(12));if(M in f.sliceCaseReducersByType)throw new Error(Xn(13));return f.sliceCaseReducersByType[M]=P,h},addMatcher(O,P){return f.sliceMatchers.push({matcher:O,reducer:P}),h},exposeAction(O,P){return f.actionCreators[O]=P,h},exposeCaseReducer(O,P){return f.sliceCaseReducersByName[O]=P,h}};d.forEach(O=>{const P=u[O],M={reducerName:O,type:R9(o,O),createNotation:typeof i.reducers=="function"};O9(P)?U9(M,P,h,t):M9(M,P,h)});function m(){const[O={},P=[],M=void 0]=typeof i.extraReducers=="function"?yP(i.extraReducers):[i.extraReducers],D={...O,...f.sliceCaseReducersByType};return A9(i.initialState,F=>{for(let B in D)F.addCase(B,D[B]);for(let B of f.sliceMatchers)F.addMatcher(B.matcher,B.reducer);for(let B of P)F.addMatcher(B.matcher,B.reducer);M&&F.addDefaultCase(M)})}const y=O=>O,x=new Map,S=new WeakMap;let E;function A(O,P){return E||(E=m()),E(O,P)}function T(){return E||(E=m()),E.getInitialState()}function k(O,P=!1){function M(F){let B=F[O];return typeof B>"u"&&P&&(B=Pd(S,M,T)),B}function D(F=y){const B=Pd(x,P,()=>new WeakMap);return Pd(B,F,()=>{const J={};for(const[U,G]of Object.entries(i.selectors??{}))J[U]=I9(G,F,()=>Pd(S,F,T),P);return J})}return{reducerPath:O,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const R={name:o,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:T,...k(l),injectInto(O,{reducerPath:P,...M}={}){const D=P??l;return O.inject({reducerPath:D,reducer:A},M),{...R,...k(D,!0)}}};return R}}function I9(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Pn=k9();function P9(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function M9({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!D9(r))throw new Error(Xn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?vr(e,l):vr(e))}function O9(e){return e._reducerDefinitionType==="asyncThunk"}function D9(e){return e._reducerDefinitionType==="reducerWithPrepare"}function U9({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Xn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:d,settled:f,options:h}=n,m=i(e,o,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),d&&r.addCase(m.rejected,d),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:l||Md,pending:u||Md,rejected:d||Md,settled:f||Md})}function Md(){}var j9="task",bP="listener",xP="completed",Rb="cancelled",L9=`task-${Rb}`,F9=`task-${xP}`,cy=`${bP}-${Rb}`,B9=`${bP}-${xP}`,Ah=class{constructor(e){mg(this,"name","TaskAbortError");mg(this,"message");this.code=e,this.message=`${j9} ${Rb} (reason: ${e})`}},kb=(e,t)=>{if(typeof e!="function")throw new TypeError(Xn(32))},Ef=()=>{},wP=(e,t=Ef)=>(e.catch(t),e),_P=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ro=e=>{if(e.aborted)throw new Ah(e.reason)};function SP(e,t){let n=Ef;return new Promise((r,i)=>{const o=()=>i(new Ah(e.reason));if(e.aborted){o();return}n=_P(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Ef})}var z9=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ah?"cancelled":"rejected",error:n}}finally{t==null||t()}},Af=e=>t=>wP(SP(e,t).then(n=>(ro(e),n))),EP=e=>{const t=Af(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Cs}=Object,_C={},Th="listenerMiddleware",q9=(e,t)=>{const n=r=>_P(e,()=>r.abort(e.reason));return(r,i)=>{kb(r);const o=new AbortController;n(o);const l=z9(async()=>{ro(e),ro(o.signal);const u=await r({pause:Af(o.signal),delay:EP(o.signal),signal:o.signal});return ro(o.signal),u},()=>o.abort(F9));return i!=null&&i.autoJoin&&t.push(l.catch(Ef)),{result:Af(e)(l),cancel(){o.abort(L9)}}}},$9=(e,t)=>{const n=async(r,i)=>{ro(t);let o=()=>{};const u=[new Promise((d,f)=>{let h=e({predicate:r,effect:(m,y)=>{y.unsubscribe(),d([m,y.getState(),y.getOriginalState()])}});o=()=>{h(),f()}})];i!=null&&u.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await SP(t,Promise.race(u));return ro(t),d}finally{o()}};return(r,i)=>wP(n(r,i))},AP=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=vr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Xn(21));return kb(o),{predicate:i,type:t,effect:o}},TP=Cs(e=>{const{type:t,predicate:n,effect:r}=AP(e);return{id:C9(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Xn(22))}}},{withTypes:()=>TP}),SC=(e,t)=>{const{type:n,effect:r,predicate:i}=AP(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},dy=e=>{e.pending.forEach(t=>{t.abort(cy)})},H9=(e,t)=>()=>{for(const n of t.keys())dy(n);e.clear()},EC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},CP=Cs(vr(`${Th}/add`),{withTypes:()=>CP}),G9=vr(`${Th}/removeAll`),NP=Cs(vr(`${Th}/remove`),{withTypes:()=>NP}),V9=(...e)=>{console.error(`${Th}/error`,...e)},Lu=(e={})=>{const t=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:o,onError:l=V9}=e;kb(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S!=null&&S.cancelActive&&dy(x)}),d=x=>{const S=SC(t,x)??TP(x);return u(S)};Cs(d,{withTypes:()=>d});const f=x=>{const S=SC(t,x);return S&&(S.unsubscribe(),x.cancelActive&&dy(S)),!!S};Cs(f,{withTypes:()=>f});const h=async(x,S,E,A)=>{const T=new AbortController,k=$9(d,T.signal),R=[];try{x.pending.add(T),r(x),await Promise.resolve(x.effect(S,Cs({},E,{getOriginalState:A,condition:(O,P)=>k(O,P).then(Boolean),take:k,delay:EP(T.signal),pause:Af(T.signal),extra:o,signal:T.signal,fork:q9(T.signal,R),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((O,P,M)=>{O!==T&&(O.abort(cy),M.delete(O))})},cancel:()=>{T.abort(cy),x.pending.delete(T)},throwIfCancelled:()=>{ro(T.signal)}})))}catch(O){O instanceof Ah||EC(l,O,{raisedBy:"effect"})}finally{await Promise.all(R),T.abort(B9),i(x),x.pending.delete(T)}},m=H9(t,n);return{middleware:x=>S=>E=>{if(!rP(E))return S(E);if(CP.match(E))return d(E.payload);if(G9.match(E)){m();return}if(NP.match(E))return f(E.payload);let A=x.getState();const T=()=>{if(A===_C)throw new Error(Xn(23));return A};let k;try{if(k=S(E),t.size>0){const R=x.getState(),O=Array.from(t.values());for(const P of O){let M=!1;try{M=P.predicate(E,R,A)}catch(D){M=!1,EC(l,D,{raisedBy:"predicate"})}M&&h(P,E,x,T)}}}finally{A=_C}return k},startListening:d,stopListening:f,clearListeners:m}};function Xn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RP=Pn({name:"chartLayout",initialState:K9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Y9,setLayout:J9,setChartSize:W9,setScale:X9}=RP.actions,Q9=RP.reducer;function kP(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function ht(e){return Number.isFinite(e)}function Gr(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function AC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(n),!0).forEach(function(r){Z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z9(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ln(e,t,n){return $t(e)||$t(t)?n:Hr(t)?Is(e,t,n):typeof t=="function"?t(e):n}var nK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&ye(e[o]))return _s(_s({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&ye(e[l]))return _s(_s({},e),{},{[l]:e[l]+(i||0)})}return e},go=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",IP=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},PP=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:m,niceTicks:y,axisType:x}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=x==="angleAxis"&&o&&o.length>=2?kn(o[0]-o[1])*2*E:E,m||y){var A=(m||y||[]).map((T,k)=>{var R=r?r.indexOf(T):T;return{coordinate:l(R)+E,value:T,offset:E,index:k}});return A.filter(T=>!Pr(T.coordinate))}return d&&f?f.map((T,k)=>({coordinate:l(T)+E,value:T,index:k,offset:E})):l.ticks&&h!=null?l.ticks(h).map((T,k)=>({coordinate:l(T)+E,value:T,offset:E,index:k})):l.domain().map((T,k)=>({coordinate:l(T)+E,value:r?r[T]:T,index:k,offset:E}))},TC=1e-4,rK=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-TC,o=Math.max(r[0],r[1])+TC,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},iK=(e,t)=>{if(!t||t.length!==2||!ye(t[0])||!ye(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ye(e[0])||e[0]<n)&&(i[0]=n),(!ye(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},aK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0,u=0;u<n;++u){var d=e[u],f=d==null?void 0:d[i];if(f!=null){var h=f[1],m=f[0],y=Pr(h)?m:h;y>=0?(f[0]=o,f[1]=o+y,o=h):(f[0]=l,f[1]=l+y,l=h)}}}},oK=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var o=0,l=0;l<n;++l){var u=e[l],d=u==null?void 0:u[i];if(d!=null){var f=Pr(d[1])?d[0]:d[1];f>=0?(d[0]=o,d[1]=o+f,o=d[1]):(d[0]=0,d[1]=0)}}}},sK={sign:aK,expand:PV,none:so,silhouette:MV,wiggle:OV,positive:oK},lK=(e,t,n)=>{var r,i=(r=sK[n])!==null&&r!==void 0?r:so,o=IV().keys(t).value((u,d)=>Number(ln(u,d,0))).order(ey).offset(i),l=o(e);return l.forEach((u,d)=>{u.forEach((f,h)=>{var m=ln(e[h],t[d],0);Array.isArray(m)&&m.length===2&&ye(m[0])&&ye(m[1])&&(f[0]=m[0],f[1]=m[1])})}),l};function uK(e){return e==null?void 0:String(e)}var CC=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=ln(o,t.dataKey,t.scale.domain()[l]);return $t(u)?null:t.scale(u)-i/2+r},cK=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},dK=e=>{var t=e.flat(2).filter(ye);return[Math.min(...t),Math.max(...t)]},fK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],hK=(e,t,n)=>{if(e!=null)return fK(Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:l}=o,u=l.reduce((d,f)=>{var h=kP(f,t,n),m=dK(h);return!ht(m[0])||!ht(m[1])?d:[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},NC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=vh(t,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var d=i[l],f=i[l-1];o=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function kC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return _s(_s({},t),{},{dataKey:n,payload:r,value:i,name:o})}function MP(e,t){if(e)return String(e);if(typeof t=="string")return t}var pK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},mK=(e,t)=>t==="centric"?e.angle:e.radius,Oi=e=>e.layout.width,Di=e=>e.layout.height,gK=e=>e.layout.scale,OP=e=>e.layout.margin,Ch=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Nh=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vK="data-recharts-item-index",yK="data-recharts-item-id",Fu=60;function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(r){bK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bK(e,t,n){return(t=xK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xK(e){var t=wK(e,"string");return typeof t=="symbol"?t:t+""}function wK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _K=e=>e.brush.height;function SK(e){var t=Nh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fu;return n+i}return n},0)}function EK(e){var t=Nh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Fu;return n+i}return n},0)}function AK(e){var t=Ch(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function TK(e){var t=Ch(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Gt=Q([Oi,Di,OP,_K,SK,EK,AK,TK,eP,W7],(e,t,n,r,i,o,l,u,d,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},y=Od(Od({},m),h),x=y.bottom;y.bottom+=r,y=nK(y,d,f);var S=e-y.left-y.right,E=t-y.top-y.bottom;return Od(Od({brushBottom:x},y),{},{width:Math.max(S,0),height:Math.max(E,0)})}),CK=Q(Gt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ib=Q(Oi,Di,(e,t)=>({x:0,y:0,width:e,height:t})),NK=C.createContext(null),Mn=()=>C.useContext(NK)!=null,Rh=e=>e.brush,kh=Q([Rh,Gt,OP],(e,t,n)=>({height:e.height,x:ye(e.x)?e.x:t.left,y:ye(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ye(e.width)?e.width:t.width})),Mv={},Ov={},Dv={},PC;function RK(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const d=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{f&&h(),E()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,m()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},E=()=>{S(),l=void 0,u=null},A=()=>{h()},T=function(...k){if(i!=null&&i.aborted)return;l=this,u=k;const R=y==null;x(),d&&R&&h()};return T.schedule=x,T.cancel=E,T.flush=A,i==null||i.addEventListener("abort",E,{once:!0}),T}e.debounce=t})(Dv)),Dv}var MC;function kK(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RK();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:d}=o,f=Array(2);l&&(f[0]="leading"),u&&(f[1]="trailing");let h,m=null;const y=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:f}),x=function(...E){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(h=r.apply(this,E),m=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,E),h)},S=()=>(y.flush(),h);return x.cancel=y.cancel,x.flush=S,x}e.debounce=n})(Ov)),Ov}var OC;function IK(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kK();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Mv)),Mv}var Uv,DC;function PK(){return DC||(DC=1,Uv=IK().throttle),Uv}var MK=PK();const OK=Kr(MK);var Cf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},DP=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=Ei(r)?e:Number(r),d=Ei(i)?t:Number(i);return o&&o>0&&(u?d=u/o:d&&(u=d*o),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:u,calculatedHeight:d}},DK={width:0,height:0,overflow:"visible"},UK={width:0,overflowX:"visible"},jK={height:0,overflowY:"visible"},LK={},FK=e=>{var{width:t,height:n}=e,r=Ei(t),i=Ei(n);return r&&i?DK:r?UK:i?jK:LK};function BK(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}function UC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(n),!0).forEach(function(r){zK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zK(e,t,n){return(t=qK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UP=C.createContext({width:-1,height:-1});function HK(e){return Gr(e.width)&&Gr(e.height)}function jP(e){var{children:t,width:n,height:r}=e,i=C.useMemo(()=>({width:n,height:r}),[n,r]);return HK(i)?C.createElement(UP.Provider,{value:i},t):null}var Pb=()=>C.useContext(UP),GK=C.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:d,children:f,debounce:h=0,id:m,className:y,onResize:x,style:S={}}=e,E=C.useRef(null),A=C.useRef();A.current=x,C.useImperativeHandle(t,()=>E.current);var[T,k]=C.useState({containerWidth:r.width,containerHeight:r.height}),R=C.useCallback((F,B)=>{k(J=>{var U=Math.round(F),G=Math.round(B);return J.containerWidth===U&&J.containerHeight===G?J:{containerWidth:U,containerHeight:G}})},[]);C.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Uu;var F=G=>{var Z,{width:Y,height:ie}=G[0].contentRect;R(Y,ie),(Z=A.current)===null||Z===void 0||Z.call(A,Y,ie)};h>0&&(F=OK(F,h,{trailing:!0,leading:!1}));var B=new ResizeObserver(F),{width:J,height:U}=E.current.getBoundingClientRect();return R(J,U),B.observe(E.current),()=>{B.disconnect()}},[R,h]);var{containerWidth:O,containerHeight:P}=T;Cf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:D}=DP(O,P,{width:i,height:o,aspect:n,maxHeight:d});return Cf(M!=null&&M>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,D,i,o,l,u,n),C.createElement("div",{id:m?"".concat(m):void 0,className:st("recharts-responsive-container",y),style:jC(jC({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:d}),ref:E},C.createElement("div",{style:FK({width:i,height:o})},C.createElement(jP,{width:M,height:D},f)))}),VK=C.forwardRef((e,t)=>{var n=Pb();if(Gr(n.width)&&Gr(n.height))return e.children;var{width:r,height:i}=BK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=DP(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ye(o)&&ye(l)?C.createElement(jP,{width:o,height:l},e.children):C.createElement(GK,fy({},e,{width:r,height:i,ref:t}))});function LP(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ih=()=>{var e,t=Mn(),n=we(CK),r=we(kh),i=(e=we(Rh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},KK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FP=()=>{var e;return(e=we(Gt))!==null&&e!==void 0?e:KK},BP=()=>we(Oi),zP=()=>we(Di),Je=e=>e.layout.layoutType,Bu=()=>we(Je),YK=()=>{var e=Bu();return e!==void 0},Ph=e=>{var t=wt(),n=Mn(),{width:r,height:i}=e,o=Pb(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),C.useEffect(()=>{!n&&Gr(l)&&Gr(u)&&t(W9({width:l,height:u}))},[t,n,l,u]),null},qP=Symbol.for("immer-nothing"),LC=Symbol.for("immer-draftable"),Qn=Symbol.for("immer-state");function Cr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Su=Object.getPrototypeOf;function Ms(e){return!!e&&!!e[Qn]}function uo(e){var t;return e?$P(e)||Array.isArray(e)||!!e[LC]||!!((t=e.constructor)!=null&&t[LC])||zu(e)||Oh(e):!1}var JK=Object.prototype.constructor.toString(),FC=new WeakMap;function $P(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=FC.get(n);return r===void 0&&(r=Function.toString.call(n),FC.set(n,r)),r===JK}function Nf(e,t,n=!0){Mh(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Mh(e){const t=e[Qn];return t?t.type_:Array.isArray(e)?1:zu(e)?2:Oh(e)?3:0}function hy(e,t){return Mh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function HP(e,t,n){const r=Mh(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function WK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function zu(e){return e instanceof Map}function Oh(e){return e instanceof Set}function Ka(e){return e.copy_||e.base_}function py(e,t){if(zu(e))return new Map(e);if(Oh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=$P(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Qn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Su(e),r)}else{const r=Su(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Mb(e,t=!1){return Dh(e)||Ms(e)||!uo(e)||(Mh(e)>1&&Object.defineProperties(e,{set:Dd,add:Dd,clear:Dd,delete:Dd}),Object.freeze(e),t&&Object.values(e).forEach(n=>Mb(n,!0))),e}function XK(){Cr(2)}var Dd={value:XK};function Dh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var QK={};function co(e){const t=QK[e];return t||Cr(0,e),t}var Eu;function GP(){return Eu}function ZK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BC(e,t){t&&(co("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function my(e){gy(e),e.drafts_.forEach(eY),e.drafts_=null}function gy(e){e===Eu&&(Eu=e.parent_)}function zC(e){return Eu=ZK(Eu,e)}function eY(e){const t=e[Qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Qn].modified_&&(my(t),Cr(4)),uo(e)&&(e=Rf(t,e),t.parent_||kf(t,e)),t.patches_&&co("Patches").generateReplacementPatches_(n[Qn].base_,e,t.patches_,t.inversePatches_)):e=Rf(t,n,[]),my(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qP?e:void 0}function Rf(e,t,n){if(Dh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Qn];if(!i)return Nf(t,(o,l)=>$C(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return kf(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Nf(l,(d,f)=>$C(e,i,o,d,f,n,u),r),kf(e,o,!1),n&&e.patches_&&co("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function $C(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Dh(i);if(!(u&&!l)){if(Ms(i)){const d=o&&t&&t.type_!==3&&!hy(t.assigned_,r)?o.concat(r):void 0,f=Rf(e,i,d);if(HP(n,r,f),Ms(f))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(uo(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Rf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(zu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&kf(e,i)}}}function kf(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mb(t,n)}function tY(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:GP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Ob;n&&(i=[r],o=Au);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var Ob={get(e,t){if(t===Qn)return e;const n=Ka(e);if(!hy(n,t))return nY(e,n,t);const r=n[t];return e.finalized_||!uo(r)?r:r===jv(e.base_,t)?(Lv(e),e.copy_[t]=yy(r,e)):r},has(e,t){return t in Ka(e)},ownKeys(e){return Reflect.ownKeys(Ka(e))},set(e,t,n){const r=VP(Ka(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=jv(Ka(e),t),o=i==null?void 0:i[Qn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(WK(n,i)&&(n!==void 0||hy(e.base_,t)))return!0;Lv(e),vy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Lv(e),vy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ka(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Cr(11)},getPrototypeOf(e){return Su(e.base_)},setPrototypeOf(){Cr(12)}},Au={};Nf(Ob,(e,t)=>{Au[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Au.deleteProperty=function(e,t){return Au.set.call(this,e,t,void 0)};Au.set=function(e,t,n){return Ob.set.call(this,e[0],t,n,e[0])};function jv(e,t){const n=e[Qn];return(n?Ka(n):e)[t]}function nY(e,t,n){var i;const r=VP(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function VP(e,t){if(!(t in e))return;let n=Su(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Su(n)}}function vy(e){e.modified_||(e.modified_=!0,e.parent_&&vy(e.parent_))}function Lv(e){e.copy_||(e.copy_=py(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(d=o,...f){return l.produce(d,h=>n.call(this,h,...f))}}typeof n!="function"&&Cr(6),r!==void 0&&typeof r!="function"&&Cr(7);let i;if(uo(t)){const o=zC(this),l=yy(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?my(o):gy(o)}return BC(o,r),qC(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===qP&&(i=void 0),this.autoFreeze_&&Mb(i,!0),r){const o=[],l=[];co("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Cr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,d=>t(d,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){uo(e)||Cr(8),Ms(e)&&(e=iY(e));const t=zC(this),n=yy(e,void 0);return n[Qn].isManual_=!0,gy(t),n}finishDraft(e,t){const n=e&&e[Qn];(!n||!n.isManual_)&&Cr(9);const{scope_:r}=n;return BC(r,t),qC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=co("Patches").applyPatches_;return Ms(e)?r(e,t):this.produce(e,i=>r(i,t))}};function yy(e,t){const n=zu(e)?co("MapSet").proxyMap_(e,t):Oh(e)?co("MapSet").proxySet_(e,t):tY(e,t);return(t?t.scope_:GP()).drafts_.push(n),n}function iY(e){return Ms(e)||Cr(10,e),KP(e)}function KP(e){if(!uo(e)||Dh(e))return e;const t=e[Qn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=py(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=py(e,!0);return Nf(n,(i,o)=>{HP(n,i,KP(o))},r),t&&(t.finalized_=!1),n}var aY=new rY;aY.produce;var oY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YP=Pn({name:"legend",initialState:oY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ct()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ir(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ct()},removeLegendPayload:{reducer(e,t){var n=Ir(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ct()}}}),{setLegendSize:Pse,setLegendSettings:Mse,addLegendPayload:sY,replaceLegendPayload:lY,removeLegendPayload:uY}=YP.actions,cY=YP.reducer;function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){dY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dY(e,t,n){return(t=fY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pY(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var mY=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:m,accessibilityLayer:y=!1}=e,x=()=>{if(o&&o.length){var P={padding:0,margin:0},M=(u?vh(o,u):o).map((D,F)=>{if(D.type==="none")return null;var B=D.formatter||l||pY,{value:J,name:U}=D,G=J,Z=U;if(B){var Y=B(J,U,D,F,o);if(Array.isArray(Y))[G,Z]=Y;else if(Y!=null)G=Y;else return null}var ie=Fv({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:ie},Hr(Z)?C.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Hr(Z)?C.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,C.createElement("span",{className:"recharts-tooltip-item-value"},G),C.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:P},M)}return null},S=Fv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=Fv({margin:0},i),A=!$t(h),T=A?h:"",k=st("recharts-default-tooltip",d),R=st("recharts-tooltip-label",f);A&&m&&o!==void 0&&o!==null&&(T=m(h,o));var O=y?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",by({className:k,style:S},O),C.createElement("p",{className:R,style:E},C.isValidElement(T)?T:"".concat(T)),x())},Wl="recharts-tooltip-wrapper",gY={visibility:"hidden"};function vY(e){var{coordinate:t,translateX:n,translateY:r}=e;return st(Wl,{["".concat(Wl,"-right")]:ye(n)&&t&&ye(t.x)&&n>=t.x,["".concat(Wl,"-left")]:ye(n)&&t&&ye(t.x)&&n<t.x,["".concat(Wl,"-bottom")]:ye(r)&&t&&ye(t.y)&&r>=t.y,["".concat(Wl,"-top")]:ye(r)&&t&&ye(t.y)&&r<t.y})}function GC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(o&&ye(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var y=d[r];if(y==null)return 0;if(l[r]){var x=h,S=y;return x<S?Math.max(m,y):Math.max(h,y)}if(f==null)return 0;var E=m+u,A=y+f;return E>A?Math.max(h,y):Math.max(m,y)}function yY(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function bY(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:d}=e,f,h,m;return l.height>0&&l.width>0&&n?(h=GC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=GC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=yY({translateX:h,translateY:m,useTranslate3d:u})):f=gY,{cssProperties:f,cssClasses:vY({translateX:h,translateY:m,coordinate:n})}}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){xy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xy(e,t,n){return(t=xY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _Y extends C.PureComponent{constructor(){super(...arguments),xy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:d,offset:f,position:h,reverseDirection:m,useTranslate3d:y,viewBox:x,wrapperStyle:S,lastBoundingBox:E,innerRef:A,hasPortalFromProps:T}=this.props,{cssClasses:k,cssProperties:R}=bY({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:y,viewBox:x}),O=T?{}:Ud(Ud({transition:d&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ud(Ud({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:A},o)}}var JP=()=>{var e;return(e=we(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(null,arguments)}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){SY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SY(e,t,n){return(t=EY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JC={curveBasisClosed:xV,curveBasisOpen:wV,curveBasis:bV,curveBumpX:aV,curveBumpY:oV,curveLinearClosed:_V,curveLinear:mh,curveMonotoneX:SV,curveMonotoneY:EV,curveNatural:AV,curveStep:TV,curveStepAfter:NV,curveStepBefore:CV},If=e=>ht(e.x)&&ht(e.y),WC=e=>e.base!=null&&If(e.base)&&If(e),Xl=e=>e.x,Ql=e=>e.y,TY=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Du(e));return(n==="curveMonotone"||n==="curveBump")&&t?JC["".concat(n).concat(t==="vertical"?"Y":"X")]:JC[n]||mh},CY=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=TY(t,i),u=o?n.filter(If):n,d;if(Array.isArray(r)){var f=n.map((x,S)=>YC(YC({},x),{},{base:r[S]}));i==="vertical"?d=Nd().y(Ql).x1(Xl).x0(x=>x.base.x):d=Nd().x(Xl).y1(Ql).y0(x=>x.base.y);var h=d.defined(WC).curve(l),m=o?f.filter(WC):f;return h(m)}i==="vertical"&&ye(r)?d=Nd().y(Ql).x1(Xl).x0(r):ye(r)?d=Nd().x(Xl).y1(Ql).y0(r):d=TI().x(Xl).y(Ql);var y=d.defined(If).curve(l);return y(u)},WP=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Bu();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},u=n&&n.length?CY(l):r;return C.createElement("path",wy({},_i(e),ZV(e),{className:st("recharts-curve",t),d:u===null?void 0:u,ref:i}))},NY=["x","y","top","left","width","height","className"];function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_y.apply(null,arguments)}function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(n),!0).forEach(function(r){kY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MY(e,t){if(e==null)return{};var n,r,i=OY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var DY=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),UY=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,d=MY(e,NY),f=RY({x:t,y:n,top:r,left:i,width:o,height:l},d);return!ye(t)||!ye(n)||!ye(o)||!ye(l)||!ye(r)||!ye(i)?null:C.createElement("path",_y({},gr(f),{className:st("recharts-cross",u),d:DY(t,n,o,l,r,i)}))};function jY(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){LY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LY(e,t,n){return(t=FY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),XP=(e,t,n)=>e.map(r=>"".concat(zY(r)," ").concat(t,"ms ").concat(n)).join(","),qY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Tu=(e,t)=>Object.keys(t).reduce((n,r)=>ZC(ZC({},n),{},{[r]:e(r,t[r])}),{});function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(r){$Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Y(e,t,n){return(t=HY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HY(e){var t=GY(e,"string");return typeof t=="symbol"?t:t+""}function GY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pf=(e,t,n)=>e+(t-e)*n,Sy=e=>{var{from:t,to:n}=e;return t!==n},QP=(e,t,n)=>{var r=Tu((i,o)=>{if(Sy(o)){var[l,u]=e(o.from,o.to,o.velocity);return Pt(Pt({},o),{},{from:l,velocity:u})}return o},t);return n<1?Tu((i,o)=>Sy(o)&&r[i]!=null?Pt(Pt({},o),{},{velocity:Pf(o.velocity,r[i].velocity,n),from:Pf(o.from,r[i].from,n)}):o,t):QP(e,r,n-1)};function VY(e,t,n,r,i,o){var l,u=r.reduce((y,x)=>Pt(Pt({},y),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),d=()=>Tu((y,x)=>x.from,u),f=()=>!Object.values(u).filter(Sy).length,h=null,m=y=>{l||(l=y);var x=y-l,S=x/n.dt;u=QP(n,u,S),i(Pt(Pt(Pt({},e),t),d())),l=y,f()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var y;(y=h)===null||y===void 0||y()})}function KY(e,t,n,r,i,o,l){var u=null,d=i.reduce((m,y)=>{var x=e[y],S=t[y];return x==null||S==null?m:Pt(Pt({},m),{},{[y]:[x,S]})},{}),f,h=m=>{f||(f=m);var y=(m-f)/r,x=Tu((E,A)=>Pf(...A,n(y)),d);if(o(Pt(Pt(Pt({},e),t),x)),y<1)u=l.setTimeout(h);else{var S=Tu((E,A)=>Pf(...A,n(1)),d);o(Pt(Pt(Pt({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const YY=(e,t,n,r,i,o)=>{var l=qY(e,t);return n==null?()=>(i(Pt(Pt({},e),t)),()=>{}):n.isStepper===!0?VY(e,t,n,l,i,o):KY(e,t,n,r,l,i,o)};var Mf=1e-4,ZP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eM=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),tN=(e,t)=>n=>{var r=ZP(e,t);return eM(r,n)},JY=(e,t)=>n=>{var r=ZP(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return eM(i,n)},WY=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]},XY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=WY(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},QY=(e,t,n,r)=>{var i=tN(e,n),o=tN(t,r),l=JY(e,n),u=f=>f>1?1:f<0?0:f,d=f=>{for(var h=f>1?1:f,m=h,y=0;y<8;++y){var x=i(m)-h,S=l(m);if(Math.abs(x-h)<Mf||S<Mf)return o(m);m=u(m-x/S)}return o(m)};return d.isStepper=!1,d},nN=function(){return QY(...XY(...arguments))},ZY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,d)=>{var f=-(l-u)*n,h=d*r,m=d+(f-h)*i/1e3,y=d*i/1e3+l;return Math.abs(y-u)<Mf&&Math.abs(m)<Mf?[u,0]:[y,m]};return o.isStepper=!0,o.dt=i,o},eJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nN(e);case"spring":return ZY();default:if(e.split("(")[0]==="cubic-bezier")return nN(e)}return typeof e=="function"?e:null};function tJ(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[d,...f]=u;if(typeof d=="number"){i=e.setTimeout(o.bind(null,f),d);return}o(d),i=e.setTimeout(o.bind(null,f));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class nJ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function rJ(){return tJ(new nJ)}var iJ=C.createContext(rJ);function aJ(e,t){var n=C.useContext(iJ);return C.useMemo(()=>t??n(e),[e,t,n])}var oJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Uh={isSsr:oJ()},sJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},rN={t:0},Bv={t:1};function Db(e){var t=Zn(e,sJ),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:d,children:f}=t,h=n==="auto"?!Uh.isSsr:n,m=aJ(t.animationId,t.animationManager),[y,x]=C.useState(h?rN:Bv),S=C.useRef(null);return C.useEffect(()=>{h||x(Bv)},[h]),C.useEffect(()=>{if(!h||!r)return Uu;var E=YY(rN,Bv,eJ(o),i,x,m.getTimeoutController()),A=()=>{S.current=E()};return m.start([d,l,A,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,o,l,d,u,m]),f(y.t)}function Ub(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=C.useRef(bu(t)),r=C.useRef(e);return r.current!==e&&(n.current=bu(t),r.current=e),n.current}var lJ=["radius"],uJ=["radius"],iN,aN,oN,sN,lN,uN,cN,dN,fN,hN;function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){cJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cJ(e,t,n){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Of.apply(null,arguments)}function gN(e,t){if(e==null)return{};var n,r,i=hJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var vN=(e,t,n,r,i)=>{var o=ya(n),l=ya(r),u=Math.min(Math.abs(o)/2,Math.abs(l)/2),d=l>=0?1:-1,f=o>=0?1:-1,h=l>=0&&o>=0||l<0&&o<0?1:0,m;if(u>0&&i instanceof Array){for(var y=[0,0,0,0],x=0,S=4;x<S;x++)y[x]=i[x]>u?u:i[x];m=vt(iN||(iN=zr(["M",",",""])),e,t+d*y[0]),y[0]>0&&(m+=vt(aN||(aN=zr(["A ",",",",0,0,",",",",",""])),y[0],y[0],h,e+f*y[0],t)),m+=vt(oN||(oN=zr(["L ",",",""])),e+n-f*y[1],t),y[1]>0&&(m+=vt(sN||(sN=zr(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],h,e+n,t+d*y[1])),m+=vt(lN||(lN=zr(["L ",",",""])),e+n,t+r-d*y[2]),y[2]>0&&(m+=vt(uN||(uN=zr(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],h,e+n-f*y[2],t+r)),m+=vt(cN||(cN=zr(["L ",",",""])),e+f*y[3],t+r),y[3]>0&&(m+=vt(dN||(dN=zr(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],h,e,t+r-d*y[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var E=Math.min(u,i);m=vt(fN||(fN=zr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*E,E,E,h,e+f*E,t,e+n-f*E,t,E,E,h,e+n,t+d*E,e+n,t+r-d*E,E,E,h,e+n-f*E,t+r,e+f*E,t+r,E,E,h,e,t+r-d*E)}else m=vt(hN||(hN=zr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},yN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tM=e=>{var t=Zn(e,yN),n=C.useRef(null),[r,i]=C.useState(-1);C.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var X=n.current.getTotalLength();X&&i(X)}catch{}},[]);var{x:o,y:l,width:u,height:d,radius:f,className:h}=t,{animationEasing:m,animationDuration:y,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:E}=t,A=C.useRef(u),T=C.useRef(d),k=C.useRef(o),R=C.useRef(l),O=C.useMemo(()=>({x:o,y:l,width:u,height:d,radius:f}),[o,l,u,d,f]),P=Ub(O,"rectangle-");if(o!==+o||l!==+l||u!==+u||d!==+d||u===0||d===0)return null;var M=st("recharts-rectangle",h);if(!E){var D=gr(t),{radius:F}=D,B=gN(D,lJ);return C.createElement("path",Of({},B,{x:ya(o),y:ya(l),width:ya(u),height:ya(d),radius:typeof f=="number"?f:void 0,className:M,d:vN(o,l,u,d,f)}))}var J=A.current,U=T.current,G=k.current,Z=R.current,Y="0px ".concat(r===-1?1:r,"px"),ie="".concat(r,"px 0px"),q=XP(["strokeDasharray"],y,typeof m=="string"?m:yN.animationEasing);return C.createElement(Db,{animationId:P,key:P,canBegin:r>0,duration:y,easing:m,isActive:E,begin:x},X=>{var te=on(J,u,X),ce=on(U,d,X),ve=on(G,o,X),L=on(Z,l,X);n.current&&(A.current=te,T.current=ce,k.current=ve,R.current=L);var ee;S?X>0?ee={transition:q,strokeDasharray:ie}:ee={strokeDasharray:Y}:ee={strokeDasharray:ie};var re=gr(t),{radius:le}=re,me=gN(re,uJ);return C.createElement("path",Of({},me,{radius:typeof f=="number"?f:void 0,className:M,d:vN(ve,L,te,ce,f),ref:n,style:mN(mN({},ee),t.style)}))})};function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){pJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Df=Math.PI/180,vJ=e=>e*180/Math.PI,sn=(e,t,n,r)=>({x:e+Math.cos(-Df*r)*n,y:t+Math.sin(-Df*r)*n}),yJ=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bJ=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},xJ=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=bJ({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,d=Math.acos(u);return r>o&&(d=2*Math.PI-d),{radius:l,angle:vJ(d),angleInRadian:d}},wJ=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},_J=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},SJ=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=xJ({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:d,endAngle:f}=wJ(t),h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?xN(xN({},t),{},{radius:i,angle:_J(h,t)}):null};function nM(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=sn(t,n,r,i),u=sn(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}var wN,_N,SN,EN,AN,TN,CN;function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ey.apply(null,arguments)}function Za(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var EJ=(e,t)=>{var n=kn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:d}=e,f=u*(l?1:-1)+r,h=Math.asin(u/f)/Df,m=d?i:i+o*h,y=sn(t,n,f,m),x=sn(t,n,r,m),S=d?i-o*h:i,E=sn(t,n,f*Math.cos(h*Df),S);return{center:y,circleTangency:x,lineTangency:E,theta:h}},rM=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=EJ(o,l),d=o+u,f=sn(t,n,i,o),h=sn(t,n,i,d),m=vt(wN||(wN=Za(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(u)>180),+(o>d),h.x,h.y);if(r>0){var y=sn(t,n,r,o),x=sn(t,n,r,d);m+=vt(_N||(_N=Za(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(u)>180),+(o<=d),y.x,y.y)}else m+=vt(SN||(SN=Za(["L ",","," Z"])),t,n);return m},AJ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}=e,h=kn(f-d),{circleTangency:m,lineTangency:y,theta:x}=jd({cx:t,cy:n,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:A}=jd({cx:t,cy:n,radius:i,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:u}),T=u?Math.abs(d-f):Math.abs(d-f)-x-A;if(T<0)return l?vt(EN||(EN=Za(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,o,o,o*2,o,o,-o*2):rM({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:f});var k=vt(AN||(AN=Za(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,o,o,+(h<0),m.x,m.y,i,i,+(T>180),+(h<0),S.x,S.y,o,o,+(h<0),E.x,E.y);if(r>0){var{circleTangency:R,lineTangency:O,theta:P}=jd({cx:t,cy:n,radius:r,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:M,lineTangency:D,theta:F}=jd({cx:t,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),B=u?Math.abs(d-f):Math.abs(d-f)-P-F;if(B<0&&o===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+=vt(TN||(TN=Za(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,o,o,+(h<0),M.x,M.y,r,r,+(B>180),+(h>0),R.x,R.y,o,o,+(h<0),O.x,O.y)}else k+=vt(CN||(CN=Za(["L",",","Z"])),t,n);return k},TJ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iM=e=>{var t=Zn(e,TJ),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h,className:m}=t;if(o<i||f===h)return null;var y=st("recharts-sector",m),x=o-i,S=Mr(l,x,0,!0),E;return S>0&&Math.abs(f-h)<360?E=AJ({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:h}):E=rM({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h}),C.createElement("path",Ey({},gr(t),{className:y,d:E}))};function CJ(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(zI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:l,angle:u}=t,d=sn(r,i,o,u),f=sn(r,i,l,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return nM(t)}}var zv={},qv={},$v={},NN;function NJ(){return NN||(NN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QI();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})($v)),$v}var RN;function RJ(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NJ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(qv)),qv}var kN;function kJ(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZI(),n=RJ();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=i,i+=l;return d}e.range=r})(zv)),zv}var Hv,IN;function IJ(){return IN||(IN=1,Hv=kJ().range),Hv}var PJ=IJ();const aM=Kr(PJ);function ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MJ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jb(e){let t,n,r;e.length!==2?(t=ba,n=(u,d)=>ba(e(u),d),r=(u,d)=>e(u)-d):(t=e===ba||e===MJ?e:OJ,n=e,r=e);function i(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<0?f=m+1:h=m}while(f<h)}return f}function o(u,d,f=0,h=u.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;n(u[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function l(u,d,f=0,h=u.length){const m=i(u,d,f,h-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:i,center:l,right:o}}function OJ(){return 0}function oM(e){return e===null?NaN:+e}function*DJ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const UJ=jb(ba),qu=UJ.right;jb(oM).center;class PN extends Map{constructor(t,n=FJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(MN(this,t))}has(t){return super.has(MN(this,t))}set(t,n){return super.set(jJ(this,t),n)}delete(t){return super.delete(LJ(this,t))}}function MN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function LJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function FJ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function BJ(e=ba){if(e===ba)return sM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function sM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zJ=Math.sqrt(50),qJ=Math.sqrt(10),$J=Math.sqrt(2);function Uf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=zJ?10:o>=qJ?5:o>=$J?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,i)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Uf(e,t,n*2):[u,d,f]}function Ay(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Uf(t,e,n):Uf(e,t,n);if(!(o>=i))return[];const u=o-i+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(o-f)/-l;else for(let f=0;f<u;++f)d[f]=(o-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(i+f)/-l;else for(let f=0;f<u;++f)d[f]=(i+f)*l;return d}function Ty(e,t,n){return t=+t,e=+e,n=+n,Uf(e,t,n)[2]}function Cy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ty(t,e,n):Ty(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function ON(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lM(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?sM:BJ(i);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,h=Math.log(d),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),x=Math.max(n,Math.floor(t-f*m/d+y)),S=Math.min(r,Math.floor(t+(d-f)*m/d+y));lM(e,t,x,S,i)}const o=e[t];let l=n,u=r;for(Zl(e,n,t),i(e[r],o)>0&&Zl(e,n,r);l<u;){for(Zl(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?Zl(e,n,u):(++u,Zl(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Zl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function HJ(e,t,n){if(e=Float64Array.from(DJ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return DN(e);if(t>=1)return ON(e);var r,i=(r-1)*t,o=Math.floor(i),l=ON(lM(e,o).subarray(0,o+1)),u=DN(e.subarray(o+1));return l+(u-l)*(i-o)}}function GJ(e,t,n=oM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function VJ(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function br(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ui(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ny=Symbol("implicit");function Lb(){var e=new PN,t=[],n=[],r=Ny;function i(o){let l=e.get(o);if(l===void 0){if(r!==Ny)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new PN;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Lb(t,n).unknown(r)},br.apply(i,arguments),i}function Fb(){var e=Lb().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var y=t().length,x=i<r,S=x?i:r,E=x?r:i;o=(E-S)/Math.max(1,y-d+f*2),u&&(o=Math.floor(o)),S+=(E-S-o*(y-d))*h,l=o*(1-d),u&&(S=Math.round(S),l=Math.round(l));var A=VJ(y).map(function(T){return S+o*T});return n(x?A.reverse():A)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(u=!!y,m()):u},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),m()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),m()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,m()):f},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},e.copy=function(){return Fb(t(),[r,i]).round(u).paddingInner(d).paddingOuter(f).align(h)},br.apply(m(),arguments)}function uM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uM(t())},e}function KJ(){return uM(Fb.apply(null,arguments).paddingInner(1))}function Bb(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $u(){}var Cu=.7,jf=1/Cu,Ns="\\s*([+-]?\\d+)\\s*",Nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YJ=/^#([0-9a-f]{3,8})$/,JJ=new RegExp(`^rgb\\(${Ns},${Ns},${Ns}\\)$`),WJ=new RegExp(`^rgb\\(${$r},${$r},${$r}\\)$`),XJ=new RegExp(`^rgba\\(${Ns},${Ns},${Ns},${Nu}\\)$`),QJ=new RegExp(`^rgba\\(${$r},${$r},${$r},${Nu}\\)$`),ZJ=new RegExp(`^hsl\\(${Nu},${$r},${$r}\\)$`),eW=new RegExp(`^hsla\\(${Nu},${$r},${$r},${Nu}\\)$`),UN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Bb($u,Ru,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jN,formatHex:jN,formatHex8:tW,formatHsl:nW,formatRgb:LN,toString:LN});function jN(){return this.rgb().formatHex()}function tW(){return this.rgb().formatHex8()}function nW(){return dM(this).formatHsl()}function LN(){return this.rgb().formatRgb()}function Ru(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=YJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?FN(t):n===3?new In(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ld(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ld(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JJ.exec(e))?new In(t[1],t[2],t[3],1):(t=WJ.exec(e))?new In(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=XJ.exec(e))?Ld(t[1],t[2],t[3],t[4]):(t=QJ.exec(e))?Ld(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZJ.exec(e))?qN(t[1],t[2]/100,t[3]/100,1):(t=eW.exec(e))?qN(t[1],t[2]/100,t[3]/100,t[4]):UN.hasOwnProperty(e)?FN(UN[e]):e==="transparent"?new In(NaN,NaN,NaN,0):null}function FN(e){return new In(e>>16&255,e>>8&255,e&255,1)}function Ld(e,t,n,r){return r<=0&&(e=t=n=NaN),new In(e,t,n,r)}function rW(e){return e instanceof $u||(e=Ru(e)),e?(e=e.rgb(),new In(e.r,e.g,e.b,e.opacity)):new In}function Ry(e,t,n,r){return arguments.length===1?rW(e):new In(e,t,n,r??1)}function In(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Bb(In,Ry,cM($u,{brighter(e){return e=e==null?jf:Math.pow(jf,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new In(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new In(io(this.r),io(this.g),io(this.b),Lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BN,formatHex:BN,formatHex8:iW,formatRgb:zN,toString:zN}));function BN(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}`}function iW(){return`#${eo(this.r)}${eo(this.g)}${eo(this.b)}${eo((isNaN(this.opacity)?1:this.opacity)*255)}`}function zN(){const e=Lf(this.opacity);return`${e===1?"rgb(":"rgba("}${io(this.r)}, ${io(this.g)}, ${io(this.b)}${e===1?")":`, ${e})`}`}function Lf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function io(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function eo(e){return e=io(e),(e<16?"0":"")+e.toString(16)}function qN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Nr(e,t,n,r)}function dM(e){if(e instanceof Nr)return new Nr(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=Ru(e)),!e)return new Nr;if(e instanceof Nr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,d=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?o+i:2-o-i,l*=60):u=d>0&&d<1?0:l,new Nr(l,u,d,e.opacity)}function aW(e,t,n,r){return arguments.length===1?dM(e):new Nr(e,t,n,r??1)}function Nr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Bb(Nr,aW,cM($u,{brighter(e){return e=e==null?jf:Math.pow(jf,e),new Nr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cu:Math.pow(Cu,e),new Nr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new In(Gv(e>=240?e-240:e+120,i,r),Gv(e,i,r),Gv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Nr($N(this.h),Fd(this.s),Fd(this.l),Lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lf(this.opacity);return`${e===1?"hsl(":"hsla("}${$N(this.h)}, ${Fd(this.s)*100}%, ${Fd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $N(e){return e=(e||0)%360,e<0?e+360:e}function Fd(e){return Math.max(0,Math.min(1,e||0))}function Gv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zb=e=>()=>e;function oW(e,t){return function(n){return e+n*t}}function sW(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lW(e){return(e=+e)==1?fM:function(t,n){return n-t?sW(t,n,e):zb(isNaN(t)?n:t)}}function fM(e,t){var n=t-e;return n?oW(e,n):zb(isNaN(e)?t:e)}const HN=(function e(t){var n=lW(t);function r(i,o){var l=n((i=Ry(i)).r,(o=Ry(o)).r),u=n(i.g,o.g),d=n(i.b,o.b),f=fM(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=d(h),i.opacity=f(h),i+""}}return r.gamma=e,r})(1);function uW(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function cW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dW(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Gs(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function fW(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ff(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function hW(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vv=new RegExp(ky.source,"g");function pW(e){return function(){return e}}function mW(e){return function(t){return e(t)+""}}function gW(e,t){var n=ky.lastIndex=Vv.lastIndex=0,r,i,o,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=ky.exec(e))&&(i=Vv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,d.push({i:l,x:Ff(r,i)})),n=Vv.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?d[0]?mW(d[0].x):pW(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)u[(m=d[h]).i]=m.x(f);return u.join("")})}function Gs(e,t){var n=typeof t,r;return t==null||n==="boolean"?zb(t):(n==="number"?Ff:n==="string"?(r=Ru(t))?(t=r,HN):gW:t instanceof Ru?HN:t instanceof Date?fW:cW(t)?uW:Array.isArray(t)?dW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hW:Ff)(e,t)}function qb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function vW(e,t){t===void 0&&(t=e,e=Gs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function yW(e){return function(){return e}}function Bf(e){return+e}var GN=[0,1];function yn(e){return e}function Iy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yW(isNaN(t)?NaN:.5)}function bW(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function xW(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Iy(i,r),o=n(l,o)):(r=Iy(r,i),o=n(o,l)),function(u){return o(r(u))}}function wW(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Iy(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var d=qu(e,u,1,r)-1;return o[d](i[d](u))}}function Hu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jh(){var e=GN,t=GN,n=Gs,r,i,o,l=yn,u,d,f;function h(){var y=Math.min(e.length,t.length);return l!==yn&&(l=bW(e[0],e[y-1])),u=y>2?wW:xW,d=f=null,m}function m(y){return y==null||isNaN(y=+y)?o:(d||(d=u(e.map(r),t,n)))(r(l(y)))}return m.invert=function(y){return l(i((f||(f=u(t,e.map(r),Ff)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,Bf),h()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=qb,h()},m.clamp=function(y){return arguments.length?(l=y?!0:yn,h()):l!==yn},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(o=y,m):o},function(y,x){return r=y,i=x,h()}}function $b(){return jh()(yn,yn)}function _W(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zf(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Os(e){return e=zf(Math.abs(e)),e?e[1]:NaN}function SW(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],d=0;i>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),o.push(n.substring(i-=u,i+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function EW(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var AW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ku(e){if(!(t=AW.exec(e)))throw new Error("invalid format: "+e);var t;return new Hb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ku.prototype=Hb.prototype;function Hb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Hb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TW(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var hM;function CW(e,t){var n=zf(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(hM=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zf(e,Math.max(0,t+o-1))[0]}function VN(e,t){var n=zf(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const KN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_W,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VN(e*100,t),r:VN,s:CW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YN(e){return e}var JN=Array.prototype.map,WN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function NW(e){var t=e.grouping===void 0||e.thousands===void 0?YN:SW(JN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?YN:EW(JN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=ku(m);var y=m.fill,x=m.align,S=m.sign,E=m.symbol,A=m.zero,T=m.width,k=m.comma,R=m.precision,O=m.trim,P=m.type;P==="n"?(k=!0,P="g"):KN[P]||(R===void 0&&(R=12),O=!0,P="g"),(A||y==="0"&&x==="=")&&(A=!0,y="0",x="=");var M=E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",D=E==="$"?r:/[%p]/.test(P)?l:"",F=KN[P],B=/[defgprs%]/.test(P);R=R===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function J(U){var G=M,Z=D,Y,ie,q;if(P==="c")Z=F(U)+Z,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?d:F(Math.abs(U),R),O&&(U=TW(U)),X&&+U==0&&S!=="+"&&(X=!1),G=(X?S==="("?S:u:S==="-"||S==="("?"":S)+G,Z=(P==="s"?WN[8+hM/3]:"")+Z+(X&&S==="("?")":""),B){for(Y=-1,ie=U.length;++Y<ie;)if(q=U.charCodeAt(Y),48>q||q>57){Z=(q===46?i+U.slice(Y+1):U.slice(Y))+Z,U=U.slice(0,Y);break}}}k&&!A&&(U=t(U,1/0));var te=G.length+U.length+Z.length,ce=te<T?new Array(T-te+1).join(y):"";switch(k&&A&&(U=t(ce+U,ce.length?T-Z.length:1/0),ce=""),x){case"<":U=G+U+Z+ce;break;case"=":U=G+ce+U+Z;break;case"^":U=ce.slice(0,te=ce.length>>1)+G+U+Z+ce.slice(te);break;default:U=ce+G+U+Z;break}return o(U)}return J.toString=function(){return m+""},J}function h(m,y){var x=f((m=ku(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(Os(y)/3)))*3,E=Math.pow(10,-S),A=WN[8+S/3];return function(T){return x(E*T)+A}}return{format:f,formatPrefix:h}}var Bd,Gb,pM;RW({thousands:",",grouping:[3],currency:["$",""]});function RW(e){return Bd=NW(e),Gb=Bd.format,pM=Bd.formatPrefix,Bd}function kW(e){return Math.max(0,-Os(Math.abs(e)))}function IW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(t)/3)))*3-Os(Math.abs(e)))}function PW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Os(t)-Os(e))+1}function mM(e,t,n,r){var i=Cy(e,t,n),o;switch(r=ku(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=IW(i,l))&&(r.precision=o),pM(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=PW(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=kW(i))&&(r.precision=o-(r.type==="%")*2);break}}return Gb(r)}function _a(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ay(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return mM(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],d,f,h=10;for(u<l&&(f=l,l=u,u=f,f=i,i=o,o=f);h-- >0;){if(f=Ty(l,u,n),f===d)return r[i]=l,r[o]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function gM(){var e=$b();return e.copy=function(){return Hu(e,gM())},br.apply(e,arguments),_a(e)}function vM(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Bf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vM(e).unknown(t)},e=arguments.length?Array.from(e,Bf):[0,1],_a(n)}function yM(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function XN(e){return Math.log(e)}function QN(e){return Math.exp(e)}function MW(e){return-Math.log(-e)}function OW(e){return-Math.exp(-e)}function DW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UW(e){return e===10?DW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ZN(e){return(t,n)=>-e(-t,n)}function Vb(e){const t=e(XN,QN),n=t.domain;let r=10,i,o;function l(){return i=jW(r),o=UW(r),n()[0]<0?(i=ZN(i),o=ZN(o),e(MW,OW)):e(XN,QN),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let y=i(f),x=i(h),S,E;const A=u==null?10:+u;let T=[];if(!(r%1)&&x-y<A){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(S=1;S<r;++S)if(E=y<0?S/o(-y):S*o(y),!(E<f)){if(E>h)break;T.push(E)}}else for(;y<=x;++y)for(S=r-1;S>=1;--S)if(E=y>0?S/o(-y):S*o(y),!(E<f)){if(E>h)break;T.push(E)}T.length*2<A&&(T=Ay(f,h,A))}else T=Ay(y,x,Math.min(x-y,A)).map(o);return m?T.reverse():T},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=ku(d)).precision==null&&(d.trim=!0),d=Gb(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?d(h):""}},t.nice=()=>n(yM(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function bM(){const e=Vb(jh()).domain([1,10]);return e.copy=()=>Hu(e,bM()).base(e.base()),br.apply(e,arguments),e}function e2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function t2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Kb(e){var t=1,n=e(e2(t),t2(t));return n.constant=function(r){return arguments.length?e(e2(t=+r),t2(t)):t},_a(n)}function xM(){var e=Kb(jh());return e.copy=function(){return Hu(e,xM()).constant(e.constant())},br.apply(e,arguments)}function n2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FW(e){return e<0?-e*e:e*e}function Yb(e){var t=e(yn,yn),n=1;function r(){return n===1?e(yn,yn):n===.5?e(LW,FW):e(n2(n),n2(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},_a(t)}function Jb(){var e=Yb(jh());return e.copy=function(){return Hu(e,Jb()).exponent(e.exponent())},br.apply(e,arguments),e}function BW(){return Jb.apply(null,arguments).exponent(.5)}function r2(e){return Math.sign(e)*e*e}function zW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wM(){var e=$b(),t=[0,1],n=!1,r;function i(o){var l=zW(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(r2(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Bf)).map(r2)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return wM(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},br.apply(i,arguments),_a(i)}function _M(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=GJ(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[qu(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ba),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return _M().domain(e).range(t).unknown(r)},br.apply(o,arguments)}function SM(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(d){return d!=null&&d<=d?i[qu(r,d,0,n)]:o}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,u()):i.slice()},l.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(o=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return SM().domain([e,t]).range(i).unknown(o)},br.apply(_a(l),arguments)}function EM(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[qu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EM().domain(e).range(t).unknown(n)},br.apply(i,arguments)}const Kv=new Date,Yv=new Date;function Mt(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const d=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return d;let f;do d.push(f=new Date(+o)),t(o,u),e(o);while(f<o&&o<l);return d},i.filter=o=>Mt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(Kv.setTime(+o),Yv.setTime(+l),e(Kv),e(Yv),Math.floor(n(Kv,Yv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const qf=Mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qf);qf.range;const vi=1e3,hr=vi*60,yi=hr*60,Ti=yi*24,Wb=Ti*7,i2=Ti*30,Jv=Ti*365,to=Mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCSeconds());to.range;const Xb=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getMinutes());Xb.range;const Qb=Mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCMinutes());Qb.range;const Zb=Mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vi-e.getMinutes()*hr)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getHours());Zb.range;const ex=Mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCHours());ex.range;const Gu=Mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hr)/Ti,e=>e.getDate()-1);Gu.range;const Lh=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>e.getUTCDate()-1);Lh.range;const AM=Mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ti,e=>Math.floor(e/Ti));AM.range;function vo(e){return Mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*hr)/Wb)}const Fh=vo(0),$f=vo(1),qW=vo(2),$W=vo(3),Ds=vo(4),HW=vo(5),GW=vo(6);Fh.range;$f.range;qW.range;$W.range;Ds.range;HW.range;GW.range;function yo(e){return Mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Wb)}const Bh=yo(0),Hf=yo(1),VW=yo(2),KW=yo(3),Us=yo(4),YW=yo(5),JW=yo(6);Bh.range;Hf.range;VW.range;KW.range;Us.range;YW.range;JW.range;const tx=Mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tx.range;const nx=Mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nx.range;const Ci=Mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ci.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ci.range;const Ni=Mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ni.range;function TM(e,t,n,r,i,o){const l=[[to,1,vi],[to,5,5*vi],[to,15,15*vi],[to,30,30*vi],[o,1,hr],[o,5,5*hr],[o,15,15*hr],[o,30,30*hr],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,Ti],[r,2,2*Ti],[n,1,Wb],[t,1,i2],[t,3,3*i2],[e,1,Jv]];function u(f,h,m){const y=h<f;y&&([f,h]=[h,f]);const x=m&&typeof m.range=="function"?m:d(f,h,m),S=x?x.range(f,+h+1):[];return y?S.reverse():S}function d(f,h,m){const y=Math.abs(h-f)/m,x=jb(([,,A])=>A).right(l,y);if(x===l.length)return e.every(Cy(f/Jv,h/Jv,m));if(x===0)return qf.every(Math.max(Cy(f,h,m),1));const[S,E]=l[y/l[x-1][2]<l[x][2]/y?x-1:x];return S.every(E)}return[u,d]}const[WW,XW]=TM(Ni,nx,Bh,AM,ex,Qb),[QW,ZW]=TM(Ci,tx,Fh,Gu,Zb,Xb);function Wv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Xv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function eu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function eX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=tu(i),h=nu(i),m=tu(o),y=nu(o),x=tu(l),S=nu(l),E=tu(u),A=nu(u),T=tu(d),k=nu(d),R={a:X,A:te,b:ce,B:ve,c:null,d:c2,e:c2,f:SX,g:MX,G:DX,H:xX,I:wX,j:_X,L:CM,m:EX,M:AX,p:L,q:ee,Q:h2,s:p2,S:TX,u:CX,U:NX,V:RX,w:kX,W:IX,x:null,X:null,y:PX,Y:OX,Z:UX,"%":f2},O={a:re,A:le,b:me,B:Te,c:null,d:d2,e:d2,f:BX,g:WX,G:QX,H:jX,I:LX,j:FX,L:RM,m:zX,M:qX,p:Ce,q:Rt,Q:h2,s:p2,S:$X,u:HX,U:GX,V:VX,w:KX,W:YX,x:null,X:null,y:JX,Y:XX,Z:ZX,"%":f2},P={a:J,A:U,b:G,B:Z,c:Y,d:l2,e:l2,f:gX,g:s2,G:o2,H:u2,I:u2,j:fX,L:mX,m:dX,M:hX,p:B,q:cX,Q:yX,s:bX,S:pX,u:aX,U:oX,V:sX,w:iX,W:lX,x:ie,X:q,y:s2,Y:o2,Z:uX,"%":vX};R.x=M(n,R),R.X=M(r,R),R.c=M(t,R),O.x=M(n,O),O.X=M(r,O),O.c=M(t,O);function M(ae,ke){return function(Me){var ue=[],Kt=-1,Fe=0,Yt=ae.length,Jt,Yr,Zs;for(Me instanceof Date||(Me=new Date(+Me));++Kt<Yt;)ae.charCodeAt(Kt)===37&&(ue.push(ae.slice(Fe,Kt)),(Yr=a2[Jt=ae.charAt(++Kt)])!=null?Jt=ae.charAt(++Kt):Yr=Jt==="e"?" ":"0",(Zs=ke[Jt])&&(Jt=Zs(Me,Yr)),ue.push(Jt),Fe=Kt+1);return ue.push(ae.slice(Fe,Kt)),ue.join("")}}function D(ae,ke){return function(Me){var ue=eu(1900,void 0,1),Kt=F(ue,ae,Me+="",0),Fe,Yt;if(Kt!=Me.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ke&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(Fe=Xv(eu(ue.y,0,1)),Yt=Fe.getUTCDay(),Fe=Yt>4||Yt===0?Hf.ceil(Fe):Hf(Fe),Fe=Lh.offset(Fe,(ue.V-1)*7),ue.y=Fe.getUTCFullYear(),ue.m=Fe.getUTCMonth(),ue.d=Fe.getUTCDate()+(ue.w+6)%7):(Fe=Wv(eu(ue.y,0,1)),Yt=Fe.getDay(),Fe=Yt>4||Yt===0?$f.ceil(Fe):$f(Fe),Fe=Gu.offset(Fe,(ue.V-1)*7),ue.y=Fe.getFullYear(),ue.m=Fe.getMonth(),ue.d=Fe.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),Yt="Z"in ue?Xv(eu(ue.y,0,1)).getUTCDay():Wv(eu(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(Yt+5)%7:ue.w+ue.U*7-(Yt+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,Xv(ue)):Wv(ue)}}function F(ae,ke,Me,ue){for(var Kt=0,Fe=ke.length,Yt=Me.length,Jt,Yr;Kt<Fe;){if(ue>=Yt)return-1;if(Jt=ke.charCodeAt(Kt++),Jt===37){if(Jt=ke.charAt(Kt++),Yr=P[Jt in a2?ke.charAt(Kt++):Jt],!Yr||(ue=Yr(ae,Me,ue))<0)return-1}else if(Jt!=Me.charCodeAt(ue++))return-1}return ue}function B(ae,ke,Me){var ue=f.exec(ke.slice(Me));return ue?(ae.p=h.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function J(ae,ke,Me){var ue=x.exec(ke.slice(Me));return ue?(ae.w=S.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function U(ae,ke,Me){var ue=m.exec(ke.slice(Me));return ue?(ae.w=y.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function G(ae,ke,Me){var ue=T.exec(ke.slice(Me));return ue?(ae.m=k.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function Z(ae,ke,Me){var ue=E.exec(ke.slice(Me));return ue?(ae.m=A.get(ue[0].toLowerCase()),Me+ue[0].length):-1}function Y(ae,ke,Me){return F(ae,t,ke,Me)}function ie(ae,ke,Me){return F(ae,n,ke,Me)}function q(ae,ke,Me){return F(ae,r,ke,Me)}function X(ae){return l[ae.getDay()]}function te(ae){return o[ae.getDay()]}function ce(ae){return d[ae.getMonth()]}function ve(ae){return u[ae.getMonth()]}function L(ae){return i[+(ae.getHours()>=12)]}function ee(ae){return 1+~~(ae.getMonth()/3)}function re(ae){return l[ae.getUTCDay()]}function le(ae){return o[ae.getUTCDay()]}function me(ae){return d[ae.getUTCMonth()]}function Te(ae){return u[ae.getUTCMonth()]}function Ce(ae){return i[+(ae.getUTCHours()>=12)]}function Rt(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ke=M(ae+="",R);return ke.toString=function(){return ae},ke},parse:function(ae){var ke=D(ae+="",!1);return ke.toString=function(){return ae},ke},utcFormat:function(ae){var ke=M(ae+="",O);return ke.toString=function(){return ae},ke},utcParse:function(ae){var ke=D(ae+="",!0);return ke.toString=function(){return ae},ke}}}var a2={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,tX=/^%/,nX=/[\\^$*+?|[\]().{}]/g;function He(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function rX(e){return e.replace(nX,"\\$&")}function tu(e){return new RegExp("^(?:"+e.map(rX).join("|")+")","i")}function nu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function iX(e,t,n){var r=Vt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aX(e,t,n){var r=Vt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function oX(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sX(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lX(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function o2(e,t,n){var r=Vt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function s2(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cX(e,t,n){var r=Vt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function dX(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function l2(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function fX(e,t,n){var r=Vt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function u2(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function hX(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pX(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mX(e,t,n){var r=Vt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function gX(e,t,n){var r=Vt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vX(e,t,n){var r=tX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yX(e,t,n){var r=Vt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function bX(e,t,n){var r=Vt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function c2(e,t){return He(e.getDate(),t,2)}function xX(e,t){return He(e.getHours(),t,2)}function wX(e,t){return He(e.getHours()%12||12,t,2)}function _X(e,t){return He(1+Gu.count(Ci(e),e),t,3)}function CM(e,t){return He(e.getMilliseconds(),t,3)}function SX(e,t){return CM(e,t)+"000"}function EX(e,t){return He(e.getMonth()+1,t,2)}function AX(e,t){return He(e.getMinutes(),t,2)}function TX(e,t){return He(e.getSeconds(),t,2)}function CX(e){var t=e.getDay();return t===0?7:t}function NX(e,t){return He(Fh.count(Ci(e)-1,e),t,2)}function NM(e){var t=e.getDay();return t>=4||t===0?Ds(e):Ds.ceil(e)}function RX(e,t){return e=NM(e),He(Ds.count(Ci(e),e)+(Ci(e).getDay()===4),t,2)}function kX(e){return e.getDay()}function IX(e,t){return He($f.count(Ci(e)-1,e),t,2)}function PX(e,t){return He(e.getFullYear()%100,t,2)}function MX(e,t){return e=NM(e),He(e.getFullYear()%100,t,2)}function OX(e,t){return He(e.getFullYear()%1e4,t,4)}function DX(e,t){var n=e.getDay();return e=n>=4||n===0?Ds(e):Ds.ceil(e),He(e.getFullYear()%1e4,t,4)}function UX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+He(t/60|0,"0",2)+He(t%60,"0",2)}function d2(e,t){return He(e.getUTCDate(),t,2)}function jX(e,t){return He(e.getUTCHours(),t,2)}function LX(e,t){return He(e.getUTCHours()%12||12,t,2)}function FX(e,t){return He(1+Lh.count(Ni(e),e),t,3)}function RM(e,t){return He(e.getUTCMilliseconds(),t,3)}function BX(e,t){return RM(e,t)+"000"}function zX(e,t){return He(e.getUTCMonth()+1,t,2)}function qX(e,t){return He(e.getUTCMinutes(),t,2)}function $X(e,t){return He(e.getUTCSeconds(),t,2)}function HX(e){var t=e.getUTCDay();return t===0?7:t}function GX(e,t){return He(Bh.count(Ni(e)-1,e),t,2)}function kM(e){var t=e.getUTCDay();return t>=4||t===0?Us(e):Us.ceil(e)}function VX(e,t){return e=kM(e),He(Us.count(Ni(e),e)+(Ni(e).getUTCDay()===4),t,2)}function KX(e){return e.getUTCDay()}function YX(e,t){return He(Hf.count(Ni(e)-1,e),t,2)}function JX(e,t){return He(e.getUTCFullYear()%100,t,2)}function WX(e,t){return e=kM(e),He(e.getUTCFullYear()%100,t,2)}function XX(e,t){return He(e.getUTCFullYear()%1e4,t,4)}function QX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Us(e):Us.ceil(e),He(e.getUTCFullYear()%1e4,t,4)}function ZX(){return"+0000"}function f2(){return"%"}function h2(e){return+e}function p2(e){return Math.floor(+e/1e3)}var ds,IM,PM;eQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eQ(e){return ds=eX(e),IM=ds.format,ds.parse,PM=ds.utcFormat,ds.utcParse,ds}function tQ(e){return new Date(e)}function nQ(e){return e instanceof Date?+e:+new Date(+e)}function rx(e,t,n,r,i,o,l,u,d,f){var h=$b(),m=h.invert,y=h.domain,x=f(".%L"),S=f(":%S"),E=f("%I:%M"),A=f("%I %p"),T=f("%a %d"),k=f("%b %d"),R=f("%B"),O=f("%Y");function P(M){return(d(M)<M?x:u(M)<M?S:l(M)<M?E:o(M)<M?A:r(M)<M?i(M)<M?T:k:n(M)<M?R:O)(M)}return h.invert=function(M){return new Date(m(M))},h.domain=function(M){return arguments.length?y(Array.from(M,nQ)):y().map(tQ)},h.ticks=function(M){var D=y();return e(D[0],D[D.length-1],M??10)},h.tickFormat=function(M,D){return D==null?P:f(D)},h.nice=function(M){var D=y();return(!M||typeof M.range!="function")&&(M=t(D[0],D[D.length-1],M??10)),M?y(yM(D,M)):h},h.copy=function(){return Hu(h,rx(e,t,n,r,i,o,l,u,d,f))},h}function rQ(){return br.apply(rx(QW,ZW,Ci,tx,Fh,Gu,Zb,Xb,to,IM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iQ(){return br.apply(rx(WW,XW,Ni,nx,Bh,Lh,ex,Qb,to,PM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zh(){var e=0,t=1,n,r,i,o,l=yn,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function h(m){return function(y){var x,S;return arguments.length?([x,S]=y,l=m(x,S),f):[l(0),l(1)]}}return f.range=h(Gs),f.rangeRound=h(qb),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return o=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function Sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MM(){var e=_a(zh()(yn));return e.copy=function(){return Sa(e,MM())},Ui.apply(e,arguments)}function OM(){var e=Vb(zh()).domain([1,10]);return e.copy=function(){return Sa(e,OM()).base(e.base())},Ui.apply(e,arguments)}function DM(){var e=Kb(zh());return e.copy=function(){return Sa(e,DM()).constant(e.constant())},Ui.apply(e,arguments)}function ix(){var e=Yb(zh());return e.copy=function(){return Sa(e,ix()).exponent(e.exponent())},Ui.apply(e,arguments)}function aQ(){return ix.apply(null,arguments).exponent(.5)}function UM(){var e=[],t=yn;function n(r){if(r!=null&&!isNaN(r=+r))return t((qu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ba),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>HJ(e,o/r))},n.copy=function(){return UM(t).domain(e)},Ui.apply(n,arguments)}function qh(){var e=0,t=.5,n=1,r=1,i,o,l,u,d,f=yn,h,m=!1,y;function x(E){return isNaN(E=+E)?y:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:d),f(m?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),l=h(n=+n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x):[e,t,n]},x.clamp=function(E){return arguments.length?(m=!!E,x):m},x.interpolator=function(E){return arguments.length?(f=E,x):f};function S(E){return function(A){var T,k,R;return arguments.length?([T,k,R]=A,f=vW(E,[T,k,R]),x):[f(0),f(.5),f(1)]}}return x.range=S(Gs),x.rangeRound=S(qb),x.unknown=function(E){return arguments.length?(y=E,x):y},function(E){return h=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),d=o===l?0:.5/(l-o),r=o<i?-1:1,x}}function jM(){var e=_a(qh()(yn));return e.copy=function(){return Sa(e,jM())},Ui.apply(e,arguments)}function LM(){var e=Vb(qh()).domain([.1,1,10]);return e.copy=function(){return Sa(e,LM()).base(e.base())},Ui.apply(e,arguments)}function FM(){var e=Kb(qh());return e.copy=function(){return Sa(e,FM()).constant(e.constant())},Ui.apply(e,arguments)}function ax(){var e=Yb(qh());return e.copy=function(){return Sa(e,ax()).exponent(e.exponent())},Ui.apply(e,arguments)}function oQ(){return ax.apply(null,arguments).exponent(.5)}const lu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fb,scaleDiverging:jM,scaleDivergingLog:LM,scaleDivergingPow:ax,scaleDivergingSqrt:oQ,scaleDivergingSymlog:FM,scaleIdentity:vM,scaleImplicit:Ny,scaleLinear:gM,scaleLog:bM,scaleOrdinal:Lb,scalePoint:KJ,scalePow:Jb,scaleQuantile:_M,scaleQuantize:SM,scaleRadial:wM,scaleSequential:MM,scaleSequentialLog:OM,scaleSequentialPow:ix,scaleSequentialQuantile:UM,scaleSequentialSqrt:aQ,scaleSequentialSymlog:DM,scaleSqrt:BW,scaleSymlog:xM,scaleThreshold:EM,scaleTime:rQ,scaleUtc:iQ,tickFormat:mM},Symbol.toStringTag,{value:"Module"}));var ji=e=>e.chartData,BM=Q([ji],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zM=(e,t,n,r)=>r?BM(e):ji(e),sQ=(e,t,n)=>n?BM(e):ji(e);function xa(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(ht(t)&&ht(n))return!0}return!1}function m2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(ht(n))i=n;else if(typeof n=="function")return;if(ht(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(xa(l))return l}}function lQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(xa(r))return m2(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(ye(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&NC.test(i)){var d=NC.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(ye(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&RC.test(o)){var h=RC.exec(o);if(h==null||h[1]==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var y=[l,u];if(xa(y))return t==null?y:m2(y,t,n)}}}var Vs=1e9,uQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sx,dt=!0,yr="[DecimalError] ",ao=yr+"Invalid argument: ",ox=yr+"Exponent out of range: ",Ks=Math.floor,Ya=Math.pow,cQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,qt=1e7,ot=7,$M=9007199254740991,Gf=Ks($M/ot),he={};he.absoluteValue=he.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};he.comparedTo=he.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(e){return bi(this,new this.constructor(e))};he.dividedToIntegerBy=he.idiv=function(e){var t=this,n=t.constructor;return tt(bi(t,new n(e),0,1),n.precision)};he.equals=he.eq=function(e){return!this.cmp(e)};he.exponent=function(){return Nt(this)};he.greaterThan=he.gt=function(e){return this.cmp(e)>0};he.greaterThanOrEqualTo=he.gte=function(e){return this.cmp(e)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(e){return this.cmp(e)<0};he.lessThanOrEqualTo=he.lte=function(e){return this.cmp(e)<1};he.logarithm=he.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Yn))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(Yn)?new r(0):(dt=!1,t=bi(Iu(n,o),Iu(e,o),o),dt=!0,tt(t,i))};he.minus=he.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VM(t,e):HM(t,(e.s=-e.s,e))};he.modulo=he.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(yr+"NaN");return n.s?(dt=!1,t=bi(n,e,0,1).times(e),dt=!0,n.minus(t)):tt(new r(n),i)};he.naturalExponential=he.exp=function(){return GM(this)};he.naturalLogarithm=he.ln=function(){return Iu(this)};he.negated=he.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};he.plus=he.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HM(t,e):VM(t,(e.s=-e.s,e))};he.precision=he.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ao+e);if(t=Nt(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};he.squareRoot=he.sqrt=function(){var e,t,n,r,i,o,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(yr+"NaN")}for(e=Nt(u),dt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=qr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ks((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(i.toString()),n=d.precision,i=l=n+3;;)if(o=r,r=o.plus(bi(u,o,l+2)).times(.5),qr(o.d).slice(0,l)===(t=qr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(tt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return dt=!0,tt(r,n)};he.times=he.mul=function(e){var t,n,r,i,o,l,u,d,f,h=this,m=h.constructor,y=h.d,x=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,d=y.length,f=x.length,d<f&&(o=y,y=x,x=o,l=d,d=f,f=l),o=[],l=d+f,r=l;r--;)o.push(0);for(r=f;--r>=0;){for(t=0,i=d+r;i>r;)u=o[i]+x[r]*y[i-r-1]+t,o[i--]=u%qt|0,t=u/qt|0;o[i]=(o[i]+t)%qt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,dt?tt(e,m.precision):e};he.toDecimalPlaces=he.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Vr(e,0,Vs),t===void 0?t=r.rounding:Vr(t,0,8),tt(n,e+Nt(n)+1,t))};he.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=fo(r,!0):(Vr(e,0,Vs),t===void 0?t=i.rounding:Vr(t,0,8),r=tt(new i(r),e+1,t),n=fo(r,!0,e+1)),n};he.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?fo(i):(Vr(e,0,Vs),t===void 0?t=o.rounding:Vr(t,0,8),r=tt(new o(i),e+Nt(i)+1,t),n=fo(r.abs(),!1,e+Nt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var e=this,t=e.constructor;return tt(new t(e),Nt(e)+1,t.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(e){var t,n,r,i,o,l,u=this,d=u.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(Yn);if(u=new d(u),!u.s){if(e.s<1)throw Error(yr+"Infinity");return u}if(u.eq(Yn))return u;if(r=d.precision,e.eq(Yn))return tt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=h<0?-h:h)<=$M){for(i=new d(Yn),t=Math.ceil(r/ot+4),dt=!1;n%2&&(i=i.times(u),v2(i.d,t)),n=Ks(n/2),n!==0;)u=u.times(u),v2(u.d,t);return dt=!0,e.s<0?new d(Yn).div(i):tt(i,r)}}else if(o<0)throw Error(yr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,dt=!1,i=e.times(Iu(u,r+f)),dt=!0,i=GM(i),i.s=o,i};he.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Nt(i),r=fo(i,n<=o.toExpNeg||n>=o.toExpPos)):(Vr(e,1,Vs),t===void 0?t=o.rounding:Vr(t,0,8),i=tt(new o(i),e,t),n=Nt(i),r=fo(i,e<=n||n<=o.toExpNeg,e)),r};he.toSignificantDigits=he.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Vr(e,1,Vs),t===void 0?t=r.rounding:Vr(t,0,8)),tt(new r(n),e,t)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nt(e),n=e.constructor;return fo(e,t<=n.toExpNeg||t>=n.toExpPos)};function HM(e,t){var n,r,i,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),dt?tt(t,m):t;if(d=e.d,f=t.d,l=e.e,i=t.e,d=d.slice(),o=l-i,o){for(o<0?(r=d,o=-o,u=f.length):(r=f,i=l,u=d.length),l=Math.ceil(m/ot),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=d.length,o=f.length,u-o<0&&(o=u,r=f,f=d,d=r),n=0;o;)n=(d[--o]=d[o]+f[o]+n)/qt|0,d[o]%=qt;for(n&&(d.unshift(n),++i),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=i,dt?tt(t,m):t}function Vr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ao+e)}function qr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=ot-r.length,n&&(o+=pa(n)),o+=r;l=e[t],r=l+"",n=ot-r.length,n&&(o+=pa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var bi=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%qt|0,l=o/qt|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,d;if(o!=l)d=o>l?1:-1;else for(u=d=0;u<o;u++)if(r[u]!=i[u]){d=r[u]>i[u]?1:-1;break}return d}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,d,f,h,m,y,x,S,E,A,T,k,R,O,P,M,D,F,B=r.constructor,J=r.s==i.s?1:-1,U=r.d,G=i.d;if(!r.s)return new B(r);if(!i.s)throw Error(yr+"Division by zero");for(d=r.e-i.e,D=G.length,P=U.length,x=new B(J),S=x.d=[],f=0;G[f]==(U[f]||0);)++f;if(G[f]>(U[f]||0)&&--d,o==null?k=o=B.precision:l?k=o+(Nt(r)-Nt(i))+1:k=o,k<0)return new B(0);if(k=k/ot+2|0,f=0,D==1)for(h=0,G=G[0],k++;(f<P||h)&&k--;f++)R=h*qt+(U[f]||0),S[f]=R/G|0,h=R%G|0;else{for(h=qt/(G[0]+1)|0,h>1&&(G=e(G,h),U=e(U,h),D=G.length,P=U.length),O=D,E=U.slice(0,D),A=E.length;A<D;)E[A++]=0;F=G.slice(),F.unshift(0),M=G[0],G[1]>=qt/2&&++M;do h=0,u=t(G,E,D,A),u<0?(T=E[0],D!=A&&(T=T*qt+(E[1]||0)),h=T/M|0,h>1?(h>=qt&&(h=qt-1),m=e(G,h),y=m.length,A=E.length,u=t(m,E,y,A),u==1&&(h--,n(m,D<y?F:G,y))):(h==0&&(u=h=1),m=G.slice()),y=m.length,y<A&&m.unshift(0),n(E,m,A),u==-1&&(A=E.length,u=t(G,E,D,A),u<1&&(h++,n(E,D<A?F:G,A))),A=E.length):u===0&&(h++,E=[0]),S[f++]=h,u&&E[0]?E[A++]=U[O]||0:(E=[U[O]],A=1);while((O++<P||E[0]!==void 0)&&k--)}return S[0]||S.shift(),x.e=d,tt(x,l?o+Nt(x)+1:o)}})();function GM(e,t){var n,r,i,o,l,u,d=0,f=0,h=e.constructor,m=h.precision;if(Nt(e)>16)throw Error(ox+Nt(e));if(!e.s)return new h(Yn);for(dt=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(Ya(2,f))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Yn),h.precision=u;;){if(i=tt(i.times(e),u),n=n.times(++d),l=o.plus(bi(i,n,u)),qr(l.d).slice(0,u)===qr(o.d).slice(0,u)){for(;f--;)o=tt(o.times(o),u);return h.precision=m,t==null?(dt=!0,tt(o,m)):o}o=l}}function Nt(e){for(var t=e.e*ot,n=e.d[0];n>=10;n/=10)t++;return t}function Qv(e,t,n){if(t>e.LN10.sd())throw dt=!0,n&&(e.precision=n),Error(yr+"LN10 precision limit exceeded");return tt(new e(e.LN10),t)}function pa(e){for(var t="";e--;)t+="0";return t}function Iu(e,t){var n,r,i,o,l,u,d,f,h,m=1,y=10,x=e,S=x.d,E=x.constructor,A=E.precision;if(x.s<1)throw Error(yr+(x.s?"NaN":"-Infinity"));if(x.eq(Yn))return new E(0);if(t==null?(dt=!1,f=A):f=t,x.eq(10))return t==null&&(dt=!0),Qv(E,f);if(f+=y,E.precision=f,n=qr(S),r=n.charAt(0),o=Nt(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=qr(x.d),r=n.charAt(0),m++;o=Nt(x),r>1?(x=new E("0."+n),o++):x=new E(r+"."+n.slice(1))}else return d=Qv(E,f+2,A).times(o+""),x=Iu(new E(r+"."+n.slice(1)),f-y).plus(d),E.precision=A,t==null?(dt=!0,tt(x,A)):x;for(u=l=x=bi(x.minus(Yn),x.plus(Yn),f),h=tt(x.times(x),f),i=3;;){if(l=tt(l.times(h),f),d=u.plus(bi(l,new E(i),f)),qr(d.d).slice(0,f)===qr(u.d).slice(0,f))return u=u.times(2),o!==0&&(u=u.plus(Qv(E,f+2,A).times(o+""))),u=bi(u,new E(m),f),E.precision=A,t==null?(dt=!0,tt(u,A)):u;u=d,i+=2}}function g2(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ks(n/ot),e.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ot;r<i;)e.d.push(+t.slice(r,r+=ot));t=t.slice(r),r=ot-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),dt&&(e.e>Gf||e.e<-Gf))throw Error(ox+n)}else e.s=0,e.e=0,e.d=[0];return e}function tt(e,t,n){var r,i,o,l,u,d,f,h,m=e.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=ot,i=t,f=m[h=0];else{if(h=Math.ceil((r+1)/ot),o=m.length,h>=o)return e;for(f=o=m[h],l=1;o>=10;o/=10)l++;r%=ot,i=r-ot+l}if(n!==void 0&&(o=Ya(10,l-i-1),u=f/o%10|0,d=t<0||m[h+1]!==void 0||f%o,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?i>0?f/Ya(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(o=Nt(e),m.length=1,t=t-o-1,m[0]=Ya(10,(ot-t%ot)%ot),e.e=Ks(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Ya(10,ot-r),m[h]=i>0?(f/Ya(10,l-i)%Ya(10,i)|0)*o:0),d)for(;;)if(h==0){(m[0]+=o)==qt&&(m[0]=1,++e.e);break}else{if(m[h]+=o,m[h]!=qt)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(dt&&(e.e>Gf||e.e<-Gf))throw Error(ox+Nt(e));return e}function VM(e,t){var n,r,i,o,l,u,d,f,h,m,y=e.constructor,x=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),dt?tt(t,x):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(h=l<0,h?(n=d,l=-l,u=m.length):(n=m,r=f,u=d.length),i=Math.max(Math.ceil(x/ot),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=d.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(d[i]!=m[i]){h=d[i]<m[i];break}l=0}for(h&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,i=m.length-u;i>0;--i)d[u++]=0;for(i=m.length;i>l;){if(d[--i]<m[i]){for(o=i;o&&d[--o]===0;)d[o]=qt-1;--d[o],d[i]+=qt}d[i]-=m[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,dt?tt(t,x):t):new y(0)}function fo(e,t,n){var r,i=Nt(e),o=qr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+pa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+pa(-i-1)+o,n&&(r=n-l)>0&&(o+=pa(r))):i>=l?(o+=pa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+pa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=pa(r))),e.s<0?"-"+o:o}function v2(e,t){if(e.length>t)return e.length=t,!0}function KM(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ao+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return g2(l,o.toString())}else if(typeof o!="string")throw Error(ao+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,cQ.test(o))g2(l,o);else throw Error(ao+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KM,i.config=i.set=dQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function dQ(e){if(!e||typeof e!="object")throw Error(yr+"Object expected");var t,n,r,i=["precision",1,Vs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ks(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ao+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ao+n+": "+r);return this}var sx=KM(uQ);Yn=new sx(1);const Ye=sx;var fQ=e=>e,YM={},JM=e=>e===YM,y2=e=>function t(){return arguments.length===0||arguments.length===1&&JM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WM=(e,t)=>e===1?t:y2(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==YM).length;return o>=e?t(...r):WM(e-o,y2(function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var f=r.map(h=>JM(h)?u.shift():h);return t(...f,...u)}))}),hQ=e=>WM(e.length,e),Py=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pQ=hQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),mQ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return fQ;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,d)=>d(u),o(...arguments))}};function XM(e){var t;return e===0?t=1:t=Math.floor(new Ye(e).abs().log(10).toNumber())+1,t}function QM(e,t,n){for(var r=new Ye(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var ZM=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},eO=(e,t,n)=>{if(e.lte(0))return new Ye(0);var r=XM(e.toNumber()),i=new Ye(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Ye(Math.ceil(o.div(l).toNumber())).add(n).mul(l),d=u.mul(i);return t?new Ye(d.toNumber()):new Ye(Math.ceil(d.toNumber()))},gQ=(e,t,n)=>{var r=new Ye(1),i=new Ye(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Ye(10).pow(XM(e)-1),i=new Ye(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ye(Math.floor(e)))}else e===0?i=new Ye(Math.floor((t-1)/2)):n||(i=new Ye(Math.floor(e)));var l=Math.floor((t-1)/2),u=mQ(pQ(d=>i.add(new Ye(d-l).mul(r)).toNumber()),Py);return u(0,t)},tO=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ye(0),tickMin:new Ye(0),tickMax:new Ye(0)};var l=eO(new Ye(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Ye(0):(u=new Ye(t).add(n).div(2),u=u.sub(new Ye(u).mod(l)));var d=Math.ceil(u.sub(t).div(l).toNumber()),f=Math.ceil(new Ye(n).sub(u).div(l).toNumber()),h=d+f+1;return h>r?tO(t,n,r,i,o+1):(h<r&&(f=n>0?f+(r-h):f,d=n>0?d:d+(r-h)),{step:l,tickMin:u.sub(new Ye(d).mul(l)),tickMax:u.add(new Ye(f).mul(l))})},vQ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,d]=ZM([n,r]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Py(0,i-1).map(()=>1/0)]:[...Py(0,i-1).map(()=>-1/0),d];return n>r?f.reverse():f}if(u===d)return gQ(u,i,o);var{step:h,tickMin:m,tickMax:y}=tO(u,d,l,o,0),x=QM(m,y.add(new Ye(.1).mul(h)),h);return n>r?x.reverse():x},yQ=function(t,n){var[r,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=ZM([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(n,2),f=eO(new Ye(u).sub(l).div(d-1),o,0),h=[...QM(new Ye(l),new Ye(u),f),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},nO=e=>e.rootProps.maxBarSize,bQ=e=>e.rootProps.barGap,rO=e=>e.rootProps.barCategoryGap,xQ=e=>e.rootProps.barSize,$h=e=>e.rootProps.stackOffset,iO=e=>e.rootProps.reverseStackOrder,lx=e=>e.options.chartName,ux=e=>e.rootProps.syncId,aO=e=>e.rootProps.syncMethod,cx=e=>e.options.eventEmitter,bn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Gn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Hh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:mi.reversed,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:mi.type,unit:void 0},_Q={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,ticks:void 0,type:Gn.type,unit:void 0},SQ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},EQ={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gn.scale,tick:Gn.tick,tickCount:Gn.tickCount,ticks:void 0,type:"category",unit:void 0},dx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SQ:wQ,fx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?EQ:_Q,Gh=e=>e.polarOptions,hx=Q([Oi,Di,Gt],yJ),oO=Q([Gh,hx],(e,t)=>{if(e!=null)return Mr(e.innerRadius,t,0)}),sO=Q([Gh,hx],(e,t)=>{if(e!=null)return Mr(e.outerRadius,t,t*.8)}),AQ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},lO=Q([Gh],AQ);Q([dx,lO],Hh);var uO=Q([hx,oO,sO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Q([fx,uO],Hh);var cO=Q([Je,Gh,oO,sO,Oi,Di],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:d,endAngle:f}=t;return{cx:Mr(l,i,i/2),cy:Mr(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:f,clockWise:!1}}}),Ot=(e,t)=>t,Vh=(e,t,n)=>n;function px(e){return e==null?void 0:e.id}function dO(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var h=px(u);f.forEach((m,y)=>{var x=o==null||i?y:String(ln(m,o,null)),S=ln(m,u.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[h]:S}),l.set(x,E)})}}),Array.from(l.values())}function Kh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Yh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Jh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function TQ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Dt=e=>{var t=Je(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ys=e=>e.tooltip.settings.axisId;function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(r){CQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CQ(e,t,n){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var My=[0,"auto"],Bt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},fO=(e,t)=>e.cartesianAxis.xAxis[t],Li=(e,t)=>{var n=fO(e,t);return n??Bt},zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:My,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Fu},hO=(e,t)=>e.cartesianAxis.yAxis[t],Fi=(e,t)=>{var n=hO(e,t);return n??zt},kQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??kQ},_n=(e,t,n)=>{switch(t){case"xAxis":return Li(e,n);case"yAxis":return Fi(e,n);case"zAxis":return mx(e,n);case"angleAxis":return dx(e,n);case"radiusAxis":return fx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},IQ=(e,t,n)=>{switch(t){case"xAxis":return Li(e,n);case"yAxis":return Fi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Vu=(e,t,n)=>{switch(t){case"xAxis":return Li(e,n);case"yAxis":return Fi(e,n);case"angleAxis":return dx(e,n);case"radiusAxis":return fx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},pO=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mO(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var gx=e=>e.graphicalItems.cartesianItems,PQ=Q([Ot,Vh],mO),gO=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ku=Q([gx,_n,PQ],gO,{memoizeOptions:{resultEqualityCheck:Jh}}),vO=Q([Ku],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Kh)),yO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MQ=Q([Ku],yO),bO=e=>e.map(t=>t.data).filter(Boolean).flat(1),OQ=Q([Ku],bO,{memoizeOptions:{resultEqualityCheck:Jh}}),xO=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},vx=Q([OQ,zM],xO),wO=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ln(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ln(i,r)}))):e.map(r=>({value:r})),Wh=Q([vx,_n,Ku],wO);function _O(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xd(e){if(Hr(e)||e instanceof Date){var t=Number(e);if(ht(t))return t}}function x2(e){if(Array.isArray(e)){var t=[Xd(e[0]),Xd(e[1])];return xa(t)?t:void 0}var n=Xd(e);if(n!=null)return[n,n]}function Ri(e){return e.map(Xd).filter(qV)}function DQ(e,t,n){return!n||typeof t!="number"||Pr(t)?[]:n.length?Ri(n.flatMap(r=>{var i=ln(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!ht(o)||!ht(l)))return[t-o,t+l]})):[]}var Ut=e=>{var t=Dt(e),n=Ys(e);return Vu(e,t,n)},Yu=Q([Ut],e=>e==null?void 0:e.dataKey),UQ=Q([vO,zM,Ut],dO),SO=(e,t,n,r)=>{var i={},o=t.reduce((l,u)=>{if(u.stackId==null)return l;var d=l[u.stackId];return d==null&&(d=[]),d.push(u),l[u.stackId]=d,l},i);return Object.fromEntries(Object.entries(o).map(l=>{var[u,d]=l,f=r?[...d].reverse():d,h=f.map(px);return[u,{stackedData:lK(e,h,n),graphicalItems:f}]}))},Oy=Q([UQ,vO,$h,iO],SO),EO=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=hK(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},jQ=Q([_n],e=>e.allowDataOverflow),yx=e=>{var t;if(e==null||!("domain"in e))return My;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ri(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:My},AO=Q([_n],yx),TO=Q([AO,jQ],qM),LQ=Q([Oy,ji,Ot,TO],EO,{memoizeOptions:{resultEqualityCheck:Yh}}),bx=e=>e.errorBars,FQ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>_O(n,r)),Kf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},CO=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(d=>{var f,h,m=(f=r[d.id])===null||f===void 0?void 0:f.filter(T=>_O(i,T)),y=ln(u,(h=t.dataKey)!==null&&h!==void 0?h:d.dataKey),x=DQ(u,y,m);if(x.length>=2){var S=Math.min(...x),E=Math.max(...x);(o==null||S<o)&&(o=S),(l==null||E>l)&&(l=E)}var A=x2(y);A!=null&&(o=o==null?A[0]:Math.min(o,A[0]),l=l==null?A[1]:Math.max(l,A[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var d=x2(ln(u,t.dataKey));d!=null&&(o=o==null?d[0]:Math.min(o,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),ht(o)&&ht(l))return[o,l]},BQ=Q([vx,_n,MQ,bx,Ot],CO,{memoizeOptions:{resultEqualityCheck:Yh}});function zQ(e){var{value:t}=e;if(Hr(t)||t instanceof Date)return t}var qQ=(e,t,n)=>{var r=e.map(zQ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&LI(r))?aM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},NO=e=>e.referenceElements.dots,Js=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),$Q=Q([NO,Ot,Vh],Js),RO=e=>e.referenceElements.areas,HQ=Q([RO,Ot,Vh],Js),kO=e=>e.referenceElements.lines,GQ=Q([kO,Ot,Vh],Js),IO=(e,t)=>{if(e!=null){var n=Ri(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VQ=Q($Q,Ot,IO),PO=(e,t)=>{if(e!=null){var n=Ri(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KQ=Q([HQ,Ot],PO);function YQ(e){var t;if(e.x!=null)return Ri([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ri(n)}function JQ(e){var t;if(e.y!=null)return Ri([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ri(n)}var MO=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?YQ(r):JQ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WQ=Q([GQ,Ot],MO),XQ=Q(VQ,WQ,KQ,(e,t,n)=>Kf(e,n,t)),OO=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var d=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",f=d?Kf(r,o,i):Kf(o,i);return lQ(t,f,e.allowDataOverflow)},QQ=Q([_n,AO,TO,LQ,BQ,XQ,Je,Ot],OO,{memoizeOptions:{resultEqualityCheck:Yh}}),ZQ=[0,1],DO=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:d}=e,f=go(t,o);if(f&&u==null){var h;return aM(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return d==="category"?qQ(r,e,f):i==="expand"?ZQ:l}},xx=Q([_n,Je,vx,Wh,$h,Ot,QQ],DO),UO=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Du(o));return u in lu?u:"point"}}},Ju=Q([_n,Je,pO,lx,Ot],UO);function eZ(e){if(e!=null){if(e in lu)return lu[e]();var t="scale".concat(Du(e));if(t in lu)return lu[t]()}}function wx(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=eZ(t);if(i!=null){var o=i.domain(n).range(r);return rK(o),o}}}var jO=(e,t,n)=>{var r=yx(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xa(e))return vQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&xa(e))return yQ(e,t.tickCount,t.allowDecimals)}},_x=Q([xx,Vu,Ju],jO),LO=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&xa(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},tZ=Q([_n,xx,_x,Ot],LO),nZ=Q(Wh,_n,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ri(e.map(m=>m.value))).sort((m,y)=>m-y),i=r[0],o=r[r.length-1];if(i==null||o==null)return 1/0;var l=o-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var d=r[u],f=r[u+1];if(!(d==null||f==null)){var h=f-d;n=Math.min(n,h)}}return n/l}}),FO=Q(nZ,Je,rO,Gt,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!ht(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=Mr(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),rZ=(e,t,n)=>{var r=Li(e,t);return r==null||typeof r.padding!="string"?0:FO(e,"xAxis",t,n,r.padding)},iZ=(e,t,n)=>{var r=Fi(e,t);return r==null||typeof r.padding!="string"?0:FO(e,"yAxis",t,n,r.padding)},aZ=Q(Li,rZ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),oZ=Q(Fi,iZ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),sZ=Q([Gt,aZ,kh,Rh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),lZ=Q([Gt,Je,oZ,kh,Rh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Wu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return sZ(e,n,r);case"yAxis":return lZ(e,n,r);case"zAxis":return(i=mx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return lO(e);case"radiusAxis":return uO(e,n);default:return}},BO=Q([_n,Wu],Hh),Xh=Q([_n,Ju,tZ,BO],wx);Q([Ku,bx,Ot],FQ);function zO(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qh=(e,t)=>t,Zh=(e,t,n)=>n,uZ=Q(Ch,Qh,Zh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zO)),cZ=Q(Nh,Qh,Zh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(zO)),qO=(e,t)=>({width:e.width,height:t.height}),dZ=(e,t)=>{var n=typeof t.width=="number"?t.width:Fu;return{width:n,height:e.height}},$O=Q(Gt,Li,qO),fZ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},hZ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},pZ=Q(Di,Gt,uZ,Qh,Zh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=qO(t,u);l==null&&(l=fZ(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),o}),mZ=Q(Oi,Gt,cZ,Qh,Zh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var d=dZ(t,u);l==null&&(l=hZ(t,r,e));var f=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),o}),gZ=(e,t)=>{var n=Li(e,t);if(n!=null)return pZ(e,n.orientation,n.mirror)},vZ=Q([Gt,Li,gZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),yZ=(e,t)=>{var n=Fi(e,t);if(n!=null)return mZ(e,n.orientation,n.mirror)},bZ=Q([Gt,Fi,yZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),HO=Q(Gt,Fi,(e,t)=>{var n=typeof t.width=="number"?t.width:Fu;return{width:n,height:e.height}}),w2=(e,t,n)=>{switch(t){case"xAxis":return $O(e,n).width;case"yAxis":return HO(e,n).height;default:return}},GO=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=go(e,r),d=t.map(f=>f.value);if(l&&u&&o==="category"&&i&&LI(d))return d}},Sx=Q([Je,Wh,_n,Ot],GO),VO=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=go(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},Ex=Q([Je,Wh,Vu,Ot],VO),_2=Q([Je,IQ,Ju,Xh,Sx,Ex,Wu,_x,Ot],(e,t,n,r,i,o,l,u,d)=>{if(t!=null){var f=go(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:u,range:l,realScaleType:n,scale:r}}}),xZ=(e,t,n,r,i,o,l,u,d)=>{if(!(t==null||r==null)){var f=go(e,d),{type:h,ticks:m,tickCount:y}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/x:0;S=d==="angleAxis"&&o!=null&&o.length>=2?kn(o[0]-o[1])*2*S:S;var E=m||i;if(E){var A=E.map((T,k)=>{var R=l?l.indexOf(T):T;return{index:k,coordinate:r(R)+S,value:T,offset:S}});return A.filter(T=>ht(T.coordinate))}return f&&u?u.map((T,k)=>({coordinate:r(T)+S,value:T,index:k,offset:S})).filter(T=>ht(T.coordinate)):r.ticks?r.ticks(y).map(T=>({coordinate:r(T)+S,value:T,offset:S})):r.domain().map((T,k)=>({coordinate:r(T)+S,value:l?l[T]:T,index:k,offset:S}))}},KO=Q([Je,Vu,Ju,Xh,_x,Wu,Sx,Ex,Ot],xZ),wZ=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=go(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(r==null?void 0:r.length)>=2?kn(r[0]-r[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.ticks?n.ticks(d).map(h=>({coordinate:n(h)+f,value:h,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}},js=Q([Je,Vu,Xh,Wu,Sx,Ex,Ot],wZ),Ls=Q(_n,Xh,(e,t)=>{if(!(e==null||t==null))return Vf(Vf({},e),{},{scale:t})}),_Z=Q([_n,Ju,xx,BO],wx);Q((e,t,n)=>mx(e,n),_Z,(e,t)=>{if(!(e==null||t==null))return Vf(Vf({},e),{},{scale:t})});var SZ=Q([Je,Ch,Nh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),YO=e=>e.options.defaultTooltipEventType,JO=e=>e.options.validateTooltipEventTypes;function WO(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Ax(e,t){var n=YO(e),r=JO(e);return WO(t,n,r)}function EZ(e){return we(t=>Ax(t,e))}var XO=(e,t)=>{var n,r=Number(t);if(!(Pr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},AZ=e=>e.tooltip.settings,va={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},TZ={itemInteraction:{click:va,hover:va},axisInteraction:{click:va,hover:va},keyboardInteraction:va,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QO=Pn({name:"tooltip",initialState:TZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ct()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ir(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ct()},removeTooltipEntrySettings:{reducer(e,t){var n=Ir(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ct()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:CZ,replaceTooltipEntrySettings:NZ,removeTooltipEntrySettings:RZ,setTooltipSettingsState:kZ,setActiveMouseOverItemIndex:ZO,mouseLeaveItem:IZ,mouseLeaveChart:eD,setActiveClickItemIndex:PZ,setMouseOverAxisIndex:tD,setMouseClickAxisIndex:MZ,setSyncInteraction:Dy,setKeyboardInteraction:Uy}=QO.actions,OZ=QO.reducer;function S2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(n),!0).forEach(function(r){DZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DZ(e,t,n){return(t=UZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function FZ(e){return e.index!=null}var nD=(e,t,n,r)=>{if(t==null)return va;var i=LZ(e,t,n);if(i==null)return va;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(FZ(i)){if(o)return zd(zd({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return zd(zd({},va),{},{coordinate:i.coordinate})};function BZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function zZ(e,t){var n=BZ(e),r=t[0],i=t[1];if(n===void 0)return!1;var o=Math.min(r,i),l=Math.max(r,i);return n>=o&&n<=l}function qZ(e,t,n){if(n==null||t==null)return!0;var r=ln(e,t);return r==null||!xa(n)?!0:zZ(r,n)}var Tx=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var o=Number(i);if(!ht(o))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(l,Math.min(o,u)),f=t[d];return f==null||qZ(f,n,r)?String(d):null},rD=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var d=l[0],f=d==null?void 0:u(d.positions,o);if(f!=null)return f;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},iD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},Xu=e=>e.options.tooltipPayloadSearcher,Ws=e=>e.tooltip;function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(n),!0).forEach(function(r){$Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Z(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VZ(e,t){return e??t}var aD=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:h}=n,m=[];return e.reduce((y,x)=>{var S,{dataDefinedOnItem:E,settings:A}=x,T=VZ(E,u),k=Array.isArray(T)?kP(T,f,h):T,R=(S=A==null?void 0:A.dataKey)!==null&&S!==void 0?S:r,O=A==null?void 0:A.nameKey,P;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?P=zV(k,r,i):P=o(k,t,d,O),Array.isArray(P))P.forEach(D=>{var F=A2(A2({},A),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});y.push(kC({tooltipEntrySettings:F,dataKey:D.dataKey,payload:D.payload,value:ln(D.payload,D.dataKey),name:D.name}))});else{var M;y.push(kC({tooltipEntrySettings:A,dataKey:R,payload:P,value:ln(P,R),name:(M=ln(P,O))!==null&&M!==void 0?M:A==null?void 0:A.name}))}return y},m)}},Cx=Q([Ut,Je,pO,lx,Dt],UO),KZ=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),YZ=Q([Dt,Ys],mO),Xs=Q([KZ,Ut,YZ],gO,{memoizeOptions:{resultEqualityCheck:Jh}}),JZ=Q([Xs],e=>e.filter(Kh)),WZ=Q([Xs],bO,{memoizeOptions:{resultEqualityCheck:Jh}}),Qs=Q([WZ,ji],xO),XZ=Q([JZ,ji,Ut],dO),Nx=Q([Qs,Ut,Xs],wO),oD=Q([Ut],yx),QZ=Q([Ut],e=>e.allowDataOverflow),sD=Q([oD,QZ],qM),ZZ=Q([Xs],e=>e.filter(Kh)),eee=Q([XZ,ZZ,$h,iO],SO),tee=Q([eee,ji,Dt,sD],EO),nee=Q([Xs],yO),ree=Q([Qs,Ut,nee,bx,Dt],CO,{memoizeOptions:{resultEqualityCheck:Yh}}),iee=Q([NO,Dt,Ys],Js),aee=Q([iee,Dt],IO),oee=Q([RO,Dt,Ys],Js),see=Q([oee,Dt],PO),lee=Q([kO,Dt,Ys],Js),uee=Q([lee,Dt],MO),cee=Q([aee,uee,see],Kf),dee=Q([Ut,oD,sD,tee,ree,cee,Je,Dt],OO),Qu=Q([Ut,Je,Qs,Nx,$h,Dt,dee],DO),fee=Q([Qu,Ut,Cx],jO),hee=Q([Ut,Qu,fee,Dt],LO),lD=e=>{var t=Dt(e),n=Ys(e),r=!1;return Wu(e,t,n,r)},uD=Q([Ut,lD],Hh),cD=Q([Ut,Cx,hee,uD],wx),pee=Q([Je,Nx,Ut,Dt],GO),mee=Q([Je,Nx,Ut,Dt],VO),gee=(e,t,n,r,i,o,l,u)=>{if(t){var{type:d}=t,f=go(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=d==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?kn(i[0]-i[1])*2*m:m,f&&l?l.map((y,x)=>({coordinate:r(y)+m,value:y,index:x,offset:m})):r.domain().map((y,x)=>({coordinate:r(y)+m,value:o?o[y]:y,index:x,offset:m}))}}},Bi=Q([Je,Ut,Cx,cD,lD,pee,mee,Dt],gee),Rx=Q([YO,JO,AZ],(e,t,n)=>WO(n.shared,e,t)),dD=e=>e.tooltip.settings.trigger,kx=e=>e.tooltip.settings.defaultIndex,Zu=Q([Ws,Rx,dD,kx],nD),Fs=Q([Zu,Qs,Yu,Qu],Tx),fD=Q([Bi,Fs],XO),hD=Q([Zu],e=>{if(e)return e.dataKey});Q([Zu],e=>{if(e)return e.graphicalItemId});var pD=Q([Ws,Rx,dD,kx],iD),vee=Q([Oi,Di,Je,Gt,Bi,kx,pD,Xu],rD),yee=Q([Zu,vee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bee=Q([Zu],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),xee=Q([pD,Fs,ji,Yu,fD,Xu,Rx],aD);Q([xee],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(r){wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=See(e,"string");return typeof t=="symbol"?t:t+""}function See(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eee=()=>we(Ut),Aee=()=>{var e=Eee(),t=we(Bi),n=we(cD);return Tf(!e||!n?void 0:C2(C2({},e),{},{scale:n}),t)};function N2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(n),!0).forEach(function(r){Tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tee(e,t,n){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ree=(e,t,n,r)=>{var i=t.find(o=>o&&o.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},kee=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var o=i.coordinate,{radius:l}=r;return fs(fs(fs({},r),sn(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:d}=r;return fs(fs(fs({},r),sn(r.cx,r.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Iee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var mD=(e,t,n,r,i)=>{var o,l=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d,f,h,m,y,x=u>0?(d=n[u-1])===null||d===void 0?void 0:d.coordinate:(f=n[l-1])===null||f===void 0?void 0:f.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(y=n[u+1])===null||y===void 0?void 0:y.coordinate,A=void 0;if(!(x==null||S==null||E==null))if(kn(S-x)!==kn(E-S)){var T=[];if(kn(E-S)===kn(i[1]-i[0])){A=E;var k=S+i[1]-i[0];T[0]=Math.min(k,(k+x)/2),T[1]=Math.max(k,(k+x)/2)}else{A=x;var R=E+i[1]-i[0];T[0]=Math.min(S,(R+S)/2),T[1]=Math.max(S,(R+S)/2)}var O=[Math.min(S,(A+S)/2),Math.max(S,(A+S)/2)];if(e>O[0]&&e<=O[1]||e>=T[0]&&e<=T[1]){var P;return(P=n[u])===null||P===void 0?void 0:P.index}}else{var M=Math.min(x,E),D=Math.max(x,E);if(e>(M+S)/2&&e<=(D+S)/2){var F;return(F=n[u])===null||F===void 0?void 0:F.index}}}else if(t)for(var B=0;B<l;B++){var J=t[B];if(J!=null){var U=t[B+1],G=t[B-1];if(B===0&&U!=null&&e<=(J.coordinate+U.coordinate)/2||B===l-1&&G!=null&&e>(J.coordinate+G.coordinate)/2||B>0&&B<l-1&&G!=null&&U!=null&&e>(J.coordinate+G.coordinate)/2&&e<=(J.coordinate+U.coordinate)/2)return J.index}}return-1},Pee=()=>we(lx),Ix=(e,t)=>t,gD=(e,t,n)=>n,Px=(e,t,n,r)=>r,Mee=Q(Bi,e=>vh(e,t=>t.coordinate)),Mx=Q([Ws,Ix,gD,Px],nD),Ox=Q([Mx,Qs,Yu,Qu],Tx),Oee=(e,t,n)=>{if(t!=null){var r=Ws(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},vD=Q([Ws,Ix,gD,Px],iD),Yf=Q([Oi,Di,Je,Gt,Bi,Px,vD,Xu],rD),Dee=Q([Mx,Yf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),yD=Q([Bi,Ox],XO),Uee=Q([vD,Ox,ji,Yu,yD,Xu,Ix],aD),jee=Q([Mx,Ox],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Lee=(e,t,n,r,i,o,l)=>{if(!(!e||!n||!r||!i)&&Iee(e,l)){var u=pK(e,t),d=mD(u,o,i,n,r),f=Ree(t,i,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Fee=(e,t,n,r,i,o,l)=>{if(!(!e||!r||!i||!o||!n)){var u=SJ(e,n);if(u){var d=mK(u,t),f=mD(d,l,o,r,i),h=kee(t,o,f,u);return{activeIndex:String(f),activeCoordinate:h}}}},Bee=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o))return t==="horizontal"||t==="vertical"?Lee(e,t,r,i,o,l,u):Fee(e,t,n,r,i,o,l)},zee=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),qee=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(bn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:TQ}});function R2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function k2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(n),!0).forEach(function(r){$ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee={},Kee={zIndexMap:Object.values(bn).reduce((e,t)=>k2(k2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Vee)},Yee=new Set(Object.values(bn));function Jee(e){return Yee.has(e)}var bD=Pn({name:"zIndex",initialState:Kee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ct()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Jee(n)&&delete e.zIndexMap[n])},prepare:ct()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:ct()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:ct()}}}),{registerZIndexPortal:Wee,unregisterZIndexPortal:Xee,registerZIndexPortalElement:Qee,unregisterZIndexPortalElement:Zee}=bD.actions,ete=bD.reducer;function zi(e){var{zIndex:t,children:n}=e,r=YK(),i=r&&t!==void 0&&t!==0,o=Mn(),l=wt();C.useLayoutEffect(()=>i?(l(Wee({zIndex:t})),()=>{l(Xee({zIndex:t}))}):Uu,[l,t,i]);var u=we(d=>zee(d,t,o));return i?u?xI.createPortal(n,u):null:n}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tte(e,t,n){return(t=nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nte(e){var t=rte(e,"string");return typeof t=="symbol"?t:t+""}function rte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ite(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return C.isValidElement(t)?C.cloneElement(t,r):C.createElement(n,r)}function ate(e){var t,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:l,layout:u,cursor:d,tooltipEventType:f,chartName:h}=e,m=n,y=r,x=i;if(!d||!m||h!=="ScatterChart"&&f!=="axis")return null;var S,E,A;if(h==="ScatterChart")S=m,E=UY,A=bn.cursorLine;else if(h==="BarChart")S=jY(u,m,o,l),E=tM,A=bn.cursorRectangle;else if(u==="radial"&&zI(m)){var{cx:T,cy:k,radius:R,startAngle:O,endAngle:P}=nM(m);S={cx:T,cy:k,startAngle:O,endAngle:P,innerRadius:R,outerRadius:R},E=iM,A=bn.cursorLine}else S={points:CJ(u,m,o)},E=WP,A=bn.cursorLine;var M=typeof d=="object"&&"className"in d?d.className:void 0,D=qd(qd(qd(qd({stroke:"#ccc",pointerEvents:"none"},o),S),mb(d)),{},{payload:y,payloadIndex:x,className:st("recharts-tooltip-cursor",M)});return C.createElement(zi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:A},C.createElement(ite,{cursor:d,cursorComp:E,cursorProps:D}))}function ote(e){var t=Aee(),n=FP(),r=Bu(),i=Pee();return t==null||n==null||r==null||i==null?null:C.createElement(ate,jy({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var xD=C.createContext(null),ste=()=>C.useContext(xD),Zv={exports:{}},P2;function lte(){return P2||(P2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function o(d,f,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,m||d,y),S=n?n+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],x]:d._events[S].push(x):(d._events[S]=x,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,x=m.length,S=new Array(x);y<x;y++)S[y]=m[y].fn;return S},u.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,h,m,y,x,S){var E=n?n+f:f;if(!this._events[E])return!1;var A=this._events[E],T=arguments.length,k,R;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),T){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,y),!0;case 5:return A.fn.call(A.context,h,m,y,x),!0;case 6:return A.fn.call(A.context,h,m,y,x,S),!0}for(R=1,k=new Array(T-1);R<T;R++)k[R-1]=arguments[R];A.fn.apply(A.context,k)}else{var O=A.length,P;for(R=0;R<O;R++)switch(A[R].once&&this.removeListener(f,A[R].fn,void 0,!0),T){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,h);break;case 3:A[R].fn.call(A[R].context,h,m);break;case 4:A[R].fn.call(A[R].context,h,m,y);break;default:if(!k)for(P=1,k=new Array(T-1);P<T;P++)k[P-1]=arguments[P];A[R].fn.apply(A[R].context,k)}}return!0},u.prototype.on=function(f,h,m){return o(this,f,h,m,!1)},u.prototype.once=function(f,h,m){return o(this,f,h,m,!0)},u.prototype.removeListener=function(f,h,m,y){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!y||S.once)&&(!m||S.context===m)&&l(this,x);else{for(var E=0,A=[],T=S.length;E<T;E++)(S[E].fn!==h||y&&!S[E].once||m&&S[E].context!==m)&&A.push(S[E]);A.length?this._events[x]=A.length===1?A[0]:A:l(this,x)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Zv)),Zv.exports}var ute=lte();const cte=Kr(ute);var Pu=new cte,Ly="recharts.syncEvent.tooltip",M2="recharts.syncEvent.brush";function dte(e,t){if(t){var n=Number.parseInt(t,10);if(!Pr(n))return e==null?void 0:e[n]}}var fte={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wD=Pn({name:"options",initialState:fte,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hte=wD.reducer,{createEventEmitter:pte}=wD.actions;function mte(e){return e.tooltip.syncInteraction}var gte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_D=Pn({name:"chartData",initialState:gte,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:O2,setDataStartEndIndexes:vte,setComputedData:Ose}=_D.actions,yte=_D.reducer,bte=["x","y"];function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(r){xte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xte(e,t,n){return(t=wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wte(e){var t=_te(e,"string");return typeof t=="symbol"?t:t+""}function _te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e,t){if(e==null)return{};var n,r,i=Ete(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ete(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ate(){var e=we(ux),t=we(cx),n=wt(),r=we(aO),i=we(Bi),o=Bu(),l=Ih(),u=we(d=>d.rootProps.className);C.useEffect(()=>{if(e==null)return Uu;var d=(f,h,m)=>{if(t!==m&&e===f){if(r==="index"){var y;if(l&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:S,y:E}=x,A=Ste(x,bte),{x:T,y:k,width:R,height:O}=h.payload.sourceViewBox,P=hs(hs({},A),{},{x:l.x+(R?(S-T)/R:0)*l.width,y:l.y+(O?(E-k)/O:0)*l.height});n(hs(hs({},h),{},{payload:hs(hs({},h.payload),{},{coordinate:P})}))}else n(h);return}if(i!=null){var M;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},F=r(i,D);M=i[F]}else r==="value"&&(M=i.find(q=>String(q.value)===h.payload.label));var{coordinate:B}=h.payload;if(M==null||h.payload.active===!1||B==null||l==null){n(Dy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:J,y:U}=B,G=Math.min(J,l.x+l.width),Z=Math.min(U,l.y+l.height),Y={x:o==="horizontal"?M.coordinate:G,y:o==="horizontal"?Z:M.coordinate},ie=Dy({active:h.payload.active,coordinate:Y,dataKey:h.payload.dataKey,index:String(M.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(ie)}}};return Pu.on(Ly,d),()=>{Pu.off(Ly,d)}},[u,n,t,e,r,i,o,l])}function Tte(){var e=we(ux),t=we(cx),n=wt();C.useEffect(()=>{if(e==null)return Uu;var r=(i,o,l)=>{t!==l&&e===i&&n(vte(o))};return Pu.on(M2,r),()=>{Pu.off(M2,r)}},[n,t,e])}function Cte(){var e=wt();C.useEffect(()=>{e(pte())},[e]),Ate(),Tte()}function Nte(e,t,n,r,i,o){var l=we(x=>Oee(x,e,t)),u=we(cx),d=we(ux),f=we(aO),h=we(mte),m=h==null?void 0:h.active,y=Ih();C.useEffect(()=>{if(!m&&d!=null&&u!=null){var x=Dy({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Pu.emit(Ly,d,x,u)}},[m,n,l,i,r,u,d,f,o,y])}function U2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(n),!0).forEach(function(r){Rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rte(e,t,n){return(t=kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pte(e){return e.dataKey}function Mte(e,t){return C.isValidElement(e)?C.cloneElement(e,t):typeof e=="function"?C.createElement(e,t):C.createElement(mY,t)}var L2=[],Ote={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dte(e){var t,n,r=Zn(e,Ote),{active:i,allowEscapeViewBox:o,animationDuration:l,animationEasing:u,content:d,filterNull:f,isAnimationActive:h,offset:m,payloadUniqBy:y,position:x,reverseDirection:S,useTranslate3d:E,wrapperStyle:A,cursor:T,shared:k,trigger:R,defaultIndex:O,portal:P,axisId:M}=r,D=wt(),F=typeof O=="number"?String(O):O;C.useEffect(()=>{D(kZ({shared:k,trigger:R,axisId:M,active:i,defaultIndex:F}))},[D,k,R,M,i,F]);var B=Ih(),J=JP(),U=EZ(k),{activeIndex:G,isActive:Z}=(t=we(Ce=>jee(Ce,U,R,F)))!==null&&t!==void 0?t:{},Y=we(Ce=>Uee(Ce,U,R,F)),ie=we(Ce=>yD(Ce,U,R,F)),q=we(Ce=>Dee(Ce,U,R,F)),X=Y,te=ste(),ce=(n=i??Z)!==null&&n!==void 0?n:!1,[ve,L]=Q7([X,ce]),ee=U==="axis"?ie:void 0;Nte(U,R,q,ee,G,ce);var re=P??te;if(re==null||B==null||U==null)return null;var le=X??L2;ce||(le=L2),f&&le.length&&(le=E7(le.filter(Ce=>Ce.value!=null&&(Ce.hide!==!0||r.includeHidden)),y,Pte));var me=le.length>0,Te=C.createElement(_Y,{allowEscapeViewBox:o,animationDuration:l,animationEasing:u,isAnimationActive:h,active:ce,coordinate:q,hasPayload:me,offset:m,position:x,reverseDirection:S,useTranslate3d:E,viewBox:B,wrapperStyle:A,lastBoundingBox:ve,innerRef:L,hasPortalFromProps:!!P},Mte(d,j2(j2({},r),{},{payload:le,label:ee,active:ce,activeIndex:G,coordinate:q,accessibilityLayer:J})));return C.createElement(C.Fragment,null,xI.createPortal(Te,re),ce&&C.createElement(ote,{cursor:T,tooltipEventType:U,coordinate:q,payload:le,index:G}))}var SD=e=>null;SD.displayName="Cell";function Ute(e,t,n){return(t=jte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jte(e){var t=Lte(e,"string");return typeof t=="symbol"?t:t+""}function Lte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fte{constructor(t){Ute(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(r){zte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zte(e,t,n){return(t=qte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qte(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hte={cacheSize:2e3,enableCache:!0},ED=Bte({},Hte),B2=new Fte(ED.cacheSize),Gte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},z2="recharts_measurement_span";function Vte(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var q2=(e,t)=>{try{var n=document.getElementById(z2);n||(n=document.createElement("span"),n.setAttribute("id",z2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Gte,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},du=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Uh.isSsr)return{width:0,height:0};if(!ED.enableCache)return q2(t,n);var r=Vte(t,n),i=B2.get(r);if(i)return i;var o=q2(t,n);return B2.set(r,o),o},AD;function Kte(e,t,n){return(t=Yte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yte(e){var t=Jte(e,"string");return typeof t=="symbol"?t:t+""}function Jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Qte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zte=["cm","mm","pt","pc","in","Q","px"];function ene(e){return Zte.includes(e)}var Ss="NaN";function tne(e,t){return e*Qte[t]}class an{static parse(t){var n,[,r,i]=(n=Xte.exec(t))!==null&&n!==void 0?n:[];return r==null?an.NaN:new an(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Pr(t)&&(this.unit=""),n!==""&&!Wte.test(n)&&(this.num=NaN,this.unit=""),ene(n)&&(this.num=tne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new an(NaN,""):new an(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new an(NaN,""):new an(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new an(NaN,""):new an(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new an(NaN,""):new an(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pr(this.num)}}AD=an;Kte(an,"NaN",new AD(NaN,""));function TD(e){if(e==null||e.includes(Ss))return Ss;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=$2.exec(t))!==null&&n!==void 0?n:[],l=an.parse(r??""),u=an.parse(o??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ss;t=t.replace($2,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,m,y]=(f=H2.exec(t))!==null&&f!==void 0?f:[],x=an.parse(h??""),S=an.parse(y??""),E=m==="+"?x.add(S):x.subtract(S);if(E.isNaN())return Ss;t=t.replace(H2,E.toString())}return t}var G2=/\(([^()]*)\)/;function nne(e){for(var t=e,n;(n=G2.exec(t))!=null;){var[,r]=n;t=t.replace(G2,TD(r))}return t}function rne(e){var t=e.replace(/\s+/g,"");return t=nne(t),t=TD(t),t}function ine(e){try{return rne(e)}catch{return Ss}}function e0(e){var t=ine(e.slice(5,-1));return t===Ss?"":t}var ane=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],one=["dx","dy","angle","className","breakAll"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function V2(e,t){if(e==null)return{};var n,r,i=sne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var CD=/[ \f\n\r\t\v\u2028\u2029]+/,ND=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];$t(t)||(n?i=t.toString().split(""):i=t.toString().split(CD));var o=i.map(u=>({word:u,width:du(u,r).width})),l=n?0:du("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}};function lne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var RD=(e,t,n,r)=>e.reduce((i,o)=>{var{word:l,width:u}=o,d=i[i.length-1];if(d&&u!=null&&(t==null||r||d.width+u+n<Number(t)))d.words.push(l),d.width+=u+n;else{var f={words:[l],width:u};i.push(f)}return i},[]),kD=e=>e.reduce((t,n)=>t.width>n.width?t:n),une="",K2=(e,t,n,r,i,o,l,u)=>{var d=e.slice(0,t),f=ND({breakAll:n,style:r,children:d+une});if(!f)return[!1,[]];var h=RD(f.wordsWithComputedWidth,o,l,u),m=h.length>i||kD(h).width>Number(o);return[m,h]},cne=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:d}=e,f=ye(o),h=String(l),m=RD(t,r,n,i);if(!f||i)return m;var y=m.length>o||kD(m).width>Number(r);if(!y)return m;for(var x=0,S=h.length-1,E=0,A;x<=S&&E<=h.length-1;){var T=Math.floor((x+S)/2),k=T-1,[R,O]=K2(h,k,d,u,o,r,n,i),[P]=K2(h,T,d,u,o,r,n,i);if(!R&&!P&&(x=T+1),R&&P&&(S=T-1),!R&&P){A=O;break}E++}return A||m},Y2=e=>{var t=$t(e)?[]:e.toString().split(CD);return[{words:t,width:void 0}]},dne=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!Uh.isSsr){var u,d,f=ND({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:m}=f;u=h,d=m}else return Y2(r);return cne({breakAll:o,children:r,maxLines:l,style:i},u,d,t,!!n)}return Y2(r)},ID="#808080",fne={angle:0,breakAll:!1,capHeight:"0.71em",fill:ID,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Dx=C.forwardRef((e,t)=>{var n=Zn(e,fne),{x:r,y:i,lineHeight:o,capHeight:l,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:h}=n,m=V2(n,ane),y=C.useMemo(()=>dne({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:d,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,d,m.style,m.width]),{dx:x,dy:S,angle:E,className:A,breakAll:T}=m,k=V2(m,one);if(!Hr(r)||!Hr(i)||y.length===0)return null;var R=Number(r)+(ye(x)?x:0),O=Number(i)+(ye(S)?S:0);if(!ht(R)||!ht(O))return null;var P;switch(h){case"start":P=e0("calc(".concat(l,")"));break;case"middle":P=e0("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(l," / 2))"));break;default:P=e0("calc(".concat(y.length-1," * -").concat(o,")"));break}var M=[];if(d){var D=y[0].width,{width:F}=m;M.push("scale(".concat(ye(F)&&ye(D)?F/D:1,")"))}return E&&M.push("rotate(".concat(E,", ").concat(R,", ").concat(O,")")),M.length&&(k.transform=M.join(" ")),C.createElement("text",Fy({},gr(k),{ref:t,x:R,y:O,className:st("recharts-text",A),textAnchor:f,fill:u.includes("url")?ID:u}),y.map((B,J)=>{var U=B.words.join(T?"":" ");return C.createElement("tspan",{x:R,dy:J===0?P:o,key:"".concat(U,"-").concat(J)},U)}))});Dx.displayName="Text";var hne=["labelRef"],pne=["content"];function J2(e,t){if(e==null)return{};var n,r,i=mne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(r){gne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gne(e,t,n){return(t=vne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(null,arguments)}var PD=C.createContext(null),bne=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l,children:u}=e,d=C.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:l}),[t,n,r,i,o,l]);return C.createElement(PD.Provider,{value:d},u)},MD=()=>{var e=C.useContext(PD),t=Ih();return e||LP(t)},xne=C.createContext(null),wne=()=>{var e=C.useContext(xne),t=we(cO);return e||t},_ne=e=>{var{value:t,formatter:n}=e,r=$t(e.children)?t:e.children;return typeof n=="function"?n(r):r},Ux=e=>e!=null&&typeof e=="function",Sne=(e,t)=>{var n=kn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Ene=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:d,innerRadius:f,outerRadius:h,startAngle:m,endAngle:y,clockWise:x}=i,S=(f+h)/2,E=Sne(m,y),A=E>=0?1:-1,T,k;switch(t){case"insideStart":T=m+A*o,k=x;break;case"insideEnd":T=y-A*o,k=!x;break;case"end":T=y+A*o,k=x;break;default:throw new Error("Unsupported position ".concat(t))}k=E<=0?k:!k;var R=sn(u,d,S,T),O=sn(u,d,S,T+(k?1:-1)*359),P="M".concat(R.x,",").concat(R.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(k?0:1,`,
    `).concat(O.x,",").concat(O.y),M=$t(e.id)?bu("recharts-radial-line-"):e.id;return C.createElement("text",gi({},r,{dominantBaseline:"central",className:st("recharts-radial-bar-label",l)}),C.createElement("defs",null,C.createElement("path",{id:M,d:P})),C.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Ane=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(n==="outside"){var{x:h,y:m}=sn(r,i,l+t,f);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x,y:S}=sn(r,i,y,f);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},By=e=>"cx"in e&&ye(e.cx),Tne=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!By(n)&&(o=n);var{x:l,y:u,upperWidth:d,lowerWidth:f,height:h}=t,m=l,y=l+(d-f)/2,x=(m+y)/2,S=(d+f)/2,E=m+d/2,A=h>=0?1:-1,T=A*r,k=A>0?"end":"start",R=A>0?"start":"end",O=d>=0?1:-1,P=O*r,M=O>0?"end":"start",D=O>0?"start":"end";if(i==="top"){var F={x:m+d/2,y:u-T,textAnchor:"middle",verticalAnchor:k};return xt(xt({},F),o?{height:Math.max(u-o.y,0),width:d}:{})}if(i==="bottom"){var B={x:y+f/2,y:u+h+T,textAnchor:"middle",verticalAnchor:R};return xt(xt({},B),o?{height:Math.max(o.y+o.height-(u+h),0),width:f}:{})}if(i==="left"){var J={x:x-P,y:u+h/2,textAnchor:M,verticalAnchor:"middle"};return xt(xt({},J),o?{width:Math.max(J.x-o.x,0),height:h}:{})}if(i==="right"){var U={x:x+S+P,y:u+h/2,textAnchor:D,verticalAnchor:"middle"};return xt(xt({},U),o?{width:Math.max(o.x+o.width-U.x,0),height:h}:{})}var G=o?{width:S,height:h}:{};return i==="insideLeft"?xt({x:x+P,y:u+h/2,textAnchor:D,verticalAnchor:"middle"},G):i==="insideRight"?xt({x:x+S-P,y:u+h/2,textAnchor:M,verticalAnchor:"middle"},G):i==="insideTop"?xt({x:m+d/2,y:u+T,textAnchor:"middle",verticalAnchor:R},G):i==="insideBottom"?xt({x:y+f/2,y:u+h-T,textAnchor:"middle",verticalAnchor:k},G):i==="insideTopLeft"?xt({x:m+P,y:u+T,textAnchor:D,verticalAnchor:R},G):i==="insideTopRight"?xt({x:m+d-P,y:u+T,textAnchor:M,verticalAnchor:R},G):i==="insideBottomLeft"?xt({x:y+P,y:u+h-T,textAnchor:D,verticalAnchor:k},G):i==="insideBottomRight"?xt({x:y+f-P,y:u+h-T,textAnchor:M,verticalAnchor:k},G):i&&typeof i=="object"&&(ye(i.x)||Ei(i.x))&&(ye(i.y)||Ei(i.y))?xt({x:l+Mr(i.x,S),y:u+Mr(i.y,h),textAnchor:"end",verticalAnchor:"end"},G):xt({x:E,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},G)},Cne={angle:0,offset:5,zIndex:bn.label,position:"middle",textBreakAll:!1};function ma(e){var t=Zn(e,Cne),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:d,labelRef:f}=t,h=wne(),m=MD(),y=r==="center"?m:h??m,x,S,E;if(n==null?x=y:By(n)?x=n:x=LP(n),!x||$t(i)&&$t(o)&&!C.isValidElement(l)&&typeof l!="function")return null;var A=xt(xt({},t),{},{viewBox:x});if(C.isValidElement(l)){var{labelRef:T}=A,k=J2(A,hne);return C.cloneElement(l,k)}if(typeof l=="function"){var{content:R}=A,O=J2(A,pne);if(S=C.createElement(l,O),C.isValidElement(S))return S}else S=_ne(t);var P=gr(t);if(By(x)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ene(t,r,S,P,x);E=Ane(x,t.offset,t.position)}else E=Tne(t,x);return C.createElement(zi,{zIndex:t.zIndex},C.createElement(Dx,gi({ref:f,className:st("recharts-label",u)},P,E,{textAnchor:lne(P.textAnchor)?P.textAnchor:E.textAnchor,breakAll:d}),S))}ma.displayName="Label";var Nne=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?C.createElement(ma,gi({key:"label-implicit"},r)):Hr(e)?C.createElement(ma,gi({key:"label-implicit",value:e},r)):C.isValidElement(e)?e.type===ma?C.cloneElement(e,xt({key:"label-implicit"},r)):C.createElement(ma,gi({key:"label-implicit",content:e},r)):Ux(e)?C.createElement(ma,gi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?C.createElement(ma,gi({},e,{key:"label-implicit"},r)):null};function Rne(e){var{label:t,labelRef:n}=e,r=MD();return Nne(t,r,n)||null}var t0={},n0={},X2;function kne(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(n0)),n0}var r0={},Q2;function Ine(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(r0)),r0}var Z2;function Pne(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kne(),n=Ine(),r=Sb();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(t0)),t0}var i0,eR;function Mne(){return eR||(eR=1,i0=Pne().last),i0}var One=Mne();const Dne=Kr(One);var Une=["valueAccessor"],jne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jf.apply(null,arguments)}function tR(e,t){if(e==null)return{};var n,r,i=Lne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Fne=e=>Array.isArray(e.value)?Dne(e.value):e.value,OD=C.createContext(void 0),Bne=OD.Provider,DD=C.createContext(void 0);DD.Provider;function zne(){return C.useContext(OD)}function qne(){return C.useContext(DD)}function Qd(e){var{valueAccessor:t=Fne}=e,n=tR(e,Une),{dataKey:r,clockWise:i,id:o,textBreakAll:l,zIndex:u}=n,d=tR(n,jne),f=zne(),h=qne(),m=f||h;return!m||!m.length?null:C.createElement(zi,{zIndex:u??bn.label},C.createElement(Si,{className:"recharts-label-list"},m.map((y,x)=>{var S,E=$t(r)?t(y,x):ln(y&&y.payload,r),A=$t(o)?{}:{id:"".concat(o,"-").concat(x)};return C.createElement(ma,Jf({key:"label-".concat(x)},gr(y),d,A,{fill:(S=n.fill)!==null&&S!==void 0?S:y.fill,parentViewBox:y.parentViewBox,value:E,textBreakAll:l,viewBox:y.viewBox,index:x,zIndex:0}))})))}Qd.displayName="LabelList";function $ne(e){var{label:t}=e;return t?t===!0?C.createElement(Qd,{key:"labelList-implicit"}):C.isValidElement(t)||Ux(t)?C.createElement(Qd,{key:"labelList-implicit",content:t}):typeof t=="object"?C.createElement(Qd,Jf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Hne={radiusAxis:{},angleAxis:{}},UD=Pn({name:"polarAxis",initialState:Hne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Dse,removeRadiusAxis:Use,addAngleAxis:jse,removeAngleAxis:Lse}=UD.actions,Gne=UD.reducer,a0={exports:{}},Ze={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR;function Vne(){if(nR)return Ze;nR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var A=E.$$typeof;switch(A){case e:switch(E=E.type,E){case n:case i:case r:case d:case f:case y:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case m:case h:return E;case o:return E;default:return A}}case t:return A}}}return Ze.ContextConsumer=o,Ze.ContextProvider=l,Ze.Element=e,Ze.ForwardRef=u,Ze.Fragment=n,Ze.Lazy=m,Ze.Memo=h,Ze.Portal=t,Ze.Profiler=i,Ze.StrictMode=r,Ze.Suspense=d,Ze.SuspenseList=f,Ze.isContextConsumer=function(E){return S(E)===o},Ze.isContextProvider=function(E){return S(E)===l},Ze.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},Ze.isForwardRef=function(E){return S(E)===u},Ze.isFragment=function(E){return S(E)===n},Ze.isLazy=function(E){return S(E)===m},Ze.isMemo=function(E){return S(E)===h},Ze.isPortal=function(E){return S(E)===t},Ze.isProfiler=function(E){return S(E)===i},Ze.isStrictMode=function(E){return S(E)===r},Ze.isSuspense=function(E){return S(E)===d},Ze.isSuspenseList=function(E){return S(E)===f},Ze.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===d||E===f||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===l||E.$$typeof===o||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},Ze.typeOf=S,Ze}var rR;function Kne(){return rR||(rR=1,a0.exports=Vne()),a0.exports}var Yne=Kne(),iR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",aR=null,o0=null,jD=e=>{if(e===aR&&Array.isArray(o0))return o0;var t=[];return C.Children.forEach(e,n=>{$t(n)||(Yne.isFragment(n)?t=t.concat(jD(n.props.children)):t.push(n))}),o0=t,aR=e,t};function Jne(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>iR(i)):r=[iR(t)],jD(e).forEach(i=>{var o=Is(i,"type.displayName")||Is(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var s0={},oR;function Wne(){return oR||(oR=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(s0)),s0}var l0,sR;function Xne(){return sR||(sR=1,l0=Wne().isPlainObject),l0}var Qne=Xne();const Zne=Kr(Qne);var lR,uR,cR,dR,fR;function hR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(n),!0).forEach(function(r){ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wf(){return Wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wf.apply(null,arguments)}function ru(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mR=(e,t,n,r,i)=>{var o=n-r,l;return l=vt(lR||(lR=ru(["M ",",",""])),e,t),l+=vt(uR||(uR=ru(["L ",",",""])),e+n,t),l+=vt(cR||(cR=ru(["L ",",",""])),e+n-o/2,t+i),l+=vt(dR||(dR=ru(["L ",",",""])),e+n-o/2-r,t+i),l+=vt(fR||(fR=ru(["L ",","," Z"])),e,t),l},rre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ire=e=>{var t=Zn(e,rre),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:h,isUpdateAnimationActive:m}=t,y=C.useRef(null),[x,S]=C.useState(-1),E=C.useRef(i),A=C.useRef(o),T=C.useRef(l),k=C.useRef(n),R=C.useRef(r),O=Ub(e,"trapezoid-");if(C.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var Y=y.current.getTotalLength();Y&&S(Y)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var P=st("recharts-trapezoid",u);if(!m)return C.createElement("g",null,C.createElement("path",Wf({},gr(t),{className:P,d:mR(n,r,i,o,l)})));var M=E.current,D=A.current,F=T.current,B=k.current,J=R.current,U="0px ".concat(x===-1?1:x,"px"),G="".concat(x,"px 0px"),Z=XP(["strokeDasharray"],f,d);return C.createElement(Db,{animationId:O,key:O,canBegin:x>0,duration:f,easing:d,isActive:m,begin:h},Y=>{var ie=on(M,i,Y),q=on(D,o,Y),X=on(F,l,Y),te=on(B,n,Y),ce=on(J,r,Y);y.current&&(E.current=ie,A.current=q,T.current=X,k.current=te,R.current=ce);var ve=Y>0?{transition:Z,strokeDasharray:G}:{strokeDasharray:U};return C.createElement("path",Wf({},gr(t),{className:P,d:mR(te,ce,ie,q,X),ref:y,style:pR(pR({},ve),t.style)}))})},are=["option","shapeType","activeClassName"];function ore(e,t){if(e==null)return{};var n,r,i=sre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(n),!0).forEach(function(r){lre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lre(e,t,n){return(t=ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ure(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dre(e,t){return Xf(Xf({},t),e)}function fre(e,t){return e==="symbols"}function vR(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return C.createElement(tM,n);case"trapezoid":return C.createElement(ire,n);case"sector":return C.createElement(iM,n);case"symbols":if(fre(t))return C.createElement(BI,n);break;case"curve":return C.createElement(WP,n);default:return null}}function hre(e){return C.isValidElement(e)?e.props:e}function pre(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=ore(e,are),o;if(C.isValidElement(t))o=C.cloneElement(t,Xf(Xf({},i),hre(t)));else if(typeof t=="function")o=t(i,i.index);else if(Zne(t)&&typeof t!="boolean"){var l=dre(t,i);o=C.createElement(vR,{shapeType:n,elementProps:l})}else{var u=i;o=C.createElement(vR,{shapeType:n,elementProps:u})}return i.isActive?C.createElement(Si,{className:r},o):o}var LD=(e,t,n)=>{var r=wt();return(i,o)=>l=>{e==null||e(i,o,l),r(ZO({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},FD=e=>{var t=wt();return(n,r)=>i=>{e==null||e(n,r,i),t(IZ())}},BD=(e,t,n)=>{var r=wt();return(i,o)=>l=>{e==null||e(i,o,l),r(PZ({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function mre(e){var{tooltipEntrySettings:t}=e,n=wt(),r=Mn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(CZ(t)):i.current!==t&&n(NZ({prev:i.current,next:t})),i.current=t)},[t,n,r]),C.useLayoutEffect(()=>()=>{i.current&&(n(RZ(i.current)),i.current=null)},[n]),null}function gre(e){var{legendPayload:t}=e,n=wt(),r=Mn(),i=C.useRef(null);return C.useLayoutEffect(()=>{r||(i.current===null?n(sY(t)):i.current!==t&&n(lY({prev:i.current,next:t})),i.current=t)},[n,r,t]),C.useLayoutEffect(()=>()=>{i.current&&(n(uY(i.current)),i.current=null)},[n]),null}var u0,vre=()=>{var[e]=C.useState(()=>bu("uid-"));return e},yre=(u0=HL.useId)!==null&&u0!==void 0?u0:vre;function bre(e,t){var n=yre();return t||(e?"".concat(e,"-").concat(n):n)}var xre=C.createContext(void 0),wre=e=>{var{id:t,type:n,children:r}=e,i=bre("recharts-".concat(n),t);return C.createElement(xre.Provider,{value:i},r(i))},_re={cartesianItems:[],polarItems:[]},zD=Pn({name:"graphicalItems",initialState:_re,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ct()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Ir(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ct()},removeCartesianGraphicalItem:{reducer(e,t){var n=Ir(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ct()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ct()},removePolarGraphicalItem:{reducer(e,t){var n=Ir(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ct()}}}),{addCartesianGraphicalItem:Sre,replaceCartesianGraphicalItem:Ere,removeCartesianGraphicalItem:Are,addPolarGraphicalItem:Fse,removePolarGraphicalItem:Bse}=zD.actions,Tre=zD.reducer,Cre=e=>{var t=wt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(Sre(e)):n.current!==e&&t(Ere({prev:n.current,next:e})),n.current=e},[t,e]),C.useLayoutEffect(()=>()=>{n.current&&(t(Are(n.current)),n.current=null)},[t]),null},Nre=C.memo(Cre);function yR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(n),!0).forEach(function(r){Rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rre(e,t,n){return(t=kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kre(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qD=0,Pre={xAxis:{},yAxis:{},zAxis:{}},$D=Pn({name:"cartesianAxis",initialState:Pre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ct()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ct()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ct()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ct()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ct()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ct()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ct()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ct()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ct()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=bR(bR({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:Mre,replaceXAxis:Ore,removeXAxis:Dre,addYAxis:Ure,replaceYAxis:jre,removeYAxis:Lre,addZAxis:zse,replaceZAxis:qse,removeZAxis:$se,updateYAxisWidth:Fre}=$D.actions,Bre=$D.reducer,zre=Q([Gt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),qre=Q([zre,Oi,Di],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),HD=()=>we(qre),xR=(e,t,n)=>{var r=n??e;if(!$t(r))return Mr(r,t,0)},$re=(e,t,n)=>{var r={},i=e.filter(Kh),o=e.filter(f=>f.stackId==null),l=i.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(l).map(f=>{var[h,m]=f,y=m.map(S=>S.dataKey),x=xR(t,n,m[0].barSize);return{stackId:h,dataKeys:y,barSize:x}}),d=o.map(f=>{var h=[f.dataKey].filter(y=>y!=null),m=xR(t,n,f.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...d]};function wR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(n),!0).forEach(function(r){Hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hre(e,t,n){return(t=Gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kre(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=Mr(e,n,0,!0),u,d=[];if(ht(r[0].barSize)){var f=!1,h=n/o,m=r.reduce((T,k)=>T+(k.barSize||0),0);m+=(o-1)*l,m>=n&&(m-=(o-1)*l,l=0),m>=n&&h>0&&(f=!0,h*=.9,m=o*h);var y=(n-m)/2>>0,x={offset:y-l,size:0};u=r.reduce((T,k)=>{var R,O={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:x.offset+x.size+l,size:f?h:(R=k.barSize)!==null&&R!==void 0?R:0}},P=[...T,O];return x=P[P.length-1].position,P},d)}else{var S=Mr(t,n,0,!0);n-2*S-(o-1)*l<=0&&(l=0);var E=(n-2*S-(o-1)*l)/o;E>1&&(E>>=0);var A=ht(i)?Math.min(E,i):E;u=r.reduce((T,k,R)=>[...T,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:S+(E+l)*R+(E-A)/2,size:A}}],d)}return u}}var Yre=(e,t,n,r,i,o,l)=>{var u=$t(l)?t:l,d=Kre(n,r,i!==o?i:o,e,u);return i!==o&&d!=null&&(d=d.map(f=>$d($d({},f),{},{position:$d($d({},f.position),{},{offset:f.position.offset-i/2})}))),d},Jre=(e,t)=>{var n=px(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}};function Wre(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ht(e.zIndex)?e.zIndex:t}var Xre=e=>{var{chartData:t}=e,n=wt(),r=Mn();return C.useEffect(()=>r?()=>{}:(n(O2(t)),()=>{n(O2(void 0))}),[t,n,r]),null},_R={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GD=Pn({name:"brush",initialState:_R,reducers:{setBrushSettings(e,t){return t.payload==null?_R:t.payload}}}),{setBrushSettings:Hse}=GD.actions,Qre=GD.reducer;function Zre(e,t,n){return(t=eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jx{static create(t){return new jx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Zre(jx,"EPS",1e-4);function nie(e){return(e%180+180)%180}var rie=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=nie(i),l=o*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},iie={dots:[],areas:[],lines:[]},VD=Pn({name:"referenceElements",initialState:iie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ir(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ir(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ir(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Gse,removeDot:Vse,addArea:Kse,removeArea:Yse,addLine:Jse,removeLine:Wse}=VD.actions,aie=VD.reducer,oie=C.createContext(void 0),sie=e=>{var{children:t}=e,[n]=C.useState("".concat(bu("recharts"),"-clip")),r=HD();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return C.createElement(oie.Provider,{value:n},C.createElement("defs",null,C.createElement("clipPath",{id:n},C.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function KD(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function lie(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return rie(r,n)}function uie(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function Mu(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function cie(e,t){return KD(e,t+1)}function die(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,d=0,f=1,h=l,m=function(){var S=r==null?void 0:r[d];if(S===void 0)return{v:KD(r,f)};var E=d,A,T=()=>(A===void 0&&(A=n(S,E)),A),k=S.coordinate,R=d===0||Mu(e,k,T,h,u);R||(d=0,h=l,f+=1),R&&(h=k+e*(T()/2+i),d+=f)},y;f<=o.length;)if(y=m(),y)return y.v;return[]}function fie(e,t,n,r,i){var o=(r||[]).slice(),l=o.length;if(l===0)return[];for(var{start:u,end:d}=t,f=1;f<=l;f++){for(var h=(l-1)%f,m=u,y=!0,x=function(){var k=r[S],R=S,O,P=()=>(O===void 0&&(O=n(k,R)),O),M=k.coordinate,D=S===h||Mu(e,M,P,m,d);if(!D)return y=!1,1;D&&(m=M+e*(P()/2+i))},S=h;S<l&&!x();S+=f);if(y){for(var E=[],A=h;A<l;A+=f)E.push(r[A]);return E}}return[]}function SR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(n),!0).forEach(function(r){hie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hie(e,t,n){return(t=pie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pie(e){var t=mie(e,"string");return typeof t=="symbol"?t:t+""}function mie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gie(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:d}=t,f=function(y){var x=o[y],S,E=()=>(S===void 0&&(S=n(x,y)),S);if(y===l-1){var A=e*(x.coordinate+e*E()/2-d);o[y]=x=cn(cn({},x),{},{tickCoord:A>0?x.coordinate-A*e:x.coordinate})}else o[y]=x=cn(cn({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var T=Mu(e,x.tickCoord,E,u,d);T&&(d=x.tickCoord-e*(E()/2+i),o[y]=cn(cn({},x),{},{isShow:!0}))}},h=l-1;h>=0;h--)f(h);return o}function vie(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:d,end:f}=t;if(o){var h=r[u-1],m=n(h,u-1),y=e*(h.coordinate+e*m/2-f);if(l[u-1]=h=cn(cn({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate}),h.tickCoord!=null){var x=Mu(e,h.tickCoord,()=>m,d,f);x&&(f=h.tickCoord-e*(m/2+i),l[u-1]=cn(cn({},h),{},{isShow:!0}))}}for(var S=o?u-1:u,E=function(k){var R=l[k],O,P=()=>(O===void 0&&(O=n(R,k)),O);if(k===0){var M=e*(R.coordinate-e*P()/2-d);l[k]=R=cn(cn({},R),{},{tickCoord:M<0?R.coordinate-M*e:R.coordinate})}else l[k]=R=cn(cn({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var D=Mu(e,R.tickCoord,P,d,f);D&&(d=R.tickCoord+e*(P()/2+i),l[k]=cn(cn({},R),{},{isShow:!0}))}},A=0;A<S;A++)E(A);return l}function Lx(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:d,tickFormatter:f,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(ye(d)||Uh.isSsr){var y;return(y=cie(i,ye(d)?d:0))!==null&&y!==void 0?y:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?du(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},A=(R,O)=>{var P=typeof f=="function"?f(R.value,O):R.value;return S==="width"?lie(du(P,{fontSize:t,letterSpacing:n}),E,m):du(P,{fontSize:t,letterSpacing:n})[S]},T=i.length>=2?kn(i[1].coordinate-i[0].coordinate):1,k=uie(o,T,S);return d==="equidistantPreserveStart"?die(T,k,A,i,l):d==="equidistantPreserveEnd"?fie(T,k,A,i,l):(d==="preserveStart"||d==="preserveStartEnd"?x=vie(T,k,A,i,l,d==="preserveStartEnd"):x=gie(T,k,A,i,l),x.filter(R=>R.isShow))}var yie=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,d=i+o,f=l+d+u+(n?r:0);return Math.round(f)}return 0},bie=["axisLine","width","height","className","hide","ticks","axisType"];function xie(e,t){if(e==null)return{};var n,r,i=wie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ho.apply(null,arguments)}function ER(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(n),!0).forEach(function(r){_ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ie(e,t,n){return(t=Sie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sie(e){var t=Eie(e,"string");return typeof t=="symbol"?t:t+""}function Eie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:bn.axis};function Aie(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Ct(Ct(Ct({},d),_i(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);f=Ct(Ct({},f),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(o==="left"&&!l||o==="right"&&l);f=Ct(Ct({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return C.createElement("line",ho({},f,{className:st("recharts-cartesian-axis-line",Is(u,"className"))}))}function Tie(e,t,n,r,i,o,l,u,d){var f,h,m,y,x,S,E=u?-1:1,A=e.tickSize||l,T=ye(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=h=e.coordinate,y=n+ +!u*i,m=y-E*A,S=m-E*d,x=T;break;case"left":m=y=e.coordinate,h=t+ +!u*r,f=h-E*A,x=f-E*d,S=T;break;case"right":m=y=e.coordinate,h=t+ +u*r,f=h+E*A,x=f+E*d,S=T;break;default:f=h=e.coordinate,y=n+ +u*i,m=y+E*A,S=m+E*d,x=T;break}return{line:{x1:f,y1:m,x2:h,y2:y},tick:{x,y:S}}}function Cie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Nie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rie(e){var{option:t,tickProps:n,value:r}=e,i,o=st(n.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(t))i=C.cloneElement(t,Ct(Ct({},n),{},{className:o}));else if(typeof t=="function")i=t(Ct(Ct({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=st(l,t==null?void 0:t.className)),i=C.createElement(Dx,ho({},n,{className:l}),r)}return i}var kie=C.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:l,unit:u,padding:d,tickTextProps:f,orientation:h,mirror:m,x:y,y:x,width:S,height:E,tickSize:A,tickMargin:T,fontSize:k,letterSpacing:R,getTicksConfig:O,events:P,axisType:M}=e,D=Lx(Ct(Ct({},O),{},{ticks:n}),k,R),F=Cie(h,m),B=Nie(h,m),J=_i(O),U=mb(r),G={};typeof i=="object"&&(G=i);var Z=Ct(Ct({},J),{},{fill:"none"},G),Y=D.map(X=>Ct({entry:X},Tie(X,y,x,S,E,h,A,m,T))),ie=Y.map(X=>{var{entry:te,line:ce}=X;return C.createElement(Si,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},i&&C.createElement("line",ho({},Z,ce,{className:st("recharts-cartesian-axis-tick-line",Is(i,"className"))})))}),q=Y.map((X,te)=>{var{entry:ce,tick:ve}=X,L=Ct(Ct(Ct(Ct({textAnchor:F,verticalAnchor:B},J),{},{stroke:"none",fill:o},U),ve),{},{index:te,payload:ce,visibleTicksCount:D.length,tickFormatter:l,padding:d},f);return C.createElement(Si,ho({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},_b(P,ce,te)),r&&C.createElement(Rie,{option:r,tickProps:L,value:"".concat(typeof l=="function"?l(ce.value,te):ce.value).concat(u||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(M,"-ticks")},q.length>0&&C.createElement(zi,{zIndex:bn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(M,"-tick-labels"),ref:t},q)),ie.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(M,"-tick-lines")},ie))}),Iie=C.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u,axisType:d}=e,f=xie(e,bie),[h,m]=C.useState(""),[y,x]=C.useState(""),S=C.useRef(null);C.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var A;return yie({ticks:S.current,label:(A=e.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=C.useCallback(A=>{if(A){var T=A.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=T;var k=T[0];if(k){var R=window.getComputedStyle(k),O=R.fontSize,P=R.letterSpacing;(O!==h||P!==y)&&(m(O),x(P))}}},[h,y]);return l||r!=null&&r<=0||i!=null&&i<=0?null:C.createElement(zi,{zIndex:e.zIndex},C.createElement(Si,{className:st("recharts-cartesian-axis",o)},C.createElement(Aie,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:_i(e)}),C.createElement(kie,{ref:E,axisType:d,events:f,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),C.createElement(bne,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},C.createElement(Rne,{label:e.label,labelRef:e.labelRef}),e.children)))}),Fx=C.forwardRef((e,t)=>{var n=Zn(e,xi);return C.createElement(Iie,ho({},n,{ref:t}))});Fx.displayName="CartesianAxis";var Pie=["x1","y1","x2","y2","key"],Mie=["offset"],Oie=["xAxisId","yAxisId"],Die=["xAxisId","yAxisId"];function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){Uie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uie(e,t,n){return(t=jie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function no(){return no=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},no.apply(null,arguments)}function Qf(e,t){if(e==null)return{};var n,r,i=Fie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return C.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function YD(e){var{option:t,lineItemProps:n}=e,r;if(C.isValidElement(t))r=C.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:o,y1:l,x2:u,y2:d,key:f}=n,h=Qf(n,Pie),m=(i=_i(h))!==null&&i!==void 0?i:{},{offset:y}=m,x=Qf(m,Mie);r=C.createElement("line",no({},x,{x1:o,y1:l,x2:u,y2:d,fill:"none",key:f}))}return r}function zie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Qf(e,Oie),d=i.map((f,h)=>{var m=dn(dn({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(h),index:h});return C.createElement(YD,{key:"line-".concat(h),option:r,lineItemProps:m})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function qie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Qf(e,Die),d=i.map((f,h)=>{var m=dn(dn({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(h),index:h});return C.createElement(YD,{option:r,lineItemProps:m,key:"line-".concat(h)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function $ie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:d=!0}=e;if(!d||!t||!t.length||u==null)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==f[0]&&f.unshift(0);var h=f.map((m,y)=>{var x=!f[y+1],S=x?i+l-m:f[y+1]-m;if(S<=0)return null;var E=y%t.length;return C.createElement("rect",{key:"react-".concat(y),y:m,x:r,height:S,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Hie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:d}=e;if(!t||!n||!n.length)return null;var f=d.map(m=>Math.round(m+i-i)).sort((m,y)=>m-y);i!==f[0]&&f.unshift(0);var h=f.map((m,y)=>{var x=!f[y+1],S=x?i+l-m:f[y+1]-m;if(S<=0)return null;var E=y%n.length;return C.createElement("rect",{key:"react-".concat(y),x:m,y:o,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Gie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return IP(Lx(dn(dn(dn({},xi),n),{},{ticks:PP(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},Vie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return IP(Lx(dn(dn(dn({},xi),n),{},{ticks:PP(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},Kie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:bn.grid};function JD(e){var t=BP(),n=zP(),r=FP(),i=dn(dn({},Zn(e,Kie)),{},{x:ye(e.x)?e.x:r.left,y:ye(e.y)?e.y:r.top,width:ye(e.width)?e.width:r.width,height:ye(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:d,width:f,height:h,syncWithTicks:m,horizontalValues:y,verticalValues:x}=i,S=Mn(),E=we(B=>_2(B,"xAxis",o,S)),A=we(B=>_2(B,"yAxis",l,S));if(!Gr(f)||!Gr(h)||!ye(u)||!ye(d))return null;var T=i.verticalCoordinatesGenerator||Gie,k=i.horizontalCoordinatesGenerator||Vie,{horizontalPoints:R,verticalPoints:O}=i;if((!R||!R.length)&&typeof k=="function"){var P=y&&y.length,M=k({yAxis:A?dn(dn({},A),{},{ticks:P?y:A.ticks}):void 0,width:t??f,height:n??h,offset:r},P?!0:m);Cf(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(R=M)}if((!O||!O.length)&&typeof T=="function"){var D=x&&x.length,F=T({xAxis:E?dn(dn({},E),{},{ticks:D?x:E.ticks}):void 0,width:t??f,height:n??h,offset:r},D?!0:m);Cf(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(O=F)}return C.createElement(zi,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(Bie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement($ie,no({},i,{horizontalPoints:R})),C.createElement(Hie,no({},i,{verticalPoints:O})),C.createElement(zie,no({},i,{offset:r,horizontalPoints:R,xAxis:E,yAxis:A})),C.createElement(qie,no({},i,{offset:r,verticalPoints:O,xAxis:E,yAxis:A}))))}JD.displayName="CartesianGrid";var Yie={},WD=Pn({name:"errorBars",initialState:Yie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Xse,replaceErrorBar:Qse,removeErrorBar:Zse}=WD.actions,Jie=WD.reducer,Wie=["children"];function Xie(e,t){if(e==null)return{};var n,r,i=Qie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Zie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eae=C.createContext(Zie);function tae(e){var{children:t}=e,n=Xie(e,Wie);return C.createElement(eae.Provider,{value:n},t)}function XD(e,t){var n,r,i=we(f=>Li(f,e)),o=we(f=>Fi(f,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Bt.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:zt.allowDataOverflow,d=l||u;return{needClip:d,needClipX:l,needClipY:u}}function nae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=HD(),{needClipX:o,needClipY:l,needClip:u}=XD(t,n);if(!u||!i)return null;var{x:d,y:f,width:h,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(r)},C.createElement("rect",{x:o?d:d-h/2,y:l?f:f-m/2,width:o?h:h*2,height:l?m:m*2}))}var c0={exports:{}},d0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TR;function rae(){if(TR)return d0;TR=1;var e=Bs();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return d0.useSyncExternalStoreWithSelector=function(d,f,h,m,y){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function A(P){if(!T){if(T=!0,k=P,P=m(P),y!==void 0&&S.hasValue){var M=S.value;if(y(M,P))return R=M}return R=P}if(M=R,n(k,P))return M;var D=m(P);return y!==void 0&&y(M,D)?(k=P,M):(k=P,R=D)}var T=!1,k,R,O=h===void 0?null:h;return[function(){return A(f())},O===null?void 0:function(){return A(O())}]},[f,h,m,y]);var E=r(d,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},d0}var CR;function iae(){return CR||(CR=1,c0.exports=rae()),c0.exports}iae();function aae(e){e()}function oae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){aae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var NR={notify(){},get:()=>[]};function sae(e,t){let n,r=NR,i=0,o=!1;function l(E){h();const A=r.subscribe(E);let T=!1;return()=>{T||(T=!0,A(),m())}}function u(){r.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function h(){i++,n||(n=e.subscribe(d),r=oae())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=NR)}function y(){o||(o=!0,h())}function x(){o&&(o=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return S}var lae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uae=lae(),cae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",dae=cae(),fae=()=>uae||dae?C.useLayoutEffect:C.useEffect,hae=fae();function RR(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function pae(e,t){if(RR(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!RR(e[n[i]],t[n[i]]))return!1;return!0}var f0=Symbol.for("react-redux-context"),h0=typeof globalThis<"u"?globalThis:{};function mae(){if(!C.createContext)return{};const e=h0[f0]??(h0[f0]=new Map);let t=e.get(C.createContext);return t||(t=C.createContext(null),e.set(C.createContext,t)),t}var gae=mae();function vae(e){const{children:t,context:n,serverState:r,store:i}=e,o=C.useMemo(()=>{const d=sae(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),l=C.useMemo(()=>i.getState(),[i]);hae(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=n||gae;return C.createElement(u.Provider,{value:o},t)}var yae=vae,bae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Bx(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(bae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!pae(e[r],t[r]))return!1}else if(!xae(e[r],t[r]))return!1;return!0}function bo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:qD}function xo(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:qD}var wae="Invariant failed";function _ae(e,t){throw new Error(wae)}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zy.apply(null,arguments)}function Zf(e){return C.createElement(pre,zy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Sae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ye(t))return t;var o=ye(r)||$t(r);return o?t(r,i):(o||_ae(),n)}},Eae=(e,t,n)=>n,Aae=(e,t)=>t,ec=Q([gx,Aae],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Tae=Q([ec],e=>e==null?void 0:e.maxBarSize),Cae=(e,t,n,r)=>r,Nae=Q([Je,gx,bo,xo,Eae],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),Rae=(e,t,n)=>{var r=Je(e),i=bo(e,t),o=xo(e,t);if(!(i==null||o==null))return r==="horizontal"?Oy(e,"yAxis",o,n):Oy(e,"xAxis",i,n)},kae=(e,t)=>{var n=Je(e),r=bo(e,t),i=xo(e,t);if(!(r==null||i==null))return n==="horizontal"?w2(e,"xAxis",r):w2(e,"yAxis",i)},Iae=Q([Nae,xQ,kae],$re),Pae=(e,t,n)=>{var r,i,o=ec(e,t);if(o!=null){var l=bo(e,t),u=xo(e,t);if(!(l==null||u==null)){var d=Je(e),f=nO(e),{maxBarSize:h}=o,m=$t(h)?f:h,y,x;return d==="horizontal"?(y=Ls(e,"xAxis",l,n),x=js(e,"xAxis",l,n)):(y=Ls(e,"yAxis",u,n),x=js(e,"yAxis",u,n)),(r=(i=Tf(y,x,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0}}},QD=(e,t,n)=>{var r=Je(e),i=bo(e,t),o=xo(e,t);if(!(i==null||o==null)){var l,u;return r==="horizontal"?(l=Ls(e,"xAxis",i,n),u=js(e,"xAxis",i,n)):(l=Ls(e,"yAxis",o,n),u=js(e,"yAxis",o,n)),Tf(l,u)}},Mae=Q([Iae,nO,bQ,rO,Pae,QD,Tae],Yre),Oae=(e,t,n)=>{var r=bo(e,t);if(r!=null)return Ls(e,"xAxis",r,n)},Dae=(e,t,n)=>{var r=xo(e,t);if(r!=null)return Ls(e,"yAxis",r,n)},Uae=(e,t,n)=>{var r=bo(e,t);if(r!=null)return js(e,"xAxis",r,n)},jae=(e,t,n)=>{var r=xo(e,t);if(r!=null)return js(e,"yAxis",r,n)},Lae=Q([Mae,ec],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Fae=Q([Rae,ec],Jre),Bae=Q([Gt,Ib,Oae,Dae,Uae,jae,Lae,Je,sQ,QD,Fae,ec,Cae],(e,t,n,r,i,o,l,u,d,f,h,m,y)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:E}=d;if(!(m==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||f==null)){var{data:A}=m,T;if(A!=null&&A.length>0?T=A:T=x==null?void 0:x.slice(S,E+1),T!=null)return moe({layout:u,barSettings:m,pos:l,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:T,offset:e,cells:y,dataStartIndex:S})}}),zae=["index"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qy.apply(null,arguments)}function qae(e,t){if(e==null)return{};var n,r,i=$ae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $ae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ZD=C.createContext(void 0),Hae=e=>{var t=C.useContext(ZD);if(t!=null)return t.stackId;if(e!=null)return uK(e)},Gae=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Vae=e=>{var t=C.useContext(ZD);if(t!=null){var{stackId:n}=t;return"url(#".concat(Gae(n,e),")")}},Kae=e=>{var{index:t}=e,n=qae(e,zae),r=Vae(t);return C.createElement(Si,qy({className:"recharts-bar-stack-layer",clipPath:r},n))},Yae=["onMouseEnter","onMouseLeave","onClick"],Jae=["value","background","tooltipPosition"],Wae=["id"],Xae=["onMouseEnter","onClick","onMouseLeave"];function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(null,arguments)}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){Qae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qae(e,t,n){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zae(e){var t=eoe(e,"string");return typeof t=="symbol"?t:t+""}function eoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eh(e,t){if(e==null)return{};var n,r,i=toe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function toe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var noe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:MP(n,t),payload:e}]},roe=C.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u,tooltipType:d,id:f}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:MP(o,t),hide:l,type:d,color:i,unit:u,graphicalItemId:f}};return C.createElement(mre,{tooltipEntrySettings:h})});function ioe(e){var t=we(Fs),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:d}=o,f=eh(o,Yae),h=LD(l,r,o.id),m=FD(u),y=BD(d,r,o.id);if(!i||n==null)return null;var x=mb(i);return C.createElement(zi,{zIndex:Wre(i,bn.barBackground)},n.map((S,E)=>{var{value:A,background:T,tooltipPosition:k}=S,R=eh(S,Jae);if(!T)return null;var O=h(S,E),P=m(S,E),M=y(S,E),D=gn(gn(gn(gn(gn({option:i,isActive:String(E)===t},R),{},{fill:"#eee"},T),x),_b(f,S,E)),{},{onMouseEnter:O,onMouseLeave:P,onClick:M,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return C.createElement(Zf,ki({key:"background-bar-".concat(E)},D))}))}function aoe(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return gn(gn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return C.createElement(Bne,{value:t?i:void 0},n)}function ooe(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=we(Fs),d=we(hD),f=n&&String(o)===u&&(d==null||l===d),h=f?n:t;return f?C.createElement(zi,{zIndex:bn.activeBar},C.createElement(Zf,ki({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:l}))):C.createElement(Zf,ki({},r,{name:String(r.name)},i,{isActive:f,option:h,index:o,dataKey:l}))}function soe(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return C.createElement(Zf,ki({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function loe(e){var t,{data:n,props:r}=e,i=(t=_i(r))!==null&&t!==void 0?t:{},{id:o}=i,l=eh(i,Wae),{shape:u,dataKey:d,activeBar:f}=r,{onMouseEnter:h,onClick:m,onMouseLeave:y}=r,x=eh(r,Xae),S=LD(h,d,o),E=FD(y),A=BD(m,d,o);return n?C.createElement(C.Fragment,null,n.map((T,k)=>C.createElement(Kae,ki({index:k,key:"rectangle-".concat(T==null?void 0:T.x,"-").concat(T==null?void 0:T.y,"-").concat(T==null?void 0:T.value,"-").concat(k),className:"recharts-bar-rectangle"},_b(x,T,k),{onMouseEnter:S(T,k),onMouseLeave:E(T,k),onClick:A(T,k)}),f?C.createElement(ooe,{shape:u,activeBar:f,baseProps:l,entry:T,index:k,dataKey:d}):C.createElement(soe,{shape:u,baseProps:l,entry:T,index:k,dataKey:d})))):null}function uoe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,m=n.current,y=Ub(t,"recharts-bar-"),[x,S]=C.useState(!1),E=!x,A=C.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),T=C.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return C.createElement(aoe,{showLabels:E,rects:r},C.createElement(Db,{animationId:y,begin:l,duration:u,isActive:o,easing:d,onAnimationEnd:A,onAnimationStart:T,key:y},k=>{var R=k===1?r:r==null?void 0:r.map((O,P)=>{var M=m&&m[P];if(M)return gn(gn({},O),{},{x:on(M.x,O.x,k),y:on(M.y,O.y,k),width:on(M.width,O.width,k),height:on(M.height,O.height,k)});if(i==="horizontal"){var D=on(0,O.height,k),F=on(O.stackedBarStart,O.y,k);return gn(gn({},O),{},{y:F,height:D})}var B=on(0,O.width,k),J=on(O.stackedBarStart,O.x,k);return gn(gn({},O),{},{width:B,x:J})});return k>0&&(n.current=R??null),R==null?null:C.createElement(Si,null,C.createElement(loe,{props:t,data:R}))}),C.createElement($ne,{label:t.label}),t.children)}function coe(e){var t=C.useRef(null);return C.createElement(uoe,{previousRectanglesRef:t,props:e})}var eU=0,doe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ln(e,t)}};class foe extends C.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:d,id:f}=this.props;if(t||n==null)return null;var h=st("recharts-bar",i),m=f;return C.createElement(Si,{className:h,id:f},u&&C.createElement("defs",null,C.createElement(nae,{clipPathId:m,xAxisId:o,yAxisId:l})),C.createElement(Si,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},C.createElement(ioe,{data:n,dataKey:r,background:d,allOtherBarProps:this.props}),C.createElement(coe,this.props)))}}var hoe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:eU,xAxisId:0,yAxisId:0,zIndex:bn.bar};function poe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h}=e,{needClip:m}=XD(t,n),y=Bu(),x=Mn(),S=Jne(e.children,SD),E=we(k=>Bae(k,e.id,x,S));if(y!=="vertical"&&y!=="horizontal")return null;var A,T=E==null?void 0:E[0];return T==null||T.height==null||T.width==null?A=0:A=y==="vertical"?T.height/2:T.width/2,C.createElement(tae,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:doe,errorBarOffset:A},C.createElement(foe,ki({},e,{layout:y,needClip:m,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function moe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:m,offset:y,cells:x,parentViewBox:S,dataStartIndex:E}=e,A=t==="horizontal"?u:l,T=h?A.scale.domain():null,k=cK({numericAxis:A}),R=A.scale(k);return m.map((O,P)=>{var M,D,F,B,J,U;if(h){var G=h[P+E];if(G==null)return null;M=iK(G,T)}else M=ln(O,n),Array.isArray(M)||(M=[k,M]);var Z=Sae(r,eU)(M[1],P);if(t==="horizontal"){var Y,[ie,q]=[u.scale(M[0]),u.scale(M[1])];D=CC({axis:l,ticks:d,bandSize:o,offset:i.offset,entry:O,index:P}),F=(Y=q??ie)!==null&&Y!==void 0?Y:void 0,B=i.size;var X=ie-q;if(J=Pr(X)?0:X,U={x:D,y:y.top,width:B,height:y.height},Math.abs(Z)>0&&Math.abs(J)<Math.abs(Z)){var te=kn(J||Z)*(Math.abs(Z)-Math.abs(J));F-=te,J+=te}}else{var[ce,ve]=[l.scale(M[0]),l.scale(M[1])];if(D=ce,F=CC({axis:u,ticks:f,bandSize:o,offset:i.offset,entry:O,index:P}),B=ve-ce,J=i.size,U={x:y.left,y:F,width:y.width,height:J},Math.abs(Z)>0&&Math.abs(B)<Math.abs(Z)){var L=kn(B||Z)*(Math.abs(Z)-Math.abs(B));B+=L}}if(D==null||F==null||B==null||J==null)return null;var ee=gn(gn({},O),{},{stackedBarStart:R,x:D,y:F,width:B,height:J,value:h?M:M[1],payload:O,background:U,tooltipPosition:{x:D+B/2,y:F+J/2},parentViewBox:S},x&&x[P]&&x[P].props);return ee}).filter(Boolean)}function goe(e){var t=Zn(e,hoe),n=Hae(t.stackId),r=Mn();return C.createElement(wre,{id:t.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(gre,{legendPayload:noe(t)}),C.createElement(roe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),C.createElement(Nre,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),C.createElement(zi,{zIndex:t.zIndex},C.createElement(poe,ki({},t,{id:i})))))}var tU=C.memo(goe,Bx);tU.displayName="Bar";var voe=["domain","range"],yoe=["domain","range"];function IR(e,t){if(e==null)return{};var n,r,i=boe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function boe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PR(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function nU(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=IR(e,voe),{domain:o,range:l}=t,u=IR(t,yoe);return!PR(n,o)||!PR(r,l)?!1:Bx(i,u)}var xoe=["dangerouslySetInnerHTML","ticks","scale"],woe=["id","scale"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$y.apply(null,arguments)}function MR(e,t){if(e==null)return{};var n,r,i=_oe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _oe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Soe(e){var t=wt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(Mre(e)):n.current!==e&&t(Ore({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(Dre(n.current)),n.current=null)},[t]),null}var Eoe=e=>{var{xAxisId:t,className:n}=e,r=we(Ib),i=Mn(),o="xAxis",l=we(T=>KO(T,o,t,i)),u=we(T=>$O(T,t)),d=we(T=>vZ(T,t)),f=we(T=>fO(T,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:y}=e,x=MR(e,xoe),{id:S,scale:E}=f,A=MR(f,woe);return C.createElement(Fx,$y({},x,A,{x:d.x,y:d.y,width:u.width,height:u.height,className:st("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:l,axisType:o}))},Aoe={allowDataOverflow:Bt.allowDataOverflow,allowDecimals:Bt.allowDecimals,allowDuplicatedCategory:Bt.allowDuplicatedCategory,angle:Bt.angle,axisLine:xi.axisLine,height:Bt.height,hide:!1,includeHidden:Bt.includeHidden,interval:Bt.interval,minTickGap:Bt.minTickGap,mirror:Bt.mirror,orientation:Bt.orientation,padding:Bt.padding,reversed:Bt.reversed,scale:Bt.scale,tick:Bt.tick,tickCount:Bt.tickCount,tickLine:xi.tickLine,tickSize:xi.tickSize,type:Bt.type,xAxisId:0},Toe=e=>{var t=Zn(e,Aoe);return C.createElement(C.Fragment,null,C.createElement(Soe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),C.createElement(Eoe,t))},rU=C.memo(Toe,nU);rU.displayName="XAxis";var Coe=["dangerouslySetInnerHTML","ticks","scale"],Noe=["id","scale"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function OR(e,t){if(e==null)return{};var n,r,i=Roe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Roe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function koe(e){var t=wt(),n=C.useRef(null);return C.useLayoutEffect(()=>{n.current===null?t(Ure(e)):n.current!==e&&t(jre({prev:n.current,next:e})),n.current=e},[e,t]),C.useLayoutEffect(()=>()=>{n.current&&(t(Lre(n.current)),n.current=null)},[t]),null}var Ioe=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=C.useRef(null),l=C.useRef(null),u=we(Ib),d=Mn(),f=wt(),h="yAxis",m=we(M=>HO(M,t)),y=we(M=>bZ(M,t)),x=we(M=>KO(M,h,t,d)),S=we(M=>hO(M,t));if(C.useLayoutEffect(()=>{if(!(r!=="auto"||!m||Ux(i)||C.isValidElement(i)||S==null)){var M=o.current;if(M){var D=M.getCalculatedWidth();Math.round(m.width)!==Math.round(D)&&f(Fre({id:t,width:D}))}}},[x,m,f,i,t,r,S]),m==null||y==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:A,scale:T}=e,k=OR(e,Coe),{id:R,scale:O}=S,P=OR(S,Noe);return C.createElement(Fx,Hy({},k,P,{ref:o,labelRef:l,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:st("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:x,axisType:h}))},Poe={allowDataOverflow:zt.allowDataOverflow,allowDecimals:zt.allowDecimals,allowDuplicatedCategory:zt.allowDuplicatedCategory,angle:zt.angle,axisLine:xi.axisLine,hide:!1,includeHidden:zt.includeHidden,interval:zt.interval,minTickGap:zt.minTickGap,mirror:zt.mirror,orientation:zt.orientation,padding:zt.padding,reversed:zt.reversed,scale:zt.scale,tick:zt.tick,tickCount:zt.tickCount,tickLine:xi.tickLine,tickSize:xi.tickSize,type:zt.type,width:zt.width,yAxisId:0},Moe=e=>{var t=Zn(e,Poe);return C.createElement(C.Fragment,null,C.createElement(koe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),C.createElement(Ioe,t))},iU=C.memo(Moe,nU);iU.displayName="YAxis";var Ooe=(e,t)=>t,zx=Q([Ooe,Je,cO,Dt,uD,Bi,Mee,Gt],Bee),qx=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},aU=vr("mouseClick"),oU=Lu();oU.startListening({actionCreator:aU,effect:(e,t)=>{var n=e.payload,r=zx(t.getState(),qx(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(MZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Gy=vr("mouseMove"),sU=Lu(),Hd=null;sU.startListening({actionCreator:Gy,effect:(e,t)=>{var n=e.payload;Hd!==null&&cancelAnimationFrame(Hd);var r=qx(n);Hd=requestAnimationFrame(()=>{var i=t.getState(),o=Ax(i,i.tooltip.settings.shared);if(o==="axis"){var l=zx(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(tD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(eD())}Hd=null})}});function Doe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var DR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},lU=Pn({name:"rootProps",initialState:DR,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:DR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Uoe=lU.reducer,{updateOptions:joe}=lU.actions,uU=Pn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:ele}=uU.actions,Loe=uU.reducer,cU=vr("keyDown"),dU=vr("focus"),$x=Lu();$x.startListening({actionCreator:cU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Tx(i,Qs(n),Yu(n),Qu(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var d=Bi(n);if(o==="Enter"){var f=Yf(n,"axis","hover",String(i.index));t.dispatch(Uy({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=SZ(n),m=h==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,x=u+y*m;if(!(d==null||x>=d.length||x<0)){var S=Yf(n,"axis","hover",String(x));t.dispatch(Uy({active:!0,activeIndex:x.toString(),activeCoordinate:S}))}}}}}});$x.startListening({actionCreator:dU,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=Yf(n,"axis","hover",String(o));t.dispatch(Uy({active:!0,activeIndex:o,activeCoordinate:l}))}}}});var fr=vr("externalEvent"),fU=Lu(),p0=new Map;fU.startListening({actionCreator:fr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,o=p0.get(i);o!==void 0&&cancelAnimationFrame(o);var l=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:yee(u),activeDataKey:hD(u),activeIndex:Fs(u),activeLabel:fD(u),activeTooltipIndex:Fs(u),isTooltipActive:bee(u)};n(d,r)}finally{p0.delete(i)}});p0.set(i,l)}}});var Foe=Q([Ws],e=>e.tooltipItemPayloads),Boe=Q([Foe,Xu,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.graphicalItemId===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),hU=vr("touchMove"),pU=Lu();pU.startListening({actionCreator:hU,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Ax(r,r.tooltip.settings.shared);if(i==="axis"){var o=n.touches[0];if(o==null)return;var l=zx(r,qx({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(tD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,d=n.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(vK),m=(u=f.getAttribute(yK))!==null&&u!==void 0?u:void 0,y=Xs(r).find(E=>E.id===m);if(h==null||y==null||m==null)return;var{dataKey:x}=y,S=Boe(r,h,m);t.dispatch(ZO({activeDataKey:x,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var zoe=nP({brush:Qre,cartesianAxis:Bre,chartData:yte,errorBars:Jie,graphicalItems:Tre,layout:Q9,legend:cY,options:hte,polarAxis:Gne,polarOptions:Loe,referenceElements:aie,rootProps:Uoe,tooltip:OZ,zIndex:ete}),qoe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return S9({reducer:zoe,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([oU.middleware,sU.middleware,$x.middleware,fU.middleware,pU.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(vP({type:"raf"}))},devTools:{serialize:{replacer:Doe},name:"recharts-".concat(n)}})};function $oe(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Mn(),o=C.useRef(null);if(i)return n;o.current==null&&(o.current=qoe(t,r));var l=Eb;return C.createElement(yae,{context:l,store:o.current},n)}function Hoe(e){var{layout:t,margin:n}=e,r=wt(),i=Mn();return C.useEffect(()=>{i||(r(J9(t)),r(Y9(n)))},[r,i,t,n]),null}var Goe=C.memo(Hoe,Bx);function Voe(e){var t=wt();return C.useEffect(()=>{t(joe(e))},[t,e]),null}function UR(e){var{zIndex:t,isPanorama:n}=e,r=C.useRef(null),i=wt();return C.useLayoutEffect(()=>(r.current&&i(Qee({zIndex:t,element:r.current,isPanorama:n})),()=>{i(Zee({zIndex:t,isPanorama:n}))}),[i,t,n]),C.createElement("g",{tabIndex:-1,ref:r})}function jR(e){var{children:t,isPanorama:n}=e,r=we(qee);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),o=r.filter(l=>l>0);return C.createElement(C.Fragment,null,i.map(l=>C.createElement(UR,{key:l,zIndex:l,isPanorama:n})),t,o.map(l=>C.createElement(UR,{key:l,zIndex:l,isPanorama:n})))}var Koe=["children"];function Yoe(e,t){if(e==null)return{};var n,r,i=Joe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Joe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(null,arguments)}var Woe={width:"100%",height:"100%",display:"block"},Xoe=C.forwardRef((e,t)=>{var n=BP(),r=zP(),i=JP();if(!Gr(n)||!Gr(r))return null;var{children:o,otherAttributes:l,title:u,desc:d}=e,f,h;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),C.createElement(bI,th({},l,{title:u,desc:d,role:h,tabIndex:f,width:n,height:r,style:Woe,ref:t}),o)}),Qoe=e=>{var{children:t}=e,n=we(kh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return C.createElement(bI,{width:r,height:i,x:l,y:o},t)},LR=C.forwardRef((e,t)=>{var{children:n}=e,r=Yoe(e,Koe),i=Mn();return i?C.createElement(Qoe,null,C.createElement(jR,{isPanorama:!0},n)):C.createElement(Xoe,th({ref:t},r),C.createElement(jR,{isPanorama:!1},n))});function Zoe(){var e=wt(),[t,n]=C.useState(null),r=we(gK);return C.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;ht(o)&&o!==r&&e(X9(o))}},[t,e,r]),n}function FR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ese(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(n),!0).forEach(function(r){tse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tse(e,t,n){return(t=nse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},po.apply(null,arguments)}var ise=()=>(Cte(),null);function nh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ase=C.forwardRef((e,t)=>{var n,r,i=C.useRef(null),[o,l]=C.useState({containerWidth:nh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:nh((r=e.style)===null||r===void 0?void 0:r.height)}),u=C.useCallback((f,h)=>{l(m=>{var y=Math.round(f),x=Math.round(h);return m.containerWidth===y&&m.containerHeight===x?m:{containerWidth:y,containerHeight:x}})},[]),d=C.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=f.getBoundingClientRect();u(h,m);var y=S=>{var{width:E,height:A}=S[0].contentRect;u(E,A)},x=new ResizeObserver(y);x.observe(f),i.current=x}},[t,u]);return C.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[u]),C.createElement(C.Fragment,null,C.createElement(Ph,{width:o.containerWidth,height:o.containerHeight}),C.createElement("div",po({ref:d},e)))}),ose=C.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=C.useState({containerWidth:nh(n),containerHeight:nh(r)}),l=C.useCallback((d,f)=>{o(h=>{var m=Math.round(d),y=Math.round(f);return h.containerWidth===m&&h.containerHeight===y?h:{containerWidth:m,containerHeight:y}})},[]),u=C.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:h}=d.getBoundingClientRect();l(f,h)}},[t,l]);return C.createElement(C.Fragment,null,C.createElement(Ph,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",po({ref:u},e)))}),sse=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return C.createElement(C.Fragment,null,C.createElement(Ph,{width:n,height:r}),C.createElement("div",po({ref:t},e)))}),lse=C.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ei(n)||Ei(r)?C.createElement(ose,po({},e,{ref:t})):C.createElement(sse,po({},e,{ref:t}))});function use(e){return e===!0?ase:lse}var cse=C.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:m,onMouseUp:y,onTouchEnd:x,onTouchMove:S,onTouchStart:E,style:A,width:T,responsive:k,dispatchTouchEvents:R=!0}=e,O=C.useRef(null),P=wt(),[M,D]=C.useState(null),[F,B]=C.useState(null),J=Zoe(),U=Pb(),G=(U==null?void 0:U.width)>0?U.width:T,Z=(U==null?void 0:U.height)>0?U.height:i,Y=C.useCallback(ae=>{J(ae),typeof t=="function"&&t(ae),D(ae),B(ae),ae!=null&&(O.current=ae)},[J,t,D,B]),ie=C.useCallback(ae=>{P(aU(ae)),P(fr({handler:o,reactEvent:ae}))},[P,o]),q=C.useCallback(ae=>{P(Gy(ae)),P(fr({handler:f,reactEvent:ae}))},[P,f]),X=C.useCallback(ae=>{P(eD()),P(fr({handler:h,reactEvent:ae}))},[P,h]),te=C.useCallback(ae=>{P(Gy(ae)),P(fr({handler:m,reactEvent:ae}))},[P,m]),ce=C.useCallback(()=>{P(dU())},[P]),ve=C.useCallback(ae=>{P(cU(ae.key))},[P]),L=C.useCallback(ae=>{P(fr({handler:l,reactEvent:ae}))},[P,l]),ee=C.useCallback(ae=>{P(fr({handler:u,reactEvent:ae}))},[P,u]),re=C.useCallback(ae=>{P(fr({handler:d,reactEvent:ae}))},[P,d]),le=C.useCallback(ae=>{P(fr({handler:y,reactEvent:ae}))},[P,y]),me=C.useCallback(ae=>{P(fr({handler:E,reactEvent:ae}))},[P,E]),Te=C.useCallback(ae=>{R&&P(hU(ae)),P(fr({handler:S,reactEvent:ae}))},[P,R,S]),Ce=C.useCallback(ae=>{P(fr({handler:x,reactEvent:ae}))},[P,x]),Rt=use(k);return C.createElement(xD.Provider,{value:M},C.createElement(tV.Provider,{value:F},C.createElement(Rt,{width:G??(A==null?void 0:A.width),height:Z??(A==null?void 0:A.height),className:st("recharts-wrapper",r),style:ese({position:"relative",cursor:"default",width:G,height:Z},A),onClick:ie,onContextMenu:L,onDoubleClick:ee,onFocus:ce,onKeyDown:ve,onMouseDown:re,onMouseEnter:q,onMouseLeave:X,onMouseMove:te,onMouseUp:le,onTouchEnd:Ce,onTouchMove:Te,onTouchStart:me,ref:Y},C.createElement(ise,null),n)))}),dse=["width","height","responsive","children","className","style","compact","title","desc"];function fse(e,t){if(e==null)return{};var n,r,i=hse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pse=C.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:d,title:f,desc:h}=e,m=fse(e,dse),y=_i(m);return d?C.createElement(C.Fragment,null,C.createElement(Ph,{width:n,height:r}),C.createElement(LR,{otherAttributes:y,title:f,desc:h},o)):C.createElement(cse,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},C.createElement(LR,{otherAttributes:y,title:f,desc:h,ref:t},C.createElement(sie,null,o)))});function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}var mse={top:5,right:5,bottom:5,left:5},gse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:mse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},vse=C.forwardRef(function(t,n){var r,i=Zn(t.categoricalChartProps,gse),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement($oe,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},C.createElement(Xre,{chartData:f.data}),C.createElement(Goe,{layout:i.layout,margin:i.margin}),C.createElement(Voe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(pse,Vy({},i,{ref:n})))}),yse=["axis","item"],bse=C.forwardRef((e,t)=>C.createElement(vse,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yse,tooltipPayloadSearcher:dte,categoricalChartProps:e,ref:t}));const xse=[{name:"Seg",sales:4e5},{name:"Ter",sales:3e5},{name:"Qua",sales:5e5},{name:"Qui",sales:278e3},{name:"Sex",sales:689e3},{name:"Sb",sales:839e3},{name:"Dom",sales:949e3}],wse=({onBack:e,user:t})=>{const[n,r]=C.useState("overview"),[i,o]=C.useState([]),[l,u]=C.useState("all"),[d,f]=C.useState(null),h=t.is_super_admin&&t.role===vn.SUPER_ADMIN&&t.email==="elviino.nxrscripts@gmail.com",[m,y]=C.useState([]),[x,S]=C.useState(!1);C.useEffect(()=>{E();const U=Be.channel("admin:pending_products").on("postgres_changes",{event:"*",schema:"public",table:"products",filter:`status=eq.${mn.PENDENTE}`},()=>{E()}).subscribe();return()=>{Be.removeChannel(U)}},[]);const E=async()=>{S(!0);try{const{data:U,error:G}=await Be.from("products").select("*").eq("status",mn.PENDENTE).order("created_at",{ascending:!1});if(G)throw G;const Z=(U||[]).map(Y=>({id:Y.id,name:Y.name,price:Y.price,image:Y.image,category:Y.category,rating:Y.rating||0,sales:Y.sales||0,isInternational:Y.is_international||!1,status:Y.status,submittedBy:Y.seller_id,sellerId:Y.seller_id,description:Y.description,stock:Y.stock}));y(Z)}catch(U){console.error("Error fetching pending products:",U)}finally{S(!1)}},A=async()=>{try{const{data:U,error:G}=await Be.from("profiles").select("*");if(G)throw G;const Z=(U||[]).map(Y=>{var ie;return{id:Y.id,name:Y.full_name||((ie=Y.email)==null?void 0:ie.split("@")[0])||"Utilizador",email:Y.email,walletBalance:Y.wallet_balance||0,role:Y.role||vn.USER,is_super_admin:Y.role===vn.SUPER_ADMIN,avatar:Y.avatar_url||"",last_seen:Y.last_seen}});o(Z)}catch(U){console.error("Error fetching users:",U)}};C.useEffect(()=>{n==="users"&&A()},[n]);const T=async U=>{if(window.confirm("Tem a certeza que deseja excluir este utilizador permanentemente? Esta ao no pode ser desfeita.")){f(U);try{const{error:G}=await Be.from("profiles").delete().eq("id",U);if(G)throw G;o(i.filter(Z=>Z.id!==U)),alert("Utilizador excludo com sucesso.")}catch(G){alert(`Erro ao excluir utilizador: ${G.message}`)}finally{f(null)}}},k=()=>{if(l==="all")return i;const U=new Date;return i.filter(G=>{const Z=G.last_seen?new Date(G.last_seen):null,Y=Z&&U.getTime()-Z.getTime()<300*1e3;return l==="online"?Y:!Y})},[R,O]=C.useState([]),P=async(U,G,Z)=>{const Y=m.find(ie=>ie.id===U);if(Y)try{const ie=G==="APPROVE"?mn.PUBLICADO:mn.REJEITADO,{error:q}=await Be.from("products").update({status:ie}).eq("id",U);if(q)throw q;const X={id:Date.now().toString(),adminId:t.id,adminName:t.name,action:G==="APPROVE"?"APPROVE_PRODUCT":"REJECT_PRODUCT",targetId:U,timestamp:new Date().toISOString(),details:`${G==="APPROVE"?"Aprovado":"Rejeitado"}: ${Y.name}. Obs: ${Z||"Sem comentrios"}`};O([X,...R]),y(m.filter(te=>te.id!==U))}catch(ie){console.error("Error updating product status:",ie)}},M=[{id:"overview",icon:Z5,label:"Geral"},{id:"review",icon:oh,label:"Reviso"},{id:"products",icon:Rs,label:"Produtos"},{id:"users",icon:_d,label:"Utilizadores"},{id:"logs",icon:B5,label:"Auditoria"},{id:"shops",icon:Ig,label:"Lojas"},...h?[{id:"management",icon:kF,label:"Gesto Admins"}]:[]],[D,F]=C.useState([]);C.useEffect(()=>{n==="shops"&&B()},[n]);const B=async()=>{try{const{data:U,error:G}=await Be.from("shops").select("*, profiles:owner_id(full_name, email)").eq("status","PENDING");if(G)throw G;F(U||[])}catch(U){console.error("Error fetching shops:",U)}},J=async(U,G)=>{try{const Z=G==="APPROVE"?"APPROVED":"REJECTED",{error:Y}=await Be.from("shops").update({status:Z,is_verified:G==="APPROVE"}).eq("id",U);if(Y)throw Y;F(ie=>ie.filter(q=>q.id!==U)),alert(`Loja ${G==="APPROVE"?"aprovada":"rejeitada"} com sucesso!`)}catch(Z){console.error(Z),alert("Erro ao atualizar loja")}};return w.jsxs("div",{className:"min-h-screen bg-[#060606] text-white flex flex-col md:flex-row animate-in fade-in duration-500",children:[w.jsxs("aside",{className:"w-full md:w-64 bg-[#0B0B0B] border-r border-white/5 flex flex-col p-4 gap-6 z-30",children:[w.jsxs("div",{className:"flex items-center gap-3 px-2",children:[w.jsx("button",{onClick:e,className:"p-2 bg-[#1A1A1A] rounded-xl hover:bg-[#C00000] transition-colors",children:w.jsx(zs,{size:18})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:"text-[10px] font-black text-[#FFD700] tracking-[0.2em] uppercase",children:h?"Master Access":"Admin Panel"}),w.jsx("span",{className:"text-sm font-black italic",children:"ANGOPLACE"})]})]}),w.jsx("nav",{className:"flex flex-row md:flex-col overflow-x-auto no-scrollbar gap-1",children:M.map(U=>{const G=U.icon,Z=n===U.id;return w.jsxs("button",{onClick:()=>r(U.id),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 min-w-max md:w-full ${Z?"bg-[#FFD700] text-black font-black":"text-white/40 hover:bg-white/5"}`,children:[w.jsxs("div",{className:"relative",children:[w.jsx(G,{size:18}),U.id==="review"&&m.length>0&&w.jsx("span",{className:"absolute -top-2 -right-2 w-4 h-4 bg-[#C00000] text-white text-[9px] flex items-center justify-center rounded-full font-black animate-pulse",children:m.length})]}),w.jsx("span",{className:"text-xs uppercase tracking-widest",children:U.label})]},U.id)})})]}),w.jsxs("main",{className:"flex-grow p-6 overflow-y-auto pb-32",children:[n==="overview"&&w.jsxs("div",{className:"space-y-8",children:[w.jsx("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter",children:"Vista Executiva"}),w.jsx("p",{className:"text-sm text-white/40 font-medium",children:"Controlo total do marketplace em Angola"})]})}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[{icon:dk,label:"Volume Vendas",value:"14.2M Kz",color:"#FFD700"},{icon:_d,label:"Novos Users",value:"+1.2k",color:"#C00000"},{icon:Rs,label:"Stock Total",value:"8.5k",color:"#FFFFFF"},{icon:Ig,label:"Incidentes",value:"0",color:"#FFD700"}].map((U,G)=>w.jsxs("div",{className:"bg-[#0B0B0B] p-5 rounded-3xl border border-white/5 hover:border-white/10 transition-colors",children:[w.jsx("div",{className:"p-3 rounded-2xl bg-white/5 text-white/50 w-fit mb-4",children:w.jsx(U.icon,{size:20})}),w.jsx("p",{className:"text-[10px] text-white/30 font-black uppercase tracking-widest",children:U.label}),w.jsx("h4",{className:"text-2xl font-black mt-1",style:{color:U.color},children:U.value})]},G))}),w.jsx("div",{className:"bg-[#0B0B0B] p-6 rounded-3xl border border-white/5 h-80",children:w.jsx(VK,{width:"100%",height:"100%",children:w.jsxs(bse,{data:xse,children:[w.jsx(JD,{strokeDasharray:"3 3",stroke:"#1A1A1A",vertical:!1}),w.jsx(rU,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#444",fontSize:10}}),w.jsx(iU,{axisLine:!1,tickLine:!1,tick:{fill:"#444",fontSize:10}}),w.jsx(Dte,{contentStyle:{backgroundColor:"#000",border:"none",borderRadius:"12px"},itemStyle:{color:"#FFD700",fontWeight:"bold"}}),w.jsx(tU,{dataKey:"sales",fill:"#FFD700",radius:[4,4,0,0]})]})})})]}),n==="review"&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter",children:"Reviso de Produtos"}),m.length===0?w.jsxs("div",{className:"py-20 flex flex-col items-center justify-center opacity-20",children:[w.jsx(EE,{size:64}),w.jsx("p",{className:"mt-4 font-black uppercase tracking-widest",children:"Tudo em dia!"})]}):w.jsx("div",{className:"grid grid-cols-1 gap-4",children:m.map(U=>w.jsxs("div",{className:"bg-[#0B0B0B] border border-white/5 rounded-3xl overflow-hidden flex flex-col md:flex-row p-4 gap-6 hover:border-[#FFD700]/20 transition-all group",children:[w.jsx("div",{className:"w-full md:w-48 h-48 rounded-2xl overflow-hidden bg-[#1A1A1A] shrink-0",children:w.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"})}),w.jsxs("div",{className:"flex-grow flex flex-col justify-between py-2",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("h4",{className:"text-xl font-black",children:U.name}),w.jsxs("span",{className:"text-lg font-black text-[#FFD700]",children:[U.price.toLocaleString()," Kz"]})]}),w.jsx("p",{className:"text-xs text-white/40 mt-1 uppercase font-bold tracking-widest",children:U.category}),w.jsxs("div",{className:"mt-4 flex items-center gap-2 text-white/30 text-[10px] font-bold uppercase",children:[w.jsx(_d,{size:12})," Submetido por ID: ",U.submittedBy]})]}),w.jsxs("div",{className:"flex flex-wrap gap-2 mt-6",children:[w.jsxs("button",{onClick:()=>P(U.id,"APPROVE"),className:"flex items-center gap-2 px-6 py-3 bg-[#FFD700] text-black rounded-xl font-black uppercase text-[10px] tracking-widest hover:scale-105 transition-transform",children:[w.jsx(EE,{size:14})," Aprovar Publicao"]}),w.jsxs("button",{onClick:()=>P(U.id,"REJECT","Produto no cumpre os requisitos."),className:"flex items-center gap-2 px-6 py-3 bg-[#C00000] text-white rounded-xl font-black uppercase text-[10px] tracking-widest hover:scale-105 transition-transform",children:[w.jsx(lF,{size:14})," Rejeitar"]}),w.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-white/5 text-white/40 rounded-xl font-black uppercase text-[10px] tracking-widest",children:[w.jsx(N0,{size:14})," Ver Detalhes"]})]})]})]},U.id))})]}),n==="users"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter",children:"Gesto de Utilizadores"}),w.jsx("p",{className:"text-sm text-white/40 font-medium",children:"Controlo de acessos e monitorizao de atividade"})]}),w.jsx("div",{className:"flex bg-[#0B0B0B] p-1 rounded-2xl border border-white/5",children:[{id:"all",label:"Todos"},{id:"online",label:"Online"},{id:"offline",label:"Offline"}].map(U=>w.jsx("button",{onClick:()=>u(U.id),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${l===U.id?"bg-[#FFD700] text-black":"text-white/40 hover:text-white"}`,children:U.label},U.id))})]}),w.jsx("div",{className:"grid grid-cols-1 gap-4",children:k().length===0?w.jsx("div",{className:"py-20 text-center opacity-20 font-black uppercase italic",children:"Nenhum utilizador encontrado"}):k().map(U=>{const G=new Date,Z=U.last_seen?new Date(U.last_seen):null,Y=Z&&G.getTime()-Z.getTime()<300*1e3;return w.jsxs("div",{className:"bg-[#0B0B0B] border border-white/5 p-4 rounded-3xl flex items-center justify-between group hover:border-white/10 transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center overflow-hidden",children:U.avatar?w.jsx("img",{src:U.avatar,alt:"",className:"w-full h-full object-cover"}):w.jsx(_d,{size:20,className:"text-white/20"})}),w.jsx("div",{className:`absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-[#0B0B0B] ${Y?"bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]":"bg-gray-500"}`})]}),w.jsxs("div",{children:[w.jsx("p",{className:"font-black text-sm uppercase italic",children:U.name}),w.jsx("p",{className:"text-[10px] text-white/40 font-bold",children:U.email}),w.jsx("p",{className:"text-[9px] text-[#FFD700] font-black uppercase mt-0.5 tracking-tighter",children:U.role})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"hidden md:block mr-4 text-right",children:[w.jsx("p",{className:"text-[9px] text-white/20 uppercase font-black",children:"Carteira"}),w.jsxs("p",{className:"text-xs font-black italic",children:[U.walletBalance.toLocaleString()," Kz"]})]}),w.jsx("button",{disabled:d===U.id||U.role===vn.SUPER_ADMIN,onClick:()=>T(U.id),className:"p-3 bg-[#C00000]/10 text-[#C00000] rounded-xl hover:bg-[#C00000] hover:text-white transition-all disabled:opacity-20",children:w.jsx(vk,{size:18})})]})]},U.id)})})]}),n==="logs"&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter",children:"Histrico de Aes"}),w.jsx("div",{className:"bg-[#0B0B0B] rounded-3xl border border-white/5 overflow-hidden",children:w.jsxs("table",{className:"w-full text-left",children:[w.jsx("thead",{className:"bg-white/5",children:w.jsxs("tr",{className:"text-[10px] font-black uppercase text-white/30 tracking-widest",children:[w.jsx("th",{className:"p-4",children:"Data/Hora"}),w.jsx("th",{className:"p-4",children:"Admin"}),w.jsx("th",{className:"p-4",children:"Evento"}),w.jsx("th",{className:"p-4",children:"Alvo"})]})}),w.jsx("tbody",{className:"divide-y divide-white/5",children:R.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:4,className:"p-10 text-center text-white/20 text-xs italic",children:"Nenhuma ao administrativa registada recentemente"})}):R.map(U=>w.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[w.jsx("td",{className:"p-4 text-[10px] font-mono text-white/40",children:new Date(U.timestamp).toLocaleString()}),w.jsx("td",{className:"p-4 text-xs font-bold text-[#FFD700]",children:U.adminName}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:"px-2 py-1 rounded bg-white/5 text-[9px] font-black uppercase text-white/60",children:U.action})}),w.jsx("td",{className:"p-4 text-[10px] text-white/40 max-w-xs truncate",children:U.details})]},U.id))})]})})]}),n==="management"&&h&&w.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-300",children:[w.jsxs("header",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter text-[#FFD700]",children:"Gesto de Admins"}),w.jsx("p",{className:"text-sm text-white/40",children:"Privilgios master reservados ao Super Admin"})]}),w.jsxs("button",{className:"flex items-center gap-2 px-6 py-4 bg-[#C00000] text-white rounded-2xl font-black uppercase text-xs tracking-widest hover:scale-105 transition-transform",children:[w.jsx(nb,{size:18})," Novo Administrador"]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{name:"Admin Secundrio",email:"admin2@apm.ao",role:"ADMIN"},{name:"Gestor Logstica",email:"logistica@apm.ao",role:"ADMIN"}].map((U,G)=>w.jsxs("div",{className:"bg-[#0B0B0B] p-6 rounded-3xl border border-white/5 flex items-center justify-between group hover:border-[#FFD700]/30 transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center text-[#FFD700] font-black",children:"AD"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold",children:U.name}),w.jsx("p",{className:"text-xs text-white/30",children:U.email})]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{className:"p-2 hover:text-[#FFD700] transition-colors",children:w.jsx(KF,{size:16})}),w.jsx("button",{className:"p-2 hover:text-[#C00000] transition-colors",children:w.jsx(Ig,{size:16})})]})]},G))})]}),n==="shops"&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter",children:"Aprovao de Lojas"}),D.length===0?w.jsx("div",{className:"py-20 text-center text-white/40",children:"Nenhuma loja pendente."}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(U=>{var G,Z;return w.jsxs("div",{className:"bg-[#1A1A1A] p-6 rounded-3xl border border-white/5",children:[w.jsx("h3",{className:"font-bold text-xl mb-1",children:U.name}),w.jsx("p",{className:"text-xs text-white/50 mb-4",children:U.description}),w.jsxs("div",{className:"space-y-2 text-sm text-white/70 mb-6",children:[w.jsxs("p",{children:["NIF: ",U.nif]}),w.jsxs("p",{children:["Proprietrio: ",(G=U.profiles)==null?void 0:G.full_name," (",(Z=U.profiles)==null?void 0:Z.email,")"]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>J(U.id,"APPROVE"),className:"flex-1 bg-[#FFD700] text-black py-2 rounded-xl font-bold uppercase text-xs",children:"Aprovar"}),w.jsx("button",{onClick:()=>J(U.id,"REJECT"),className:"flex-1 bg-[#C00000] text-white py-2 rounded-xl font-bold uppercase text-xs",children:"Rejeitar"})]})]},U.id)})})]})]})]})},_se=({initialQuery:e="",onBack:t,onProductClick:n})=>{var M,D;const[r,i]=C.useState(e),[o,l]=C.useState([]),[u,d]=C.useState(!1),[f,h]=C.useState(!1),[m,y]=C.useState([]),[x,S]=C.useState({isInternational:"all",minPrice:0,maxPrice:1e6,minRating:0,onlyFreeShipping:!1}),[E,A]=C.useState(()=>{const F=localStorage.getItem("apm_search_history");return F?JSON.parse(F):["Gerador 5kva","Cerveja Cuca grade","Smartphone barato"]}),T=C.useMemo(()=>Array.from(new Set(ou.map(F=>F.category))),[]),k=C.useMemo(()=>{if(!r.trim())return[];const F=r.toLowerCase(),B=E.filter(U=>U.toLowerCase().includes(F)).map(U=>({type:"history",text:U})),J=ou.filter(U=>U.name.toLowerCase().includes(F)).slice(0,3).map(U=>({type:"product",text:U.name,id:U.id}));return[...B,...J].slice(0,5)},[r,E]);C.useEffect(()=>{const B=setTimeout(async()=>{const J=r.trim().length<2;J||d(!0);try{let U={category:void 0,minPrice:0,maxPrice:1e6,keywords:[]};if(J)l([]);else try{const Y=await new mI({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Analise a query "${r}". Retorne um JSON com autocomplete de tendncias em Angola e parmetros de busca. No campo search_params inclua minPrice e maxPrice baseados no contexto do produto.`,config:{responseMimeType:"application/json",responseSchema:{type:ut.OBJECT,properties:{autocomplete:{type:ut.ARRAY,items:{type:ut.OBJECT,properties:{text:{type:ut.STRING},type:{type:ut.STRING}},required:["text","type"]}},search_params:{type:ut.OBJECT,properties:{category:{type:ut.STRING},minPrice:{type:ut.NUMBER},maxPrice:{type:ut.NUMBER},keywords:{type:ut.ARRAY,items:{type:ut.STRING}}}}},required:["autocomplete","search_params"]}}}),ie=JSON.parse(Y.text||"{}");l(ie.autocomplete||[]),U={...U,...ie.search_params}}catch(Z){console.error("AI Search Error:",Z),l([])}let G=ou.filter(Z=>{const Y=U.keywords.length>0?U.keywords:[r.toLowerCase()],ie=J||Y.some(L=>Z.name.toLowerCase().includes(L.toString().toLowerCase())||Z.category.toLowerCase().includes(L.toString().toLowerCase())||Z.description.toLowerCase().includes(L.toString().toLowerCase())),q=!x.category||Z.category===x.category,X=Z.price>=(x.minPrice||0)&&Z.price<=(x.maxPrice||1e6),te=x.isInternational==="all"||x.isInternational===!0&&Z.isInternational||x.isInternational===!1&&!Z.isInternational,ce=!x.minRating||Z.rating>=x.minRating,ve=!x.onlyFreeShipping||Z.isFreeShipping;return ie&&q&&X&&te&&ce&&ve});y(G)}catch(U){console.error("Deep Search Error:",U),y(ou)}finally{d(!1)}},300);return()=>clearTimeout(B)},[r,x]);const R=F=>{if(i(F),!E.includes(F)&&F.trim().length>0){const B=[F,...E].slice(0,10);A(B),localStorage.setItem("apm_search_history",JSON.stringify(B))}},O=(F,B)=>{const J=parseInt(F.target.value);S(U=>{const G={...U};return B==="min"?G.minPrice=Math.min(J,(U.maxPrice||1e6)-5e3):G.maxPrice=Math.max(J,(U.minPrice||0)+5e3),G})},P=C.useMemo(()=>x.category||x.minPrice!==0||x.maxPrice!==1e6||x.onlyFreeShipping||x.minRating&&x.minRating>0,[x]);return w.jsxs("div",{className:"fixed inset-0 bg-[#0B0B0B] z-[100] flex flex-col animate-in slide-in-from-bottom duration-300",children:[w.jsxs("div",{className:"p-4 bg-[#0B0B0B] border-b border-white/5 space-y-4 shadow-2xl relative z-20",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-white",children:w.jsx(zs,{size:24})}),w.jsxs("div",{className:"flex-grow bg-[#1A1A1A] h-12 rounded-xl flex items-center px-4 gap-3 focus-within:ring-2 focus-within:ring-[#FFD700] transition-all relative group",children:[w.jsx(I0,{size:20,className:u?"text-[#C00000] animate-pulse":"text-[#FFD700]"}),w.jsx("input",{autoFocus:!0,type:"text",placeholder:"Pesquisar em Angola...",className:"bg-transparent border-none outline-none flex-grow text-white placeholder:text-white/20 text-lg font-medium",value:r,onChange:F=>i(F.target.value),onKeyDown:F=>F.key==="Enter"&&R(r)}),r&&w.jsx("button",{onClick:()=>i(""),className:"text-white/30 hover:text-white",children:w.jsx(ks,{size:18})})]}),w.jsxs("button",{onClick:()=>h(!f),className:`p-3 rounded-xl border transition-all relative ${f?"bg-[#FFD700] border-[#FFD700] text-black shadow-[0_0_20px_rgba(255,215,0,0.3)]":"bg-[#1A1A1A] border-white/10 text-white"}`,children:[w.jsx(hB,{size:20}),P&&!f&&w.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-[#C00000] rounded-full border-2 border-[#0B0B0B]"})]})]}),f&&w.jsxs("div",{className:"space-y-6 py-4 animate-in slide-in-from-top duration-300 bg-[#0F0F0F] rounded-2xl p-4 border border-white/5",children:[w.jsxs("div",{className:"space-y-6 px-2",children:[w.jsxs("div",{className:"flex justify-between items-end",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsxs("h4",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest flex items-center gap-2",children:[w.jsx(dk,{size:12,className:"text-[#FFD700]"})," Faixa de Preo"]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xl font-black text-white italic",children:(M=x.minPrice)==null?void 0:M.toLocaleString()}),w.jsx("span",{className:"text-white/20 text-xs",children:""}),w.jsxs("span",{className:"text-xl font-black text-[#FFD700] italic",children:[(D=x.maxPrice)==null?void 0:D.toLocaleString()," ",w.jsx("span",{className:"text-[10px] uppercase ml-1",children:"Kz"})]})]})]}),w.jsx(_k,{size:16,className:"text-[#C00000] animate-pulse"})]}),w.jsxs("div",{className:"relative h-10 flex items-center",children:[w.jsx("div",{className:"absolute w-full h-1.5 bg-white/5 rounded-full"}),w.jsx("div",{className:"absolute h-1.5 bg-gradient-to-r from-[#C00000] via-[#C00000] to-[#FFD700] rounded-full shadow-[0_0_15px_rgba(192,0,0,0.4)]",style:{left:`${(x.minPrice||0)/1e6*100}%`,right:`${100-(x.maxPrice||1e6)/1e6*100}%`}}),w.jsx("input",{type:"range",min:"0",max:"1000000",step:"5000",value:x.minPrice,onChange:F=>O(F,"min"),className:"absolute w-full h-1.5 bg-transparent appearance-none pointer-events-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:border-4 [&::-webkit-slider-thumb]:border-[#C00000] [&::-webkit-slider-thumb]:shadow-lg z-30"}),w.jsx("input",{type:"range",min:"0",max:"1000000",step:"5000",value:x.maxPrice,onChange:F=>O(F,"max"),className:"absolute w-full h-1.5 bg-transparent appearance-none pointer-events-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:pointer-events-auto [&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6 [&::-webkit-slider-thumb]:bg-white [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:border-4 [&::-webkit-slider-thumb]:border-[#FFD700] [&::-webkit-slider-thumb]:shadow-lg z-20"})]}),w.jsxs("div",{className:"flex justify-between text-[8px] font-black text-white/10 uppercase tracking-widest",children:[w.jsx("span",{children:"0 Kz"}),w.jsx("span",{children:"500.000 Kz"}),w.jsx("span",{children:"1.000.000 Kz+"})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:x.category||"",onChange:F=>S({...x,category:F.target.value||void 0}),className:"w-full bg-[#1A1A1A] text-[10px] font-black uppercase px-4 py-3 rounded-xl border border-white/10 outline-none text-white/70 appearance-none cursor-pointer focus:border-[#FFD700] transition-colors",children:[w.jsx("option",{value:"",children:"Categorias"}),T.map(F=>w.jsx("option",{value:F,children:F},F))]}),w.jsx(Jn,{size:14,className:"absolute right-4 top-1/2 -translate-y-1/2 rotate-90 text-white/20 pointer-events-none"})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:x.isInternational==="all"?"all":x.isInternational?"int":"local",onChange:F=>{const B=F.target.value;S({...x,isInternational:B==="all"?"all":B==="int"})},className:"w-full bg-[#1A1A1A] text-[10px] font-black uppercase px-4 py-3 rounded-xl border border-white/10 outline-none text-white/70 appearance-none cursor-pointer focus:border-[#FFD700] transition-colors",children:[w.jsx("option",{value:"all",children:"Origem"}),w.jsx("option",{value:"local",children:"Nacional (AO)"}),w.jsx("option",{value:"int",children:"Internacional"})]}),w.jsx(Jn,{size:14,className:"absolute right-4 top-1/2 -translate-y-1/2 rotate-90 text-white/20 pointer-events-none"})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("button",{onClick:()=>S({...x,onlyFreeShipping:!x.onlyFreeShipping}),className:`flex-grow flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-[10px] font-black uppercase border transition-all ${x.onlyFreeShipping?"bg-[#FFD700] text-black border-[#FFD700] shadow-lg shadow-yellow-500/10":"bg-[#1A1A1A] text-white/40 border-white/5 hover:border-white/20"}`,children:[w.jsx(bk,{size:14})," Entrega Grtis"]}),w.jsx("button",{onClick:()=>S({isInternational:"all",minPrice:0,maxPrice:1e6,minRating:0,onlyFreeShipping:!1}),className:"text-[10px] font-black uppercase text-[#C00000] px-4 py-3 hover:bg-[#C00000]/10 rounded-xl transition-all border border-transparent active:scale-95",children:"Limpar"})]})]}),r&&(k.length>0||o.length>0)&&m.length===0&&!u&&w.jsx("div",{className:"absolute top-20 left-4 right-4 bg-[#1A1A1A] rounded-2xl border border-white/10 shadow-2xl z-50 overflow-hidden",children:w.jsxs("div",{className:"max-h-[60vh] overflow-y-auto no-scrollbar divide-y divide-white/5",children:[k.map((F,B)=>w.jsxs("button",{onClick:()=>R(F.text),className:"w-full flex items-center gap-4 px-5 py-4 hover:bg-white/5 text-left group",children:[w.jsx("div",{className:"w-8 h-8 rounded-lg bg-black flex items-center justify-center",children:F.type==="history"?w.jsx(oh,{size:16,className:"text-white/30"}):w.jsx(yu,{size:16,className:"text-[#FFD700]"})}),w.jsx("span",{className:"text-sm font-bold text-white/90",children:F.text})]},`local-${B}`)),o.map((F,B)=>w.jsxs("button",{onClick:()=>R(F.text),className:"w-full flex items-center gap-4 px-5 py-4 hover:bg-white/5 text-left group",children:[w.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${F.type==="trend"?"bg-[#C00000]/10":"bg-[#FFD700]/10"}`,children:F.type==="trend"?w.jsx(M0,{size:16,className:"text-[#C00000]"}):w.jsx(wB,{size:16,className:"text-[#FFD700]"})}),w.jsx("span",{className:"text-sm font-bold text-white/90",children:F.text})]},`ai-${B}`))]})})]}),w.jsx("div",{className:"flex-grow overflow-y-auto p-4 pb-24 relative bg-[#0B0B0B]",children:m.length>0?w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"flex items-center justify-between px-1",children:w.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-widest text-white/20 italic flex items-center gap-2",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),m.length," resultados via APM-Elastic-Core"]})}),w.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map(F=>w.jsx(Y0,{product:F,onClick:n},F.id))})]}):r.length>=2||P?w.jsxs("div",{className:"flex flex-col items-center justify-center py-24 text-center",children:[w.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6",children:w.jsx(I0,{size:40,className:"text-white/10"})}),w.jsx("p",{className:"font-black uppercase tracking-tighter text-lg text-white/80",children:"Nenhum item indexado"}),w.jsx("p",{className:"text-xs mt-2 text-white/30 max-w-[200px]",children:"Tente ajustar a faixa de preo ou a categoria da busca."}),w.jsx("button",{onClick:()=>S({isInternational:"all",minPrice:0,maxPrice:1e6,minRating:0,onlyFreeShipping:!1}),className:"mt-6 text-[#FFD700] text-[10px] font-black uppercase tracking-widest border-b border-[#FFD700]/30 pb-1",children:"Resetar Filtros"})]}):w.jsx("div",{className:"space-y-8 animate-in fade-in duration-700",children:w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2 text-[#C00000] px-1",children:[w.jsx(M0,{size:18}),w.jsx("h3",{className:"font-black text-xs uppercase tracking-tighter italic",children:"Destaques em Luanda"})]}),w.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Geradores 5kva","Iphone 15 Pro","Cerveja Cuca","Kits Solares"].map((F,B)=>w.jsxs("div",{onClick:()=>R(F),className:"bg-[#1A1A1A] p-4 rounded-2xl border border-white/5 hover:border-[#FFD700]/30 transition-all cursor-pointer group flex items-center justify-between active:scale-[0.98]",children:[w.jsx("span",{className:"text-sm font-black text-white group-hover:text-[#FFD700] transition-colors",children:F}),w.jsx(Jn,{size:14,className:"text-white/10 group-hover:text-[#FFD700]"})]},B))})]})})}),u&&w.jsxs("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-[#FFD700] text-black px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest flex items-center gap-3 shadow-[0_10px_30px_rgba(255,215,0,0.3)] z-[110] animate-in slide-in-from-bottom-5",children:[w.jsx("div",{className:"w-4 h-4 border-3 border-black border-t-transparent rounded-full animate-spin"}),w.jsx("span",{children:"APM-Elastic Indexing..."})]}),w.jsx("style",{children:`
        input[type=range]::-webkit-slider-thumb {
          -webkit-appearance: none;
          pointer-events: all;
          width: 28px;
          height: 28px;
          background-color: #fff;
          border-radius: 50%;
          cursor: pointer;
          box-shadow: 0 4px 10px rgba(0,0,0,0.5);
          transition: transform 0.2s;
        }
        input[type=range]::-webkit-slider-thumb:active {
          transform: scale(1.15);
        }
        input[type=range]::-moz-range-thumb {
          pointer-events: all;
          width: 28px;
          height: 28px;
          background-color: #fff;
          border-radius: 50%;
          cursor: pointer;
          box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }
      `})]})},BR=()=>{const[e,t]=C.useState(""),[n,r]=C.useState(""),[i,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(""),[h,m]=C.useState(""),[y,x]=C.useState(!0),[S,E]=C.useState("phone"),[A,T]=C.useState(!1),[k,R]=C.useState(!1),[O,P]=C.useState(!1),[M,D]=C.useState(!1),[F,B]=C.useState(!1),[J,U]=C.useState(null),[G,Z]=C.useState(null),[Y,ie]=C.useState(0),q=C.useRef(null);C.useEffect(()=>(Y>0?q.current=setInterval(()=>{ie(re=>re-1)},1e3):q.current&&clearInterval(q.current),()=>{q.current&&clearInterval(q.current)}),[Y]);const X=re=>{var me;const le=((me=re.message)==null?void 0:me.toLowerCase())||"";return le.includes("invalid login credentials")?"E-mail ou palavra-passe incorretos":le.includes("user already registered")?"Este e-mail j est registado":le.includes("signup disabled")?"O registo est temporariamente desativado":le.includes("rate limit exceeded")?"Demasiadas tentativas. Tenta mais tarde":le.includes("otp expired")?"O cdigo expirou. Solicita um novo":le.includes("invalid search path")?"Erro interno de configurao":re.message||"Ocorreu um erro inesperado"},te=re=>{let le=re.replace(/\D/g,"");return le.startsWith("244")&&le.length>9&&(le=le.substring(3)),le},ce=re=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(re),ve=async re=>{if(re.preventDefault(),U(null),Z(null),S==="phone"){const le=te(d);if(!le||le.length<9){U("Por favor, insere um nmero de telefone vlido (9 dgitos)");return}if(!A){R(!0);try{const{error:me}=await Be.auth.signInWithOtp({phone:`+244${le}`});if(me)throw me;T(!0),ie(60),Z("Cdigo enviado para o seu telemvel!")}catch(me){U(X(me))}finally{R(!1)}return}if(h.length<4){U("O cdigo deve ter pelo menos 4 dgitos");return}R(!0);try{const me=te(d),{error:Te}=await Be.auth.verifyOtp({phone:`+244${me}`,token:h,type:"sms"});if(Te)throw Te;Z("Autenticado com sucesso!")}catch(me){U(X(me))}finally{R(!1)}return}if(!ce(e)){U("Por favor, insere um e-mail vlido");return}if(!y){if(!i||i.trim().length<3){U("Por favor, insere o teu nome completo");return}if(n!==l){U("As palavras-passe no coincidem");return}if(!F){U("Deves aceitar os termos e condies");return}}if(n.length<6){U("A palavra-passe deve ter pelo menos 6 caracteres");return}R(!0);try{if(y){const{error:le}=await Be.auth.signInWithPassword({email:e,password:n});if(le)throw le}else{const{error:le}=await Be.auth.signUp({email:e,password:n,options:{data:{full_name:i||e.split("@")[0],role:vn.USER,wallet_balance:0}}});if(le)throw le;le||Z("Conta criada! Verifica o teu e-mail para confirmar.")}}catch(le){U(X(le))}finally{R(!1)}},L=async()=>{if(!(Y>0)){U(null),Z(null),R(!0);try{const re=te(d),{error:le}=await Be.auth.signInWithOtp({phone:`+244${re}`});if(le)throw le;ie(60),Z("Novo cdigo enviado!")}catch(re){U(X(re))}finally{R(!1)}}},ee=async()=>{R(!0),U(null),Z(null);try{const{error:re}=await Be.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,queryParams:{prompt:"select_account"}}});if(re)throw re}catch(re){U(re.message||"Erro no login com Google"),R(!1)}};return w.jsxs("div",{className:"min-h-screen bg-[#0B0B0B] flex flex-col items-center justify-center p-6 text-white relative overflow-hidden",children:[w.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-[#C00000]/10 rounded-full blur-[100px]"}),w.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-[#FFD700]/10 rounded-full blur-[100px]"}),w.jsxs("div",{className:"w-full max-w-md space-y-10 relative z-10",children:[w.jsxs("div",{className:"text-center space-y-4 animate-in fade-in zoom-in duration-700",children:[w.jsxs("div",{className:"relative inline-block",children:[w.jsx("div",{className:"absolute inset-0 bg-white/20 blur-3xl rounded-full scale-150 opacity-20 animate-pulse"}),w.jsx(rf,{variant:"horizontal",size:"xl",className:"relative"})]}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("h2",{className:"text-2xl font-black tracking-tight text-[#FFD700]",children:y?"Bem-vindo de volta":"Crie a sua conta"}),w.jsx("p",{className:"text-white/40 font-black text-[10px] tracking-[0.4em] uppercase",children:"Portal de Acesso Seguro  Angola"})]})]}),w.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[J&&w.jsx("div",{className:"bg-[#C00000]/10 border border-[#C00000]/30 text-[#C00000] px-4 py-3 rounded-2xl text-xs font-bold text-center animate-in fade-in duration-300",children:J}),G&&w.jsx("div",{className:"bg-green-500/10 border border-green-500/30 text-green-500 px-4 py-3 rounded-2xl text-xs font-bold text-center animate-in fade-in duration-300",children:G}),w.jsxs("div",{className:"flex bg-[#1A1A1A] p-1 rounded-2xl border border-white/5 mb-6",children:[w.jsx("button",{type:"button",onClick:()=>{E("phone"),T(!1),U(null),Z(null)},className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${S==="phone"?"bg-[#FFD700] text-black shadow-lg":"text-white/40 hover:text-white"}`,children:"Telefone"}),w.jsx("button",{type:"button",onClick:()=>{E("email"),U(null),Z(null)},className:`flex-1 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${S==="email"?"bg-[#FFD700] text-black shadow-lg":"text-white/40 hover:text-white"}`,children:"E-mail"})]}),w.jsx("div",{className:"space-y-3",children:S==="phone"?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative group",children:[w.jsx(gk,{className:`absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#FFD700] transition-colors ${J&&!d?"text-[#C00000]":"text-white/20"}`,size:18}),w.jsx("div",{className:"absolute left-12 top-1/2 -translate-y-1/2 text-[#FFD700] font-black text-sm",children:"+244"}),w.jsx("input",{required:!0,type:"tel",maxLength:9,placeholder:"Nmero de Telefone",value:d,disabled:A,onChange:re=>{f(re.target.value),U(null)},className:`w-full bg-[#1A1A1A] border rounded-2xl py-4 pl-24 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm ${J&&!d?"border-[#C00000]":"border-white/5"} disabled:opacity-50`})]}),A&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"relative group animate-in slide-in-from-top-4 duration-300",children:[w.jsx(TE,{className:`absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#FFD700] transition-colors ${J&&!h?"text-[#C00000]":"text-white/20"}`,size:18}),w.jsx("input",{required:!0,type:"text",maxLength:6,placeholder:"Cdigo OTP (4-6 dgitos)",value:h,onChange:re=>{m(re.target.value),U(null)},className:`w-full bg-[#1A1A1A] border rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm ${J&&!h?"border-[#C00000]":"border-white/5"}`})]}),w.jsx("div",{className:"text-center",children:w.jsx("button",{type:"button",disabled:Y>0||k,onClick:L,className:"text-[10px] font-black uppercase tracking-widest text-[#FFD700] hover:text-white transition-colors disabled:opacity-50",children:Y>0?`Reenviar em ${Y}s`:"No recebi o cdigo (Reenviar)"})})]})]}):w.jsxs(w.Fragment,{children:[!y&&w.jsxs("div",{className:"relative group animate-in slide-in-from-top-2 duration-300",children:[w.jsx(wk,{className:`absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#FFD700] transition-colors ${J&&!i?"text-[#C00000]":"text-white/20"}`,size:18}),w.jsx("input",{required:!0,type:"text",placeholder:"Nome Completo",value:i,onChange:re=>{o(re.target.value),U(null)},className:`w-full bg-[#1A1A1A] border rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm ${J&&!i?"border-[#C00000]":"border-white/5"}`})]}),w.jsxs("div",{className:"relative group",children:[w.jsx(FF,{className:`absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#FFD700] transition-colors ${J&&!e?"text-[#C00000]":"text-white/20"}`,size:18}),w.jsx("input",{required:!0,type:"email",placeholder:"E-mail",value:e,onChange:re=>{t(re.target.value),U(null)},className:`w-full bg-[#1A1A1A] border rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm ${J&&!e?"border-[#C00000]":"border-white/5"}`})]}),w.jsxs("div",{className:"relative group",children:[w.jsx(TE,{className:`absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#FFD700] transition-colors ${J&&n.length<6?"text-[#C00000]":"text-white/20"}`,size:18}),w.jsx("input",{required:!0,type:O?"text":"password",placeholder:"Palavra-passe (mn. 6 caracteres)",value:n,onChange:re=>{r(re.target.value),U(null)},className:`w-full bg-[#1A1A1A] border rounded-2xl py-4 pl-12 pr-12 outline-none focus:border-[#FFD700] transition-all font-bold text-sm ${J&&n.length<6?"border-[#C00000]":"border-white/5"}`}),w.jsx("button",{type:"button",onClick:()=>P(!O),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/20 hover:text-[#FFD700] transition-colors",children:O?w.jsx(AE,{size:18}):w.jsx(N0,{size:18})})]}),!y&&w.jsxs("div",{className:"relative group animate-in slide-in-from-top-2 duration-300",children:[w.jsx(oo,{className:`absolute left-4 top-1/2 -translate-y-1/2 group-focus-within:text-[#FFD700] transition-colors ${J&&l!==n?"text-[#C00000]":"text-white/20"}`,size:18}),w.jsx("input",{required:!0,type:M?"text":"password",placeholder:"Confirmar Palavra-passe",value:l,onChange:re=>{u(re.target.value),U(null)},className:`w-full bg-[#1A1A1A] border rounded-2xl py-4 pl-12 pr-12 outline-none focus:border-[#FFD700] transition-all font-bold text-sm ${J&&l!==n?"border-[#C00000]":"border-white/5"}`}),w.jsx("button",{type:"button",onClick:()=>D(!M),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/20 hover:text-[#FFD700] transition-colors",children:M?w.jsx(AE,{size:18}):w.jsx(N0,{size:18})})]}),!y&&w.jsxs("div",{className:"flex items-center gap-3 px-2 py-1 animate-in slide-in-from-top-2 duration-300",children:[w.jsx("input",{type:"checkbox",id:"terms",checked:F,onChange:re=>B(re.target.checked),className:"w-4 h-4 rounded border-white/5 bg-[#1A1A1A] accent-[#FFD700] cursor-pointer"}),w.jsxs("label",{htmlFor:"terms",className:"text-[10px] text-white/40 cursor-pointer select-none",children:["Aceito os ",w.jsx("span",{className:"text-[#FFD700] font-bold",children:"Termos e Condies"})," de uso do AngoPlace."]})]})]})}),w.jsxs("button",{disabled:k,type:"submit",className:"w-full bg-[#FFD700] text-black h-14 rounded-2xl font-black uppercase text-sm tracking-widest flex items-center justify-center gap-2 hover:bg-white active:scale-95 transition-all shadow-xl shadow-yellow-500/10 disabled:opacity-50",children:[k?"Processando...":S==="phone"?A?"Verificar Cdigo":"Gerar PIN SMS":y?"Entrar Agora":"Criar Minha Conta",!k&&w.jsx(eb,{size:20})]})]}),w.jsxs("div",{className:"relative py-4",children:[w.jsx("div",{className:"absolute inset-0 flex items-center",children:w.jsx("div",{className:"w-full border-t border-white/5"})}),w.jsx("div",{className:"relative flex justify-center text-[8px] uppercase font-black tracking-widest",children:w.jsx("span",{className:"bg-[#0B0B0B] px-4 text-white/10 italic",children:"AngoPlace Ecosystem"})})]}),w.jsxs("button",{onClick:ee,className:"w-full bg-[#1A1A1A] border border-white/10 text-white h-14 rounded-2xl font-bold text-sm flex items-center justify-center gap-3 hover:bg-[#222] active:scale-95 transition-all group",children:[w.jsx("div",{className:"bg-white p-1 rounded-full group-hover:rotate-12 transition-transform",children:w.jsx(rF,{size:18,className:"text-black"})}),"Login com Google"]}),w.jsx("div",{className:"text-center pt-4",children:w.jsx("button",{onClick:()=>{x(!y),U(null),Z(null),r(""),u(""),m(""),T(!1)},className:"text-white/40 text-[10px] font-black uppercase tracking-widest hover:text-[#FFD700] transition-colors",children:y?"Novo por aqui? Regista-te":"J s cliente? Entrar"})})]}),w.jsx("div",{className:"fixed bottom-8 text-center",children:w.jsx("p",{className:"text-[9px] text-white/10 font-black uppercase tracking-[0.5em] italic",children:"Marketplace Premium Angola"})})]})},Sse=({onBack:e,user:t})=>{const[n,r]=C.useState(""),[i,o]=C.useState(""),[l,u]=C.useState("Eletrnicos"),[d,f]=C.useState("0"),[h,m]=C.useState(""),[y,x]=C.useState(null),[S,E]=C.useState(null),[A,T]=C.useState(!1),[k,R]=C.useState(!1),[O,P]=C.useState([]),[M,D]=C.useState({}),F=C.useRef(null),B=(Y,ie)=>{const q=Date.now();P(X=>[...X,{message:Y,type:ie,id:q}]),setTimeout(()=>{P(X=>X.filter(te=>te.id!==q))},4e3)},J=Y=>{P(ie=>ie.filter(q=>q.id!==Y))},U=Y=>{var q;const ie=(q=Y.target.files)==null?void 0:q[0];if(ie){x(ie);const X=new FileReader;X.onloadend=()=>{E(X.result)},X.readAsDataURL(ie),M.image&&D({...M,image:!1}),B("Imagem selecionada!","success")}},G=()=>{const Y={};let ie=!0;y||(Y.image=!0,B("Por favor, selecione uma imagem para o produto.","error"),ie=!1),n.trim().length<5&&(Y.name=!0,B("O nome do produto deve ter pelo menos 5 caracteres.","error"),ie=!1);const q=parseFloat(i.replace(/[^0-9.]/g,""));(!i||isNaN(q)||q<=0)&&(Y.price=!0,B("Insira um preo vlido (apenas nmeros maiores que zero).","error"),ie=!1);const X=parseInt(d);return(d===""||isNaN(X)||X<0)&&(Y.stock=!0,B("A quantidade em estoque deve ser um nmero vlido (mnimo 0).","error"),ie=!1),h.trim().length<20&&(Y.description=!0,B("A descrio deve ser detalhada (mnimo 20 caracteres).","error"),ie=!1),D(Y),ie},Z=async Y=>{if(Y.preventDefault(),!(!G()||!y)){T(!0);try{const ie=y.name.split(".").pop(),q=`${Math.random().toString(36).substring(2)}.${ie}`,X=`${t.id}/${q}`,{error:te,data:ce}=await Be.storage.from("product-images").upload(X,y);if(te)throw te;const{data:{publicUrl:ve}}=Be.storage.from("product-images").getPublicUrl(X);if(!ve)throw new Error("Failed to get public URL for image");const L=parseFloat(i.replace(/[^0-9.]/g,"")),ee=parseInt(d),{error:re}=await Be.from("products").insert({name:n,price:L,description:h,category:l,image:ve,stock:ee,seller_id:t.id,status:"PENDENTE"});if(re)throw re;R(!0),B("Produto enviado para anlise com sucesso!","success")}catch(ie){B(ie.message||"Erro ao submeter produto.","error")}finally{T(!1)}}};return k?w.jsxs("div",{className:"min-h-screen bg-[#0B0B0B] flex flex-col items-center justify-center p-6 text-center space-y-6 animate-in zoom-in duration-500",children:[w.jsx("div",{className:"w-24 h-24 bg-[#FFD700] rounded-full flex items-center justify-center shadow-2xl shadow-[#FFD700]/20",children:w.jsx(nf,{size:48,className:"text-black"})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase text-white",children:"Sucesso Absoluto!"}),w.jsxs("p",{className:"text-white/40 text-sm max-w-xs mx-auto",children:["O seu produto ",w.jsxs("span",{className:"text-white font-bold",children:['"',n,'"']})," foi submetido. O tempo mdio de aprovao em Angola  de 4 horas."]})]}),w.jsx("button",{onClick:e,className:"bg-[#FFD700] text-black px-12 py-4 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-white transition-all active:scale-95 shadow-lg",children:"Voltar ao Meu Perfil"})]}):w.jsxs("div",{className:"min-h-screen bg-[#0B0B0B] text-white flex flex-col relative",children:[w.jsxs("header",{className:"p-4 border-b border-white/5 flex items-center gap-4 sticky top-0 bg-[#0B0B0B]/90 backdrop-blur-md z-40",children:[w.jsx("button",{onClick:e,className:"p-2 bg-white/5 rounded-xl text-white hover:text-[#FFD700] transition-colors",children:w.jsx(zs,{size:20})}),w.jsxs("div",{className:"flex flex-col",children:[w.jsx("h1",{className:"text-lg font-black italic uppercase tracking-tighter",children:"Vender Produto"}),w.jsx("p",{className:"text-[9px] font-bold text-white/30 uppercase tracking-widest",children:"Marketplace Luanda"})]})]}),w.jsx("div",{className:"fixed top-24 left-0 right-0 px-4 space-y-2 z-[100] pointer-events-none",children:O.map(Y=>w.jsxs("div",{className:`pointer-events-auto flex items-center justify-between gap-4 p-5 rounded-2xl border shadow-[0_20px_50px_rgba(0,0,0,0.5)] animate-in slide-in-from-top-10 duration-500 bg-[#121212] ${Y.type==="success"?"border-[#FFD700]/50 text-[#FFD700]":"border-[#C00000]/50 text-[#C00000]"}`,children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:`p-2 rounded-full ${Y.type==="success"?"bg-[#FFD700]/10":"bg-[#C00000]/10"}`,children:Y.type==="success"?w.jsx(nf,{size:20}):w.jsx(yk,{size:20})}),w.jsx("p",{className:"text-xs font-black uppercase tracking-tight leading-snug",children:Y.message})]}),w.jsx("button",{onClick:()=>J(Y.id),className:"p-2 hover:bg-white/5 rounded-full transition-colors opacity-40 hover:opacity-100",children:w.jsx(ks,{size:16})})]},Y.id))}),w.jsxs("form",{onSubmit:Z,className:"p-6 space-y-8 pb-32",children:[w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2 text-[#FFD700]",children:[w.jsx(T0,{size:18}),w.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Imagem do Produto"})]}),S&&w.jsx("button",{type:"button",onClick:()=>{x(null),E(null)},className:"text-[9px] font-black uppercase text-[#C00000]/60 hover:text-[#C00000]",children:"Remover"})]}),w.jsx("input",{type:"file",ref:F,onChange:U,className:"hidden",accept:"image/*"}),w.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[w.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=F.current)==null?void 0:Y.click()},className:`aspect-square rounded-2xl flex flex-col items-center justify-center gap-2 overflow-hidden transition-all border-2 ${S?"border-[#FFD700] bg-black":M.image?"border-[#C00000] bg-[#C00000]/5":"border-dashed border-white/10 bg-[#1A1A1A] hover:border-[#FFD700]/50 hover:bg-[#222]"}`,children:S?w.jsx("img",{src:S,alt:"Preview",className:"w-full h-full object-cover animate-in fade-in duration-300"}):w.jsxs(w.Fragment,{children:[w.jsx(T0,{size:24,className:`transition-colors ${M.image?"text-[#C00000]":"text-white/20"}`}),w.jsx("span",{className:`text-[10px] font-black ${M.image?"text-[#C00000]":"text-white/20"}`,children:"UPLOAD"})]})}),[1,2].map(Y=>w.jsx("div",{className:"aspect-square bg-[#1A1A1A] rounded-2xl border border-white/5 opacity-40 flex items-center justify-center",children:w.jsx(Rs,{size:20,className:"text-white/5"})},Y))]}),w.jsx("p",{className:"text-[9px] text-white/30 uppercase font-bold text-center",children:"A primeira imagem ser o destaque do anncio"})]}),w.jsxs("section",{className:"space-y-6",children:[w.jsxs("div",{className:"flex items-center gap-2 text-[#FFD700]",children:[w.jsx(R0,{size:18}),w.jsx("h3",{className:"text-xs font-black uppercase tracking-widest",children:"Especificaes Tcnicas"})]}),w.jsxs("div",{className:"space-y-5",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest ml-1",children:"Nome do Item"}),w.jsx("input",{type:"text",value:n,onChange:Y=>{r(Y.target.value),M.name&&D({...M,name:!1})},placeholder:"Ex: Gerador Honda 5KVA Silencioso",className:`w-full bg-[#1A1A1A] border rounded-2xl p-4 text-sm font-bold outline-none transition-all placeholder:text-white/10 ${M.name?"border-[#C00000] ring-2 ring-[#C00000]/10":"border-white/5 focus:border-[#FFD700]"}`})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest ml-1",children:"Preo (Kz)"}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"text",value:i,onChange:Y=>{o(Y.target.value),M.price&&D({...M,price:!1})},placeholder:"0.00",className:`w-full bg-[#1A1A1A] border rounded-2xl p-4 pl-4 text-sm font-bold outline-none transition-all ${M.price?"border-[#C00000] ring-2 ring-[#C00000]/10":"border-white/5 focus:border-[#FFD700]"}`})})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest ml-1",children:"Estoque Disponvel"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"number",min:"0",value:d,onChange:Y=>{f(Y.target.value),M.stock&&D({...M,stock:!1})},className:`w-full bg-[#1A1A1A] border rounded-2xl p-4 pl-12 text-sm font-bold outline-none transition-all ${M.stock?"border-[#C00000] ring-2 ring-[#C00000]/10":"border-white/5 focus:border-[#FFD700]"}`}),w.jsx(wF,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#FFD700]/40",size:16})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest ml-1",children:"Categoria Principal"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:l,onChange:Y=>u(Y.target.value),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl p-4 text-sm font-bold outline-none focus:border-[#FFD700] transition-all appearance-none cursor-pointer",children:[w.jsx("option",{children:"Eletrnicos"}),w.jsx("option",{children:"Moda"}),w.jsx("option",{children:"Casa e Lazer"}),w.jsx("option",{children:"Peas Auto"}),w.jsx("option",{children:"Energia Solar"})]}),w.jsx(Jn,{size:16,className:"absolute right-4 top-1/2 -translate-y-1/2 rotate-90 text-white/20 pointer-events-none"})]})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("label",{className:"text-[10px] font-black uppercase text-white/40 tracking-widest ml-1",children:"Descrio Detalhada"}),w.jsx("textarea",{rows:5,value:h,onChange:Y=>{m(Y.target.value),M.description&&D({...M,description:!1})},placeholder:"Descreva o estado do item, se tem garantia, local de entrega...",className:`w-full bg-[#1A1A1A] border rounded-2xl p-4 text-sm font-bold outline-none transition-all resize-none placeholder:text-white/10 ${M.description?"border-[#C00000] ring-2 ring-[#C00000]/10":"border-white/5 focus:border-[#FFD700]"}`}),w.jsxs("div",{className:"flex justify-between items-center px-1",children:[w.jsx("p",{className:"text-[9px] text-white/20 uppercase font-bold",children:"Mnimo 20 caracteres"}),w.jsxs("p",{className:`text-[9px] font-black ${h.length<20?"text-[#C00000]":"text-[#FFD700]"}`,children:[h.length," caracteres"]})]})]})]})]}),w.jsxs("div",{className:"bg-[#1A1A1A] border border-white/5 p-5 rounded-3xl flex gap-4 items-start shadow-xl",children:[w.jsx("div",{className:"bg-[#C00000] p-2 rounded-xl text-white",children:w.jsx(oo,{size:20})}),w.jsxs("div",{className:"space-y-1",children:[w.jsx("h4",{className:"text-[10px] font-black uppercase text-white tracking-widest",children:"Compromisso AngoPlace"}),w.jsx("p",{className:"text-[10px] text-white/40 font-medium leading-relaxed",children:"Todos os anncios so verificados para evitar burlas. Ao submeter, voc concorda com os termos de uso do marketplace lder em Angola."})]})]}),w.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black via-black to-transparent z-30",children:w.jsx("button",{type:"submit",disabled:A,className:"w-full bg-[#FFD700] text-black h-16 rounded-2xl font-black uppercase text-sm tracking-widest flex items-center justify-center gap-3 hover:bg-white active:scale-95 transition-all shadow-2xl shadow-[#FFD700]/20 disabled:opacity-50",children:A?w.jsxs(w.Fragment,{children:[w.jsx(tb,{size:24,className:"animate-spin"}),w.jsx("span",{children:"Processando..."})]}):w.jsxs(w.Fragment,{children:[w.jsx("span",{children:"SUBMETER ANNCIO"}),w.jsx(Jn,{size:20})]})})})]})]})},Ese=({product:e,onBack:t,onAddToCart:n,onChatWithSeller:r,onOpenSeller:i})=>{var M;const{addToCart:o,isInCart:l}=Ky(),[u,d]=C.useState(e.image),[f,h]=C.useState({}),[m,y]=C.useState([]),[x,S]=C.useState(!1),[E,A]=C.useState(null);C.useEffect(()=>{(async()=>{if(Xa.some(J=>J.id===e.sellerId)){A(Xa.find(J=>J.id===e.sellerId)||Xa[0]);return}const{data:F,error:B}=await Be.from("profiles").select("*").eq("id",e.sellerId).single();A(F?{id:F.id,name:F.full_name||"Vendedor",avatar:F.avatar_url||"https://via.placeholder.com/150",rating:0,totalSales:0,responseTime:"N/A",level:"BRONZE",joinedAt:F.created_at}:Xa[0])})()},[e.sellerId]);const T=E||Xa[0],k=[e.image,...e.gallery||[]],R=(D,F)=>{const B=Date.now();y(J=>[...J,{message:D,type:F,id:B}]),setTimeout(()=>{y(J=>J.filter(U=>U.id!==B))},3e3)},O=()=>{o(e,1,f),R("Produto adicionado ao carrinho!","success")},P=()=>{o(e,1,f),n()};return w.jsxs("div",{className:"min-h-screen bg-[#0B0B0B] text-white pb-32 animate-in slide-in-from-right duration-300",children:[w.jsxs("header",{className:"fixed top-0 left-0 right-0 h-16 flex items-center justify-between px-4 z-50 bg-gradient-to-b from-black/80 to-transparent",children:[w.jsx("button",{onClick:t,className:"p-2 bg-black/50 rounded-full backdrop-blur-md",children:w.jsx(zs,{size:20})}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{className:"p-2 bg-black/50 rounded-full backdrop-blur-md",children:w.jsx(aB,{size:20})}),w.jsx("button",{onClick:()=>S(!x),className:`p-2 rounded-full backdrop-blur-md transition-colors ${x?"bg-red-500 text-white":"bg-black/50"}`,children:w.jsx(pk,{size:20,fill:x?"currentColor":"none"})})]})]}),w.jsxs("div",{className:"relative aspect-[3/1] bg-white/5 overflow-hidden",children:[w.jsx("img",{src:u,alt:e.name,className:"w-full h-full object-cover"}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0B0B0B]/60 via-transparent to-transparent"}),w.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:k.map((D,F)=>w.jsx("button",{onClick:()=>d(D),className:`w-2 h-2 rounded-full transition-all ${u===D?"bg-[#FFD700] w-6":"bg-white/30 hover:bg-white/50"}`},F))})]}),w.jsxs("div",{className:"p-4 space-y-6",children:[w.jsxs("section",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("span",{className:"text-3xl font-black text-[#FFD700]",children:[e.price.toLocaleString()," ",w.jsx("span",{className:"text-sm",children:"Kz"})]}),e.oldPrice&&w.jsxs("span",{className:"text-sm text-white/30 line-through",children:[e.oldPrice.toLocaleString()," Kz"]})]}),w.jsx("h1",{className:"text-xl font-bold leading-tight",children:e.name}),w.jsxs("div",{className:"flex items-center gap-4 text-xs font-bold text-white/50",children:[w.jsxs("div",{className:"flex items-center gap-1 text-[#FFD700]",children:[w.jsx(P0,{size:12,fill:"#FFD700"})," ",e.rating]}),w.jsxs("span",{children:[e.sales," Vendidos"]}),e.isInternational&&w.jsxs("span",{className:"flex items-center gap-1 bg-white/10 px-2 py-0.5 rounded",children:[w.jsx(hk,{size:10})," Internacional"]})]})]}),(M=e.variations)==null?void 0:M.map(D=>w.jsxs("section",{className:"space-y-3",children:[w.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-white/40",children:D.name}),w.jsx("div",{className:"flex flex-wrap gap-2",children:D.options.map(F=>w.jsx("button",{onClick:()=>h(B=>({...B,[D.id]:F})),className:`px-4 py-2 rounded-xl text-xs font-bold border transition-all ${f[D.id]===F?"border-[#FFD700] bg-[#FFD700] text-black":"border-white/10 bg-[#1A1A1A] text-white/60"}`,children:F},F))})]},D.id)),w.jsxs("section",{onClick:()=>i(T.id),className:"bg-[#1A1A1A] p-4 rounded-2xl border border-white/5 flex items-center justify-between group cursor-pointer active:scale-[0.98] transition-all",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden",children:w.jsx("img",{src:T.avatar,alt:T.name,className:"w-full h-full object-cover"})}),w.jsxs("div",{children:[w.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[T.name,w.jsx("span",{className:"text-[9px] bg-[#FFD700]/10 text-[#FFD700] px-1.5 py-0.5 rounded uppercase",children:T.level})]}),w.jsxs("p",{className:"text-[10px] text-white/30 font-medium",children:["Reputao: ",T.rating,"/5.0 | ",T.totalSales," Vendas"]})]})]}),w.jsx(Jn,{className:"text-white/20 group-hover:text-[#FFD700] transition-colors"})]}),w.jsxs("section",{className:"bg-white/5 rounded-2xl p-4 divide-y divide-white/5",children:[w.jsxs("div",{className:"flex items-center gap-4 pb-3",children:[w.jsx(bk,{size:20,className:"text-[#FFD700]"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-bold",children:"Frete Grtis para Luanda"}),w.jsx("p",{className:"text-[10px] text-white/40",children:"Entrega estimada: 24h - 48h"})]})]}),w.jsxs("div",{className:"flex items-center gap-4 py-3",children:[w.jsx(QF,{size:20,className:"text-[#FFD700]"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-bold",children:"Devoluo Grtis"}),w.jsx("p",{className:"text-[10px] text-white/40",children:"At 7 dias aps o recebimento"})]})]}),w.jsxs("div",{className:"flex items-center gap-4 pt-3",children:[w.jsx(oo,{size:20,className:"text-[#FFD700]"}),w.jsxs("div",{children:[w.jsx("p",{className:"text-xs font-bold",children:"Proteo ao Comprador"}),w.jsx("p",{className:"text-[10px] text-white/40",children:"Reembolso garantido via AngoPlace"})]})]})]}),w.jsxs("section",{className:"space-y-2",children:[w.jsx("h3",{className:"text-sm font-black uppercase italic",children:"Descrio"}),w.jsx("p",{className:"text-sm text-white/60 leading-relaxed",children:e.description})]}),w.jsxs("section",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("h3",{className:"text-sm font-black uppercase italic",children:["Avaliaes (",aT.length,")"]}),w.jsx("span",{className:"text-xs text-[#FFD700] font-bold",children:"Ver Todas"})]}),w.jsx("div",{className:"space-y-4",children:aT.map(D=>w.jsxs("div",{className:"bg-[#1A1A1A] p-4 rounded-2xl border border-white/5",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-6 h-6 rounded-full bg-[#FFD700] flex items-center justify-center text-[10px] text-black font-black",children:D.userName[0]}),w.jsx("span",{className:"text-xs font-bold",children:D.userName})]}),w.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(F=>w.jsx(P0,{size:10,fill:F<=D.rating?"#FFD700":"transparent",stroke:F<=D.rating?"#FFD700":"#333"},F))})]}),w.jsx("p",{className:"text-xs text-white/60",children:D.comment})]},D.id))})]})]}),w.jsx("div",{className:"fixed top-20 left-0 right-0 px-4 space-y-2 z-[100]",children:m.map(D=>w.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border shadow-2xl animate-in slide-in-from-top duration-300 ${D.type==="success"?"bg-[#0B0B0B] border-[#FFD700] text-[#FFD700]":"bg-[#0B0B0B] border-[#C00000] text-[#C00000]"}`,children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(C0,{size:18}),w.jsx("span",{className:"text-xs font-black uppercase",children:D.message})]}),w.jsx("button",{onClick:()=>y(F=>F.filter(B=>B.id!==D.id)),children:w.jsx(ks,{size:14})})]},D.id))}),w.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 h-24 bg-[#0B0B0B] border-t border-white/10 px-4 flex items-center gap-4 z-50 backdrop-blur-xl",children:[w.jsxs("button",{onClick:()=>r(T.id),className:"flex flex-col items-center justify-center text-white/50 hover:text-[#FFD700] transition-colors",children:[w.jsx(qF,{size:24}),w.jsx("span",{className:"text-[9px] font-black uppercase mt-1",children:"Chat"})]}),w.jsx("button",{onClick:O,className:`flex-grow h-14 rounded-2xl font-black uppercase text-xs tracking-widest hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2 ${l(e.id)?"bg-green-500 text-white":"bg-white text-black"}`,children:l(e.id)?w.jsxs(w.Fragment,{children:[w.jsx(C0,{size:18})," No Carrinho"]}):w.jsxs(w.Fragment,{children:[w.jsx(rb,{size:18})," Adicionar"]})}),w.jsx("button",{onClick:P,className:"flex-grow bg-[#FFD700] text-black h-14 rounded-2xl font-black uppercase text-xs tracking-widest hover:scale-105 active:scale-95 transition-all shadow-lg shadow-[#FFD700]/10",children:"Comprar Agora"})]})]})},Ase=({seller:e,onBack:t})=>{const{user:n}=Zy(),[r,i]=C.useState([]),[o,l]=C.useState(""),[u,d]=C.useState(!1),[f,h]=C.useState(!1),m=C.useRef(null),y=T=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(T);C.useEffect(()=>{y(e.id)&&n?(h(!0),S(),E()):i([{id:"1",senderId:"seller",text:"Ol! Sou o gestor da "+e.name+". Como posso ajudar? (Modo Demonstrao - Chat Simulado)",timestamp:"10:00"}]),x()},[e.id,n]),C.useEffect(()=>{x()},[r]);const x=()=>{var T;(T=m.current)==null||T.scrollIntoView({behavior:"smooth"})},S=async()=>{if(n){d(!0);try{const{data:T,error:k}=await Be.from("messages").select("*").or(`and(sender_id.eq.${n.id},receiver_id.eq.${e.id}),and(sender_id.eq.${e.id},receiver_id.eq.${n.id})`).order("created_at",{ascending:!0});if(k)throw k;if(T){const R=T.map(O=>({id:O.id,senderId:O.sender_id===n.id?"user":"seller",text:O.content,timestamp:new Date(O.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}));i(R)}}catch(T){console.error("Error fetching messages:",T)}finally{d(!1),x()}}},E=()=>{if(!n)return;const T=Be.channel(`chat:${n.id}:${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${n.id}`},k=>{if(k.new.sender_id===e.id){const R=k.new;i(O=>[...O,{id:R.id,senderId:"seller",text:R.content,timestamp:new Date(R.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])}}).subscribe();return()=>{Be.removeChannel(T)}},A=async()=>{if(o.trim())if(f&&n){const T={id:Date.now().toString(),senderId:"user",text:o,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};i(k=>[...k,T]),l("");try{const{error:k}=await Be.from("messages").insert({sender_id:n.id,receiver_id:e.id,content:T.text});k&&(console.error("Error sending message:",k),alert("Erro ao enviar mensagem"))}catch(k){console.error(k)}}else{const T={id:Date.now().toString(),senderId:"user",text:o,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};i(k=>[...k,T]),l(""),setTimeout(()=>{i(k=>[...k,{id:Date.now().toString(),senderId:"seller",text:"Obrigado pelo contacto! Isto  uma simulao offline.",timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},1500)}};return w.jsxs("div",{className:"min-h-screen bg-[#0B0B0B] text-white flex flex-col animate-in slide-in-from-bottom duration-300",children:[w.jsxs("header",{className:"h-16 bg-[#1A1A1A] border-b border-white/5 flex items-center px-4 justify-between sticky top-0 z-10",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("button",{onClick:t,className:"p-2 hover:bg-white/5 rounded-full",children:w.jsx(zs,{size:20})}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border border-white/10",children:w.jsx("img",{src:e.avatar,alt:e.name,className:"w-full h-full object-cover"})}),w.jsxs("div",{children:[w.jsxs("h4",{className:"text-sm font-bold flex items-center gap-2",children:[e.name,!f&&w.jsx("span",{className:"bg-white/10 text-[8px] px-1 rounded text-white/50",children:"DEMO"})]}),w.jsxs("p",{className:"text-[10px] text-[#00FF00] font-bold uppercase tracking-widest flex items-center gap-1",children:[w.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#00FF00] animate-pulse"}),"Online"]})]})]})]}),w.jsx("button",{className:"p-2 text-white/50 hover:text-white",children:w.jsx(JF,{size:20})})]}),w.jsxs("main",{className:"flex-grow p-4 space-y-4 overflow-y-auto no-scrollbar",children:[u&&w.jsx("div",{className:"flex justify-center py-4",children:w.jsx(tb,{className:"animate-spin text-[#FFD700]",size:24})}),!f&&w.jsxs("div",{className:"bg-[#FFD700]/10 border border-[#FFD700]/20 p-3 rounded-xl flex items-center gap-3",children:[w.jsx(uk,{size:16,className:"text-[#FFD700]"}),w.jsx("p",{className:"text-[10px] text-[#FFD700] leading-tight",children:"Voc est a visualizar um vendedor de demonstrao. O chat no est conectado ao servidor real."})]}),r.map(T=>w.jsx("div",{className:`flex ${T.senderId==="user"?"justify-end":"justify-start"}`,children:w.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl text-sm ${T.senderId==="user"?"bg-[#FFD700] text-black font-medium rounded-tr-none":"bg-[#1A1A1A] text-white rounded-tl-none border border-white/5"}`,children:[T.text,w.jsx("p",{className:`text-[8px] mt-1 ${T.senderId==="user"?"text-black/50":"text-white/30"}`,children:T.timestamp})]})},T.id)),w.jsx("div",{ref:m})]}),w.jsxs("footer",{className:"p-4 bg-[#0B0B0B] border-t border-white/10 flex items-center gap-2",children:[w.jsx("button",{className:"p-2 text-white/30 hover:text-white",children:w.jsx(nb,{size:24})}),w.jsxs("div",{className:"flex-grow bg-[#1A1A1A] h-12 rounded-2xl flex items-center px-4 gap-2 border border-white/5",children:[w.jsx("input",{type:"text",placeholder:"Mensagem...",className:"bg-transparent border-none outline-none flex-grow text-sm text-white",value:o,onChange:T=>l(T.target.value),onKeyDown:T=>T.key==="Enter"&&A()}),w.jsx("button",{className:"text-white/30",children:w.jsx(CF,{size:20})})]}),w.jsx("button",{onClick:A,className:"w-12 h-12 bg-[#FFD700] text-black rounded-2xl flex items-center justify-center hover:scale-105 active:scale-95 transition-all shadow-lg shadow-yellow-500/10",children:w.jsx(tB,{size:20})})]})]})},Tse=({user:e,onBack:t,onSuccess:n})=>{const[r,i]=C.useState(1),[o,l]=C.useState(!1),[u,d]=C.useState(null),[f,h]=C.useState(""),[m,y]=C.useState(""),[x,S]=C.useState(""),[E,A]=C.useState(""),[T,k]=C.useState(""),[R,O]=C.useState("Luanda"),[P,M]=C.useState(""),[D,F]=C.useState(""),[B,J]=C.useState(""),U=ie=>{if(d(null),ie===1){if(!f||f.length<3)return"O nome da loja deve ter pelo menos 3 caracteres";if(!m||m.length<10)return"A descrio deve ser mais detalhada (min. 10 caracteres)";if(!x)return"Selecione uma categoria"}if(ie===2){if(!/^\d{10}$/.test(E))return"Insira um NIF vlido com 10 dgitos (Padro AGT)";if(!T||T.length<5)return"Insira o nmero do seu Alvar Comercial"}if(ie===3){if(!P)return"O municpio  obrigatrio";if(!D)return"O endereo de rua  obrigatrio";if(!/^\d{9}$/.test(B))return"Insira um nmero de telefone comercial vlido (9 dgitos)"}return null},G=()=>{const ie=U(r);if(ie){d(ie);return}i(q=>q+1)},Z=async()=>{const ie=U(3);if(ie){d(ie);return}l(!0);try{const{error:q}=await Be.from("shops").insert({owner_id:e.id,name:f,description:m,nif:E,category:x,phone:B,status:"PENDING",is_verified:!1,physical_address:{province:R,municipality:P,street:D}});if(q)throw q;n()}catch(q){console.error("Error registering shop:",q),d(q.message||"Erro ao registrar loja. Tente novamente.")}finally{l(!1)}},Y=()=>w.jsx("div",{className:"flex justify-between items-center mb-10 px-4",children:[1,2,3,4].map(ie=>w.jsxs("div",{className:"flex items-center",children:[w.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-black text-xs transition-all ${r>=ie?"bg-[#FFD700] text-black shadow-lg shadow-yellow-500/20":"bg-[#1A1A1A] text-white/20 border border-white/5"}`,children:r>ie?w.jsx(nf,{size:16}):ie}),ie<4&&w.jsx("div",{className:`w-12 h-0.5 mx-2 ${r>ie?"bg-[#FFD700]":"bg-[#1A1A1A]"}`})]},ie))});return w.jsx("div",{className:"min-h-screen bg-[#0B0B0B] text-white p-6 pb-32",children:w.jsxs("div",{className:"max-w-md mx-auto space-y-8",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:t,className:"p-2 bg-[#1A1A1A] rounded-full hover:bg-white/10 transition-colors",children:w.jsx(zs,{size:20})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-black uppercase tracking-tighter",children:"Registo Profissional"}),w.jsx("p",{className:"text-[10px] text-white/40 uppercase font-black tracking-widest italic",children:"Padro de Segurana AngoPlace"})]})]}),Y(),w.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[u&&w.jsxs("div",{className:"bg-[#C00000]/10 border border-[#C00000]/30 text-[#C00000] px-4 py-3 rounded-2xl text-[10px] font-bold flex items-center gap-2 mb-6",children:[w.jsx(uk,{size:14})," ",u]}),r===1&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("h2",{className:"text-2xl font-black italic uppercase text-[#FFD700]",children:"Identidade da Loja"}),w.jsx("p",{className:"text-xs text-white/50",children:"Como os clientes vero o seu negcio."})]}),w.jsxs("div",{className:"space-y-4 pt-4",children:[w.jsxs("div",{className:"relative group",children:[w.jsx(bB,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-[#FFD700] transition-colors",size:18}),w.jsx("input",{type:"text",placeholder:"Nome Comercial da Loja",value:f,onChange:ie=>h(ie.target.value),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm"})]}),w.jsx("div",{className:"relative group",children:w.jsx("textarea",{placeholder:"Descrio do Negcio (O que vendem?)",rows:4,value:m,onChange:ie=>y(ie.target.value),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 px-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm resize-none"})}),w.jsxs("select",{value:x,onChange:ie=>S(ie.target.value),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 px-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm appearance-none",children:[w.jsx("option",{value:"",children:"Selecionar Categoria do Negcio"}),w.jsx("option",{value:"ELECTRONICS",children:"Eletrnicos e Tecnologia"}),w.jsx("option",{value:"FASHION",children:"Moda e Acessrios"}),w.jsx("option",{value:"HOME",children:"Casa e Decorao"}),w.jsx("option",{value:"AUTO",children:"Automveis e Peas"}),w.jsx("option",{value:"SERVICES",children:"Prestao de Servios"})]})]})]}),r===2&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("h2",{className:"text-2xl font-black italic uppercase text-[#FFD700]",children:"Legalidade e Impostos"}),w.jsx("p",{className:"text-xs text-white/50",children:"Documentao necessria para verificao AGT."})]}),w.jsxs("div",{className:"space-y-4 pt-4",children:[w.jsxs("div",{className:"relative group",children:[w.jsx(fk,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-[#FFD700] transition-colors",size:18}),w.jsx("input",{type:"text",maxLength:10,placeholder:"NIF (Nmero de Identificao Fiscal)",value:E,onChange:ie=>A(ie.target.value.replace(/\D/g,"")),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm"})]}),w.jsxs("div",{className:"relative group",children:[w.jsx(oo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-[#FFD700] transition-colors",size:18}),w.jsx("input",{type:"text",placeholder:"Nmero do Alvar Comercial",value:T,onChange:ie=>k(ie.target.value),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm"})]}),w.jsxs("div",{className:"p-4 bg-white/5 rounded-2xl border border-white/5 space-y-3",children:[w.jsxs("div",{className:"flex items-center gap-2 text-[#FFD700]",children:[w.jsx(xk,{size:16}),w.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Upload de Documento (Opcional)"})]}),w.jsx("p",{className:"text-[9px] text-white/30 uppercase leading-relaxed",children:"Pode anexar o PDF do seu Alvar para uma verificao mais rpida pela nossa equipa de compliance."})]})]})]}),r===3&&w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"space-y-1",children:[w.jsx("h2",{className:"text-2xl font-black italic uppercase text-[#FFD700]",children:"Localizao e Contacto"}),w.jsx("p",{className:"text-xs text-white/50",children:"Onde a sua loja est fisicamente sediada."})]}),w.jsxs("div",{className:"space-y-4 pt-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("select",{value:R,onChange:ie=>O(ie.target.value),className:"bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 px-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm",children:[w.jsx("option",{value:"Luanda",children:"Luanda"}),w.jsx("option",{value:"Benguela",children:"Benguela"}),w.jsx("option",{value:"Huambo",children:"Huambo"}),w.jsx("option",{value:"Hula",children:"Hula"})]}),w.jsx("input",{type:"text",placeholder:"Municpio",value:P,onChange:ie=>M(ie.target.value),className:"bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 px-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm"})]}),w.jsxs("div",{className:"relative group",children:[w.jsx(k0,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/20 group-focus-within:text-[#FFD700] transition-colors",size:18}),w.jsx("input",{type:"text",placeholder:"Endereo (Rua, Bairro, Edifcio)",value:D,onChange:ie=>F(ie.target.value),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 pl-12 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm"})]}),w.jsxs("div",{className:"relative group",children:[w.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#FFD700] font-black text-sm",children:"+244"}),w.jsx("input",{type:"tel",maxLength:9,placeholder:"Telefone Comercial",value:B,onChange:ie=>J(ie.target.value.replace(/\D/g,"")),className:"w-full bg-[#1A1A1A] border border-white/5 rounded-2xl py-4 pl-14 pr-4 outline-none focus:border-[#FFD700] transition-all font-bold text-sm"})]})]})]}),r===4&&w.jsxs("div",{className:"space-y-6 text-center py-10",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-[#FFD700]/10 rounded-full border border-[#FFD700]/20 text-[#FFD700] mb-4",children:w.jsx(Y5,{size:40})}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("h2",{className:"text-3xl font-black italic uppercase",children:"Tudo em conformidade"}),w.jsx("p",{className:"text-xs text-white/50 max-w-[280px] mx-auto",children:"Ao submeter, a nossa equipa revisar os dados fiscais e de localizao num prazo de 24h a 48h."})]}),w.jsxs("div",{className:"bg-[#1A1A1A] p-6 rounded-3xl border border-white/5 text-left space-y-4",children:[w.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase border-b border-white/5 pb-2",children:[w.jsx("span",{className:"text-white/40",children:"Loja"}),w.jsx("span",{className:"text-[#FFD700]",children:f})]}),w.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase border-b border-white/5 pb-2",children:[w.jsx("span",{className:"text-white/40",children:"NIF"}),w.jsx("span",{children:E})]}),w.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black uppercase",children:[w.jsx("span",{className:"text-white/40",children:"Local"}),w.jsxs("span",{children:[R,", ",P]})]})]}),w.jsxs("div",{className:"flex items-center gap-2 p-4 bg-[#FFD700]/5 rounded-2xl border border-[#FFD700]/10 text-left",children:[w.jsx("div",{className:"p-2 bg-[#FFD700]/10 rounded-lg text-[#FFD700]",children:w.jsx(oo,{size:20})}),w.jsx("p",{className:"text-[9px] text-white/60 leading-tight",children:'Ao clicar em "Finalizar Registo", declara que as informaes so verdadeiras nos termos da lei angolana.'})]})]}),w.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-[#0B0B0B] via-[#0B0B0B] to-transparent",children:[r<4?w.jsxs("button",{onClick:G,className:"w-full bg-[#FFD700] text-black h-16 rounded-2xl font-black uppercase text-sm tracking-widest flex items-center justify-center gap-2 hover:bg-white active:scale-95 transition-all shadow-xl shadow-yellow-500/10",children:["Prximo Passo ",w.jsx(eb,{size:20})]}):w.jsxs("button",{disabled:o,onClick:Z,className:"w-full bg-[#FFD700] text-black h-16 rounded-2xl font-black uppercase text-sm tracking-widest flex items-center justify-center gap-2 hover:bg-white active:scale-95 transition-all shadow-xl shadow-yellow-500/10 disabled:opacity-50",children:[o?"A Processar Verificao...":"Finalizar e Solicitar Abertura",!o&&w.jsx(nf,{size:20})]}),w.jsx("p",{className:"text-center mt-4 text-[8px] text-white/20 uppercase font-black tracking-[0.3em]",children:"Protocolo de Segurana AngoPlace  Luanda 2026"})]})]})]})})},Cse=()=>w.jsx(M5,{children:w.jsx(Nse,{})}),Nse=()=>{const{user:e,loading:t}=Zy(),[n,r]=C.useState(()=>localStorage.getItem("ango_current_screen")||Se.HOME),[i,o]=C.useState(null),[l,u]=C.useState(null),[d,f]=C.useState("");C.useEffect(()=>{t||e&&n===Se.AUTH&&r(Se.HOME)},[e,t,n]),C.useEffect(()=>{n!==Se.AUTH&&localStorage.setItem("ango_current_screen",n)},[n]);const h=A=>{o(A),r(Se.PRODUCT_DETAILS)},m=A=>{if(!e){r(Se.AUTH);return}const T=Xa.find(k=>k.id===A)||Xa[0];u(T),r(Se.CHAT_ROOM)},y=A=>{A&&f(A),r(Se.SEARCH)},x=(A,T="success")=>{const k=document.createElement("div");k.className=`fixed top-24 right-4 z-[9999] px-6 py-3 rounded-2xl font-bold shadow-2xl animate-in slide-in-from-right fade-in duration-300 ${T==="success"?"bg-[#FFD700] text-black border border-white/20":"bg-[#C00000] text-white border border-white/10"}`,k.textContent=A,document.body.appendChild(k),setTimeout(()=>{k.classList.add("fade-out","slide-out-to-right"),setTimeout(()=>k.remove(),300)},3e3)},S=()=>{if(t)return w.jsx("div",{className:"flex h-screen items-center justify-center text-[#FFD700]",children:"Carregando..."});const A=[Se.PROFILE,Se.ADMIN,Se.SUBMIT_PRODUCT,Se.CHAT_ROOM];if(!e&&A.includes(n))return w.jsx(BR,{});if(n===Se.AUTH)return w.jsx(BR,{});switch(n){case Se.HOME:return w.jsx(oT,{onProductClick:h});case Se.CATEGORIES:return w.jsx($8,{});case Se.CART:return w.jsx(H8,{});case Se.PROFILE:return w.jsx(G8,{user:e,onAdmin:()=>r(Se.ADMIN),onLogout:()=>{r(Se.HOME)},onSell:()=>r(Se.SUBMIT_PRODUCT),onRegisterShop:()=>r(Se.SHOP_REGISTRATION)});case Se.ADMIN:return e?w.jsx(wse,{user:e,onBack:()=>r(Se.PROFILE)}):null;case Se.SEARCH:return w.jsx(_se,{initialQuery:d,onBack:()=>{f(""),r(Se.HOME)},onProductClick:h});case Se.SUBMIT_PRODUCT:return e?w.jsx(Sse,{onBack:()=>r(Se.PROFILE),user:e}):null;case Se.PRODUCT_DETAILS:return i?w.jsx(Ese,{product:i,onBack:()=>r(Se.HOME),onAddToCart:()=>r(Se.CART),onChatWithSeller:m,onOpenSeller:T=>{}}):null;case Se.CHAT_ROOM:return l&&e?w.jsx(Ase,{seller:l,onBack:()=>r(Se.PRODUCT_DETAILS)}):null;case Se.SHOP_REGISTRATION:return e?w.jsx(Tse,{user:e,onBack:()=>r(Se.PROFILE),onSuccess:()=>{x("Solicitao de Loja Submetida!","success"),r(Se.PROFILE)}}):null;default:return w.jsx(oT,{onProductClick:h})}},E=[Se.ADMIN,Se.SEARCH,Se.SUBMIT_PRODUCT,Se.PRODUCT_DETAILS,Se.CHAT_ROOM,Se.AUTH].includes(n);return w.jsx(QL,{children:w.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0B0B0B] text-white",children:[!E&&w.jsx(z8,{onSearchClick:y,onSellClick:()=>r(Se.SUBMIT_PRODUCT),onCartClick:()=>r(Se.CART),onLogoClick:()=>r(Se.HOME),onLoginClick:()=>r(Se.AUTH),user:e}),w.jsx("main",{className:`flex-grow ${E?"":"pb-20 pt-20"}`,children:S()}),!E&&w.jsx(q8,{activeScreen:n,onNavigate:r})]})})},mU=document.getElementById("root");if(!mU)throw new Error("Could not find root element to mount to");const Rse=XL.createRoot(mU);Rse.render(w.jsx(zR.StrictMode,{children:w.jsx(Cse,{})}));
